{"ast":null,"code":"import axios from \"axios\";\nimport { nextTick } from \"vue\";\nimport ProductCard from \"./components/ProductCard.vue\";\nimport LoadingView from \"./components/LoadingView.vue\";\nimport SearchProductCard from \"./components/SearchProductCard.vue\";\nimport SearchAutoComplete from \"./components/SearchAutoComplete.vue\";\nexport default {\n  components: {\n    ProductCard,\n    LoadingView,\n    SearchAutoComplete,\n    SearchProductCard\n  },\n\n  data() {\n    return {\n      items: [],\n      cart: {\n        cartItems: []\n      },\n      wishlist: {\n        wishlistItems: []\n      },\n      quantity: 1,\n      shippingCost: 0,\n      token: \"\",\n      isAuthenticated: false,\n      productDetails: [],\n      searchItem: [],\n      productSearch: \"\",\n      loggedOut: \"USER ACCOUNT\",\n      subscribedEmails: [],\n      loader: \"none\",\n      loaderIndex: 1,\n      customersArray: [],\n      custArray: [],\n      couponArr: [],\n      coupon_code: \"\",\n      couponCodes: [],\n      coupon_amount: 0,\n      cartTotal: 0\n    };\n  },\n\n  beforeMount() {\n    this.$store.commit(\"initializeStore\");\n    this.$store.commit(\"reloadingPage\"); // this.$store.commit('removeFromCart');\n    // this.$store.commit('removeFromWishlist');\n\n    const token = this.$store.state.token;\n\n    if (token) {\n      axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n    } else {\n      axios.defaults.headers.common[\"Authorization\"] = \"\";\n    }\n\n    this.cart = this.$store.state.cart;\n    this.wishlist = this.$store.state.wishlist;\n    this.isAuthenticated = this.$store.state.isAuthenticated;\n  },\n\n  mounted() {\n    this.getUserDetails(); // this.$store.commit(\"clearSearch\");\n    // this.$store.commit(\"clearProductDetails\");\n  },\n\n  updated() {\n    this.productSearch = localStorage.getItem(\"productSearch\");\n\n    if (this.$store.state.isProductSearched) {\n      this.getSearchedProduct();\n      this.$store.state.isProductSearched = false;\n      this.$store.commit(\"searchForItem\");\n      this.$router.push(\"/search\");\n    }\n\n    this.$store.state.searchItems = this.searchItems;\n  },\n\n  computed: {\n    totalQuantity() {\n      let itemQuantity = 0;\n\n      for (let i = 0; i < this.cart.cartItems.length; i++) {\n        itemQuantity += this.cart.cartItems[i].quantity;\n      }\n\n      return itemQuantity;\n    },\n\n    totalWishlistQuantity() {\n      let itemQuantity = 0;\n\n      for (let i = 0; i < this.wishlist.wishlistItems.length; i++) {\n        itemQuantity += this.wishlist.wishlistItems[i].quantity;\n      }\n\n      return itemQuantity;\n    },\n\n    cartItemTotal() {\n      let itemTotal = [];\n\n      for (let i = 0; i < this.cart.cartItems.length; i++) {\n        let lineTotal = (this.cart.cartItems[i].quantity * this.cart.cartItems[i].items.price).toFixed(2);\n        itemTotal.push(lineTotal);\n      }\n\n      return itemTotal;\n    },\n\n    wishlistItemTotal() {\n      let itemTotal = [];\n\n      for (let i = 0; i < this.wishlist.wishlistItems.length; i++) {\n        let lineTotal = (this.wishlist.wishlistItems[i].quantity * this.wishlist.wishlistItems[i].items.price).toFixed(2);\n        itemTotal.push(lineTotal);\n      }\n\n      return itemTotal;\n    },\n\n    cartSubTotal() {\n      let itemTotal = [];\n      let cartTotal = 0;\n\n      for (let i = 0; i < this.cart.cartItems.length; i++) {\n        let lineTotal = (this.cart.cartItems[i].quantity * this.cart.cartItems[i].items.price).toFixed(2);\n        itemTotal.push(parseFloat(lineTotal));\n        cartTotal = itemTotal.reduce(function (a, b) {\n          return a + b;\n        });\n      }\n\n      return cartTotal;\n    },\n\n    wishlistSubTotal() {\n      let itemTotal = [];\n      let wishlistTotal = 0;\n\n      for (let i = 0; i < this.wishlist.wishlistItems.length; i++) {\n        let lineTotal = (this.wishlist.wishlistItems[i].quantity * this.wishlist.wishlistItems[i].items.price).toFixed(2);\n        itemTotal.push(parseFloat(lineTotal));\n        wishlistTotal = itemTotal.reduce(function (a, b) {\n          return a + b;\n        });\n      }\n\n      return wishlistTotal;\n    },\n\n    cartGrandTotal() {\n      return parseFloat(this.cartSubTotal) + this.shippingCost;\n    },\n\n    cartTotalUSD() {\n      return (parseFloat(this.cartGrandTotal) / 110).toFixed(2);\n    },\n\n    wishlistGrandTotal() {\n      return parseFloat(this.wishlistSubTotal) + this.shippingCost;\n    },\n\n    userDetails() {\n      return this.$store.state.loggedInUser;\n    }\n\n  },\n  methods: {\n    async getProducts() {\n      await this.axios.get(\"/api/v1/latest-products/\").then(response => {\n        this.items = response.data;\n\n        for (let i = 0; i < this.items.length; i++) {\n          this.prodID = this.items[i].id;\n        }\n\n        return this.prodID;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    addToCart() {\n      //Getting the index of the items in the cart\n      let selectedItem = arguments[0];\n\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const cartItem = {\n        items: this.items[selectedItem],\n        quantity: this.quantity\n      };\n      this.$store.commit(\"addToCart\", cartItem);\n      this.$toast.success(`${this.items[selectedItem].name} added to cart`);\n    },\n\n    searchAddToCart() {\n      //Getting the index of the items in the cart\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const cartItem = {\n        items: this.searchItem,\n        quantity: this.quantity\n      };\n      this.$store.commit(\"addToCart\", cartItem);\n      console.log(this.searchItem);\n      this.$toast.success(`${this.searchItem.name} added to cart`);\n    },\n\n    async getSearchedProduct() {\n      this.showLoader();\n      this.productSearch = localStorage.getItem(\"productSearch\"); // console.log(\"the searched product is \", this.productSearch);\n\n      this.$store.state.searchItem = [];\n      await this.axios.get(`api/v1/latest-products/${this.productSearch}/`).then(response => {\n        this.searchItem = response.data;\n        console.log(\"Search Item Array\", this.searchItem);\n        this.$store.state.searchItem.push(this.searchItem);\n        this.$store.commit(\"setSearchItem\");\n        this.$router.push(\"/search\");\n        this.$store.commit(\"reloadingPage\");\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {\n        this.hideLoader();\n      });\n    },\n\n    buyNow() {\n      let selectedItem = arguments[0];\n\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const cartItem = {\n        items: this.items[selectedItem],\n        quantity: this.quantity\n      };\n      this.$store.commit(\"addToCart\", cartItem);\n      this.$router.push(\"/checkout\");\n      this.scrollToTop();\n    },\n\n    searchBuyNow() {\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const cartItem = {\n        items: this.searchItem,\n        quantity: this.quantity\n      };\n      this.$store.commit(\"addToCart\", cartItem);\n      this.$router.push(\"/checkout\");\n      this.scrollToTop();\n    },\n\n    addToWishlist() {\n      //Getting the index of the items in the wishlist\n      let selectedItem = arguments[0];\n\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const wishlistItem = {\n        items: this.items[selectedItem],\n        quantity: this.quantity\n      };\n      this.$store.commit(\"addToWishlist\", wishlistItem);\n      this.$toast.success(`${this.items[selectedItem].name} added to wishlist`);\n    },\n\n    searchAddToWishlist() {\n      //Getting the index of the items in the wishlist\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const wishlistItem = {\n        items: this.searchItem,\n        quantity: this.quantity\n      };\n      this.$store.commit(\"addToWishlist\", wishlistItem);\n      this.$toast.success(`${this.searchItem.name} added to wishlist`);\n    },\n\n    getUserDetails() {\n      this.$store.dispatch(\"getUserDetails\").then(response => {}).catch(error => {\n        console.error(error);\n      });\n    },\n\n    getProductDetails(productID) {\n      this.$store.commit(\"clearProductDetails\");\n      this.axios.get(`/api/v1/latest-products/${productID}/`).then(response => {\n        this.productDetails = response.data;\n        this.$store.state.detailProducts.push(this.productDetails);\n        this.$store.commit(\"setProductDetails\");\n        this.$router.push(\"/product-detail\");\n        this.scrollToTop();\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {\n        this.scrollToTop();\n      });\n    },\n\n    scrollToTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    },\n\n    getSubscribedEmails() {\n      this.axios.get(\"api/v1/newsletter-emails/\").then(response => {\n        this.subscribedEmails = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    // Loader Methods\n    showLoader() {\n      this.loader = \"block\";\n      this.loaderIndex = -1;\n    },\n\n    hideLoader() {\n      this.loader = \"none\";\n      this.loaderIndex = 1;\n    },\n\n    getAllCustomers() {\n      this.axios.get(\"api/v1/user-list/\").then(response => {\n        this.custArray = response.data;\n\n        for (let i = 0; i < this.custArray.length; i++) {\n          this.customersArray.push(this.custArray[i]);\n        }\n      }).catch(error => {}).finally(() => {});\n    },\n\n    applyCouponCode(coupon) {\n      this.couponArr = [];\n\n      if (coupon != \"\") {\n        this.axios.get(\"/api/v1/coupons/\").then(response => {\n          this.couponArr = response.data;\n\n          for (let i = 0; i < this.couponArr.length; i++) {\n            this.couponCodes.push(this.couponArr[i]);\n          }\n\n          return this.couponCodes;\n        }).catch(error => {\n          console.log(error.message);\n        }).finally(() => {\n          for (let i = 0; i < this.couponCodes.length; i++) {\n            if (this.couponCodes[i].coupon_code == this.coupon_code && this.couponCodes[i].activation_status == true) {\n              this.coupon_amount = this.couponCodes[i].coupon_amount;\n              this.cartTotal = this.cartGrandTotal - this.coupon_amount;\n              this.coupon_code = \"\";\n            } else {\n              this.coupon_amount = 0;\n              this.$toast.error(\"Invalid Coupon Code\", {\n                duration: 3000\n              });\n              this.coupon_code = \"\";\n            }\n          }\n        });\n      } else {\n        this.$toast.error(\"Please Enter A Coupon Code\", {\n          duration: 3000\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","nextTick","ProductCard","LoadingView","SearchProductCard","SearchAutoComplete","components","data","items","cart","cartItems","wishlist","wishlistItems","quantity","shippingCost","token","isAuthenticated","productDetails","searchItem","productSearch","loggedOut","subscribedEmails","loader","loaderIndex","customersArray","custArray","couponArr","coupon_code","couponCodes","coupon_amount","cartTotal","beforeMount","$store","commit","state","defaults","headers","common","mounted","getUserDetails","updated","localStorage","getItem","isProductSearched","getSearchedProduct","$router","push","searchItems","computed","totalQuantity","itemQuantity","i","length","totalWishlistQuantity","cartItemTotal","itemTotal","lineTotal","price","toFixed","wishlistItemTotal","cartSubTotal","parseFloat","reduce","a","b","wishlistSubTotal","wishlistTotal","cartGrandTotal","cartTotalUSD","wishlistGrandTotal","userDetails","loggedInUser","methods","getProducts","get","then","response","prodID","id","catch","error","console","log","addToCart","selectedItem","arguments","isNaN","cartItem","$toast","success","name","searchAddToCart","showLoader","finally","hideLoader","buyNow","scrollToTop","searchBuyNow","addToWishlist","wishlistItem","searchAddToWishlist","dispatch","getProductDetails","productID","detailProducts","window","scrollTo","top","behavior","getSubscribedEmails","getAllCustomers","applyCouponCode","coupon","message","activation_status","duration"],"sourceRoot":"","sources":["/home/sammyb/gee_collections/gee_collections_vue/src/App.vue"],"sourcesContent":["<template>\n\n  <!-- Loading Animation for Printing Invoice -->\n  <LoadingView\n    :loader=\"loader\"\n    :showLoader=\"showLoader\"\n    :hideLoader=\"hideLoader\"\n  />\n  \n  <div class=\"\">\n  <!-- Top bar Start -->\n  <div class=\"top-bar\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-sm-6\">\n          <i class=\"fa fa-envelope\"></i>\n          otisamueloti@gmail.com\n        </div>\n        <div class=\"col-sm-6\">\n          <i class=\"fa fa-phone-alt\"></i>\n          +254-717-423-651\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Top bar End -->\n\n  <!-- Nav Bar Start -->\n  <div class=\"nav\">\n    <div class=\"container-fluid\">\n      <nav class=\"navbar navbar-expand-md bg-dark navbar-dark\">\n        <router-link to=\"#\" class=\"navbar-brand\">MENU</router-link>\n        <button\n          type=\"button\"\n          class=\"navbar-toggler\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarCollapse\"\n        >\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div class=\"collapse navbar-collapse justify-content-between\" id=\"navbarCollapse\">\n          <div class=\"navbar-nav mr-auto\">\n            <router-link to=\"/\" class=\"nav-item nav-link\">Home</router-link>\n            <router-link to=\"/products\" class=\"nav-item nav-link\">Products</router-link>\n            <router-link\n              to=\"product-detail\"\n              class=\"nav-item nav-link\"\n              v-if=\"productDetails.length\"\n              >Product Detail</router-link\n            >\n            <router-link to=\"/cart\" class=\"nav-item nav-link\">Cart</router-link>\n            <router-link\n              to=\"/checkout\"\n              class=\"nav-item nav-link\"\n              v-if=\"this.cart.cartItems.length\"\n              >Checkout</router-link\n            >\n            <router-link to=\"/my-account\" class=\"nav-item nav-link\"\n              >My Account</router-link\n            >\n            <div class=\"nav-item dropdown\">\n              <router-link to=\"#\" class=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\"\n                >More Pages</router-link\n              >\n              <div class=\"dropdown-menu\">\n                <router-link to=\"/wishlist\" class=\"dropdown-item\">Wishlist</router-link>\n                <router-link to=\"/contact\" class=\"dropdown-item\">Contact Us</router-link>\n              </div>\n            </div>\n          </div>\n          <div class=\"navbar-nav ml-auto\" v-if=\"!isAuthenticated\">\n            <div class=\"nav-item dropdown\">\n              <router-link\n                to=\"#\"\n                class=\"nav-link dropdown-toggle\"\n                data-toggle=\"dropdown\"\n                >{{ loggedOut }}</router-link\n              >\n              <div class=\"dropdown-menu\">\n                <router-link to=\"/login\" class=\"dropdown-item\">Login</router-link>\n                <router-link to=\"/register\" class=\"dropdown-item\">Register</router-link>\n              </div>\n            </div>\n          </div>\n          <div class=\"navbar-nav ml-auto\" v-if=\"isAuthenticated\">\n            <div class=\"nav-item dropdown\">\n              <router-link to=\"#\" class=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\"\n                >WELCOME,{{ userDetails.email }}</router-link\n              >\n              <div class=\"dropdown-menu\">\n                <router-link to=\"/logout\" class=\"dropdown-item\">Logout</router-link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nav>\n    </div>\n  </div>\n  <!-- Nav Bar End -->\n\n  <!-- Bottom Bar Start -->\n  <div class=\"bottom-bar\">\n    <div class=\"container-fluid\">\n      <div class=\"row align-items-center\">\n        <div class=\"col-md-3\">\n          <div class=\"logo\">\n            <router-link to=\"/\">\n              <img src=\"@/assets/img/new-logo.png\" alt=\"Logo\" class=\"new-logo\" />\n            </router-link>\n          </div>\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"search\">\n            <!-- <input type=\"text\" placeholder=\"Search\"> -->\n            <SearchAutoComplete :items=\"items\" />\n            <button><i class=\"fa fa-search\"></i></button>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"user\">\n            <router-link to=\"/wishlist\" class=\"btn wishlist\">\n              <i class=\"fa fa-heart\"></i>\n              <span>({{ totalWishlistQuantity }})</span>\n            </router-link>\n            <router-link to=\"/cart\" class=\"btn cart\">\n              <i class=\"fa fa-shopping-cart\"></i>\n              <span>({{ totalQuantity }})</span>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Bottom Bar End -->\n  <router-view\n    :getProducts=\"getProducts\"\n    :items=\"items\"\n    :productDetails=\"productDetails\"\n    :wishlist=\"wishlist.wishlistItems\"\n    :cart=\"cart.cartItems\"\n    :addToCart=\"addToCart\"\n    :buyNow=\"buyNow\"\n    :addToWishlist=\"addToWishlist\"\n    :totalQuantity=\"totalQuantity\"\n    :totalWishlistQuantity=\"totalWishlistQuantity\"\n    :cartSubTotal=\"cartSubTotal\"\n    :wishlistSubTotal=\"wishlistSubTotal\"\n    :cartItemTotal=\"cartItemTotal\"\n    :wishlistItemTotal=\"wishlistItemTotal\"\n    :cartGrandTotal=\"cartGrandTotal\"\n    :cartTotalUSD=\"cartTotalUSD\"\n    :wishlistGrandTotal=\"wishlistGrandTotal\"\n    :shippingCost=\"shippingCost\"\n    :token=\"token\"\n    :isAuthenticated=\"isAuthenticated\"\n    :getUserDetails=\"getUserDetails\"\n    :getProductDetails=\"getProductDetails\"\n    :userDetails=\"userDetails\"\n    :scrollToTop=\"scrollToTop\"\n    :searchItem=\"searchItem\"\n    :productSearch=\"productSearch\"\n    :getSearchedProduct=\"getSearchedProduct\"\n    :searchAddToCart=\"searchAddToCart\"\n    :searchAddToWishlist=\"searchAddToWishlist\"\n    :searchBuyNow=\"searchBuyNow\"\n    :loggedOut=\"loggedOut\"\n    :getSubscribedEmails=\"getSubscribedEmails\"\n    :subscribedEmails=\"subscribedEmails\"\n    :loader=\"loader\"\n    :showLoader=\"showLoader\"\n    :hideLoader=\"hideLoader\"\n    :loaderIndex=\"loaderIndex\"\n    :getAllCustomers=\"getAllCustomers\"\n    :customersArray=\"customersArray\"\n    :couponArr=\"couponArr\"\n    :coupon_code=\"coupon_code\"\n    :couponCodes=\"couponCodes\"\n    :coupon_amount=\"coupon_amount\"\n    :cartTotal=\"cartTotal\"\n    :applyCouponCode=\"applyCouponCode\"\n  />\n  <!-- <p>{{ isIdle }}</p> -->\n  <!-- Footer Start -->\n  <div class=\"footer\">\n    <div class=\"container-fluid\">\n      <div class=\"row\">\n        <div class=\"col-lg-3 col-md-6\">\n          <div class=\"footer-widget\">\n            <h2>Get in Touch</h2>\n            <div class=\"contact-info\">\n              <p><i class=\"fa fa-map-marker\"></i>Opposite Jamia Mosque, Siaya</p>\n              <p>\n                <a href=\"http://www.gmail.com\" target=\"blank\"\n                  ><i class=\"fa fa-envelope\"></i>otisamueloti@gmail.com</a\n                >\n              </p>\n              <p><i class=\"fa fa-phone\"></i>+254-717-423-651</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"col-lg-3 col-md-6\">\n          <div class=\"footer-widget\">\n            <h2>Follow Us</h2>\n            <div class=\"contact-info\">\n              <div class=\"social\">\n                <a href=\"http://www.twitter.com\" title=\"Twitter\" target=\"blank\"\n                  ><i class=\"fab fa-twitter\"></i\n                ></a>\n                <a\n                  href=\"http://www.facebook.com/grace.adhiambo.1\"\n                  title=\"Facebook\"\n                  target=\"blank\"\n                  ><i class=\"fab fa-facebook-f\"></i\n                ></a>\n                <a href=\"http://www.linkedin.com\" title=\"LinkedIn\" target=\"blank\"\n                  ><i class=\"fab fa-linkedin-in\"></i\n                ></a>\n                <a href=\"http://www.instagram.com\" title=\"Instagram\" target=\"blank\"\n                  ><i class=\"fab fa-instagram\"></i\n                ></a>\n                <a href=\"http://www.youtube.com\" title=\"YouTube\" target=\"blank\"\n                  ><i class=\"fab fa-youtube\"></i\n                ></a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"col-lg-3 col-md-6\">\n          <div class=\"footer-widget\">\n            <h2>Company Info</h2>\n            <ul>\n              <li><router-link to=\"#\">About Us</router-link></li>\n              <li><router-link to=\"#\">Privacy Policy</router-link></li>\n              <li><router-link to=\"#\">Terms & Conditions</router-link></li>\n            </ul>\n          </div>\n        </div>\n\n        <div class=\"col-lg-3 col-md-6\">\n          <div class=\"footer-widget\">\n            <h2>Purchase Info</h2>\n            <ul>\n              <li><router-link to=\"#\">Payment Policy</router-link></li>\n              <li><router-link to=\"#\">Shipping Policy</router-link></li>\n              <li><router-link to=\"#\">Return Policy</router-link></li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row payment align-items-center\">\n        <div class=\"col-md-6\">\n          <div class=\"flex payment-method\">\n            <h2>We Accept:</h2>\n            <img\n              src=\"@/assets/img/payment-method.png\"\n              style=\"width: inherit\"\n              alt=\"Payment Method\"\n            />\n          </div>\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"flex payment-security\">\n            <h2>Secured By:</h2>\n            <img\n              src=\"@/assets/img/godaddy.svg\"\n              style=\"width: inherit\"\n              alt=\"Payment Security\"\n            />\n            <img\n              src=\"@/assets/img/norton.svg\"\n              style=\"width: inherit\"\n              alt=\"Payment Security\"\n            />\n            <img\n              src=\"@/assets/img/ssl.svg\"\n              style=\"width: inherit\"\n              alt=\"Payment Security\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Footer End -->\n\n  <!-- Footer Bottom Start -->\n  <div class=\"footer-bottom\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-6 copyright\">\n          <p>\n            Copyright &copy;\n            <router-link to=\"#\" style=\"color: white !important\">SammyB</router-link>. All\n            Rights Reserved\n          </p>\n        </div>\n\n        <div class=\"col-md-6 template-by\">\n          <p>\n            Template By\n            <router-link to=\"#\" style=\"color: white !important\">SammyB</router-link>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Footer Bottom End -->\n\n  <!-- Back to Top -->\n  <router-link to=\"#\" @click=\"scrollToTop()\" class=\"animate-bounce back-to-top\"\n    ><i class=\"fa fa-chevron-up\"></i\n  ></router-link>\n\n</div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { nextTick } from \"vue\";\nimport ProductCard from \"./components/ProductCard.vue\";\nimport LoadingView from \"./components/LoadingView.vue\";\nimport SearchProductCard from \"./components/SearchProductCard.vue\";\nimport SearchAutoComplete from \"./components/SearchAutoComplete.vue\";\nexport default {\n  components: {\n    ProductCard,\n    LoadingView,\n    SearchAutoComplete,\n    SearchProductCard,\n  },\n  data() {\n    return {\n      items: [],\n      cart: {\n        cartItems: [],\n      },\n      wishlist: {\n        wishlistItems: [],\n      },\n      quantity: 1,\n      shippingCost: 0,\n      token: \"\",\n      isAuthenticated: false,\n      productDetails: [],\n      searchItem: [],\n      productSearch: \"\",\n      loggedOut: \"USER ACCOUNT\",\n      subscribedEmails: [],\n      loader: \"none\",\n      loaderIndex: 1,\n      customersArray: [],\n      custArray: [],\n      couponArr : [],\n      coupon_code: \"\",\n      couponCodes: [],\n      coupon_amount: 0,\n      cartTotal: 0,\n    };\n  },\n  beforeMount() {\n    this.$store.commit(\"initializeStore\");\n    this.$store.commit(\"reloadingPage\");\n    // this.$store.commit('removeFromCart');\n    // this.$store.commit('removeFromWishlist');\n\n    const token = this.$store.state.token;\n    if (token) {\n      axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n    } else {\n      axios.defaults.headers.common[\"Authorization\"] = \"\";\n    }\n    this.cart = this.$store.state.cart;\n    this.wishlist = this.$store.state.wishlist;\n    this.isAuthenticated = this.$store.state.isAuthenticated;\n  },\n  mounted() {\n    this.getUserDetails();\n    // this.$store.commit(\"clearSearch\");\n    // this.$store.commit(\"clearProductDetails\");\n  },\n  updated() {\n    this.productSearch = localStorage.getItem(\"productSearch\");\n    if (this.$store.state.isProductSearched) {\n      this.getSearchedProduct();\n      this.$store.state.isProductSearched = false;\n      this.$store.commit(\"searchForItem\");\n      this.$router.push(\"/search\");\n    }\n\n    this.$store.state.searchItems = this.searchItems;\n  },\n  computed: {\n    totalQuantity() {\n      let itemQuantity = 0;\n\n      for (let i = 0; i < this.cart.cartItems.length; i++) {\n        itemQuantity += this.cart.cartItems[i].quantity;\n      }\n      return itemQuantity;\n    },\n    totalWishlistQuantity() {\n      let itemQuantity = 0;\n\n      for (let i = 0; i < this.wishlist.wishlistItems.length; i++) {\n        itemQuantity += this.wishlist.wishlistItems[i].quantity;\n      }\n      return itemQuantity;\n    },\n    cartItemTotal() {\n      let itemTotal = [];\n      for (let i = 0; i < this.cart.cartItems.length; i++) {\n        let lineTotal = (\n          this.cart.cartItems[i].quantity * this.cart.cartItems[i].items.price\n        ).toFixed(2);\n        itemTotal.push(lineTotal);\n      }\n      return itemTotal;\n    },\n    wishlistItemTotal() {\n      let itemTotal = [];\n      for (let i = 0; i < this.wishlist.wishlistItems.length; i++) {\n        let lineTotal = (\n          this.wishlist.wishlistItems[i].quantity *\n          this.wishlist.wishlistItems[i].items.price\n        ).toFixed(2);\n        itemTotal.push(lineTotal);\n      }\n      return itemTotal;\n    },\n    cartSubTotal() {\n      let itemTotal = [];\n      let cartTotal = 0;\n      for (let i = 0; i < this.cart.cartItems.length; i++) {\n        let lineTotal = (\n          this.cart.cartItems[i].quantity * this.cart.cartItems[i].items.price\n        ).toFixed(2);\n        itemTotal.push(parseFloat(lineTotal));\n        cartTotal = itemTotal.reduce(function (a, b) {\n          return a + b;\n        });\n      }\n      return cartTotal;\n    },\n    wishlistSubTotal() {\n      let itemTotal = [];\n      let wishlistTotal = 0;\n      for (let i = 0; i < this.wishlist.wishlistItems.length; i++) {\n        let lineTotal = (\n          this.wishlist.wishlistItems[i].quantity *\n          this.wishlist.wishlistItems[i].items.price\n        ).toFixed(2);\n        itemTotal.push(parseFloat(lineTotal));\n        wishlistTotal = itemTotal.reduce(function (a, b) {\n          return a + b;\n        });\n      }\n      return wishlistTotal;\n    },\n    cartGrandTotal() {\n      return parseFloat(this.cartSubTotal) + this.shippingCost;\n    },\n    cartTotalUSD() {\n      return (parseFloat(this.cartGrandTotal) / 110).toFixed(2);\n    },\n    wishlistGrandTotal() {\n      return parseFloat(this.wishlistSubTotal) + this.shippingCost;\n    },\n    userDetails() {\n      return this.$store.state.loggedInUser;\n    },\n  },\n  methods: {\n    async getProducts() {\n      await this.axios\n        .get(\"/api/v1/latest-products/\")\n        .then((response) => {\n          this.items = response.data;\n          for (let i = 0; i < this.items.length; i++) {\n            this.prodID = this.items[i].id;\n          }\n          return this.prodID;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    addToCart() {\n      //Getting the index of the items in the cart\n      let selectedItem = arguments[0];\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n      const cartItem = {\n        items: this.items[selectedItem],\n        quantity: this.quantity,\n      };\n      this.$store.commit(\"addToCart\", cartItem);\n      this.$toast.success(`${this.items[selectedItem].name} added to cart`);\n    },\n    searchAddToCart() {\n      //Getting the index of the items in the cart\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const cartItem = {\n        items: this.searchItem,\n        quantity: this.quantity,\n      };\n      this.$store.commit(\"addToCart\", cartItem);\n      console.log(this.searchItem);\n      this.$toast.success(`${this.searchItem.name} added to cart`);\n    },\n    async getSearchedProduct() {\n      this.showLoader();\n      this.productSearch = localStorage.getItem(\"productSearch\");\n      // console.log(\"the searched product is \", this.productSearch);\n      this.$store.state.searchItem = [];\n      await this.axios\n        .get(`api/v1/latest-products/${this.productSearch}/`)\n        .then((response) => {\n          this.searchItem = response.data;\n          console.log(\"Search Item Array\", this.searchItem);\n          this.$store.state.searchItem.push(this.searchItem);\n          this.$store.commit(\"setSearchItem\");\n          this.$router.push(\"/search\");\n          this.$store.commit(\"reloadingPage\");\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        .finally(()=>{\n          this.hideLoader();\n        });\n    },\n    buyNow() {\n      let selectedItem = arguments[0];\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const cartItem = {\n        items: this.items[selectedItem],\n        quantity: this.quantity,\n      };\n      this.$store.commit(\"addToCart\", cartItem);\n      this.$router.push(\"/checkout\");\n      this.scrollToTop();\n    },\n    searchBuyNow() {\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const cartItem = {\n        items: this.searchItem,\n        quantity: this.quantity,\n      };\n      this.$store.commit(\"addToCart\", cartItem);\n      this.$router.push(\"/checkout\");\n      this.scrollToTop();\n    },\n    addToWishlist() {\n      //Getting the index of the items in the wishlist\n      let selectedItem = arguments[0];\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const wishlistItem = {\n        items: this.items[selectedItem],\n        quantity: this.quantity,\n      };\n      this.$store.commit(\"addToWishlist\", wishlistItem);\n      this.$toast.success(`${this.items[selectedItem].name} added to wishlist`);\n    },\n    searchAddToWishlist() {\n      //Getting the index of the items in the wishlist\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const wishlistItem = {\n        items: this.searchItem,\n        quantity: this.quantity,\n      };\n      this.$store.commit(\"addToWishlist\", wishlistItem);\n      this.$toast.success(`${this.searchItem.name} added to wishlist`);\n    },\n    getUserDetails() {\n      this.$store\n        .dispatch(\"getUserDetails\")\n        .then((response) => {})\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    getProductDetails(productID) {\n      this.$store.commit(\"clearProductDetails\");\n      this.axios\n        .get(`/api/v1/latest-products/${productID}/`)\n        .then((response) => {\n          this.productDetails = response.data;\n          this.$store.state.detailProducts.push(this.productDetails);\n          this.$store.commit(\"setProductDetails\");\n          this.$router.push(\"/product-detail\");\n          this.scrollToTop();\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        .finally(()=>{\n          this.scrollToTop();\n        });\n    },\n    scrollToTop() {\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\n    },\n    getSubscribedEmails() {\n      this.axios\n        .get(\"api/v1/newsletter-emails/\")\n        .then((response) => {\n          this.subscribedEmails = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n\n    // Loader Methods\n    showLoader(){\n        this.loader = \"block\";\n        this.loaderIndex = -1;\n    },\n    hideLoader(){\n        this.loader = \"none\";\n        this.loaderIndex = 1;\n    },\n  \n    getAllCustomers(){\n  \n      this.axios\n      .get(\"api/v1/user-list/\")\n      .then((response)=>{\n          this.custArray = response.data;\n          for( let i = 0; i < this.custArray.length; i++){\n            this.customersArray.push(this.custArray[i]);\n          }\n      })\n      .catch((error)=>{\n\n      })\n      .finally(()=>{\n        \n      })\n    },\n    applyCouponCode(coupon){\n      this.couponArr = [];\n      if( coupon != \"\"){\n        this.axios\n        .get(\"/api/v1/coupons/\")\n        .then((response)=>{\n          this.couponArr = response.data;\n          for(let i=0; i<this.couponArr.length; i++){\n            this.couponCodes.push(this.couponArr[i]);\n          }\n          return this.couponCodes;\n        })\n        .catch((error)=>{\n          console.log(error.message);\n        })\n        .finally(()=>{\n          for(let i=0; i<this.couponCodes.length; i++){\n            if(this.couponCodes[i].coupon_code == this.coupon_code && this.couponCodes[i].activation_status == true){\n              this.coupon_amount = this.couponCodes[i].coupon_amount ;\n              this.cartTotal = this.cartGrandTotal - this.coupon_amount ;\n              this.coupon_code = \"\";\n            }\n            else{\n              this.coupon_amount = 0 ;\n              this.$toast.error(\"Invalid Coupon Code\", {\n                duration: 3000,\n              });\n              this.coupon_code = \"\";\n            }\n          }\n        })\n      }\n      else{\n        this.$toast.error(\"Please Enter A Coupon Code\", {\n          duration: 3000,\n        });\n      }\n    },\n  },\n  \n};\n</script>\n\n<style lang=\"scss\">\n.router-link-exact-active {\n  color: black !important;\n}\n.dropdown-toggle {\n  color: white !important;\n}\n.new-logo {\n  width: 212px;\n  height: 53px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}