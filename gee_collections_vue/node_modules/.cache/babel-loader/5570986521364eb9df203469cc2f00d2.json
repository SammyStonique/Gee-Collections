{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport store from '../store';\nimport HomeView from '../views/HomeView.vue';\nimport ProductView from '../views/ProductView.vue';\nimport ProductAdd from '../views/ProductAdd.vue';\nimport ProductDetail from '../views/ProductDetail.vue';\nimport CartView from '../views/CartView.vue';\nimport CheckoutView from '../views/CheckoutView.vue';\nimport AccountView from '../views/AccountView.vue';\nimport LoginView from '../views/LoginView.vue';\nimport WishlistView from '../views/WishlistView.vue';\nimport ContactView from '../views/ContactView.vue';\nimport RegisterView from '../views/RegisterView.vue';\nimport LogoutView from '../views/LogoutView.vue';\nimport SearchView from '../views/SearchView.vue';\nimport ReceiptAddView from '../views/ReceiptAddView.vue';\nimport TestView from '../views/TestView.vue';\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView,\n  meta: {\n    isIdle: true\n  }\n}, {\n  path: '/products',\n  name: 'products',\n  component: ProductView\n}, {\n  path: '/search',\n  name: 'search',\n  component: SearchView\n}, {\n  path: '/add-product',\n  name: 'add-product',\n  component: ProductAdd\n}, {\n  path: '/product-detail',\n  name: 'product-detail',\n  component: ProductDetail\n}, {\n  path: '/cart',\n  name: 'cart',\n  component: CartView\n}, {\n  path: '/checkout',\n  name: 'checkout',\n  component: CheckoutView,\n  meta: {\n    emptyCart: true,\n    requireLogin: true\n  }\n}, {\n  path: '/my-account',\n  name: 'my-account',\n  component: AccountView,\n  meta: {\n    requireLogin: true\n  }\n}, {\n  path: '/login',\n  name: 'login',\n  component: LoginView,\n  meta: {\n    alreadyAuthenticated: true\n  }\n}, {\n  path: '/logout',\n  name: 'logout',\n  component: LogoutView\n}, {\n  path: '/wishlist',\n  name: 'wishlist',\n  component: WishlistView\n}, {\n  path: '/contact',\n  name: 'contact',\n  component: ContactView\n}, {\n  path: '/register',\n  name: 'register',\n  component: RegisterView\n}, {\n  path: '/receipt-add',\n  name: 'receipt-add',\n  component: ReceiptAddView\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requireLogin) && !store.state.isAuthenticated) {\n    next({\n      name: 'login',\n      query: {\n        to: to.path\n      }\n    });\n  } else {\n    next();\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.emptyCart) && !store.state.cart.cartItems.length) {\n    next({\n      name: 'cart',\n      query: {\n        to: to.path\n      }\n    });\n  } else {\n    next();\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.alreadyAuthenticated) && store.state.isAuthenticated) {\n    next({\n      name: 'home',\n      query: {\n        to: to.path\n      }\n    });\n  } else {\n    next();\n  }\n}); // VUE IDLE\n// router.beforeEach((to, from, next) => {\n//   if (to.matched.some(record => record.meta.isIdle) && store.state.idleVue.isIdle) {\n//     next({ name: 'login', query: { to: to.path } });\n//   } else {\n//     next()\n//   }\n// })\n\nexport default router;","map":{"version":3,"sources":["/home/sammyb/gee_collections/gee_collections_vue/src/router/index.js"],"names":["createRouter","createWebHistory","store","HomeView","ProductView","ProductAdd","ProductDetail","CartView","CheckoutView","AccountView","LoginView","WishlistView","ContactView","RegisterView","LogoutView","SearchView","ReceiptAddView","TestView","routes","path","name","component","meta","isIdle","emptyCart","requireLogin","alreadyAuthenticated","router","history","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","state","isAuthenticated","query","cart","cartItems","length"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,QAAP,MAAqB,uBAArB;AAEA,MAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAElB,QAHb;AAIEmB,EAAAA,IAAI,EAAC;AACHC,IAAAA,MAAM,EAAE;AADL;AAJP,CADa,EASb;AACEJ,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAEjB;AAHb,CATa,EAcb;AACEe,EAAAA,IAAI,EAAE,SADR;AAEEC,EAAAA,IAAI,EAAE,QAFR;AAGEC,EAAAA,SAAS,EAAEN;AAHb,CAda,EAmBb;AACEI,EAAAA,IAAI,EAAE,cADR;AAEEC,EAAAA,IAAI,EAAE,aAFR;AAGEC,EAAAA,SAAS,EAAEhB;AAHb,CAnBa,EAwBb;AACEc,EAAAA,IAAI,EAAE,iBADR;AAEEC,EAAAA,IAAI,EAAE,gBAFR;AAGEC,EAAAA,SAAS,EAAEf;AAHb,CAxBa,EA6Bb;AACEa,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEd;AAHb,CA7Ba,EAkCb;AACEY,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAEb,YAHb;AAIEc,EAAAA,IAAI,EAAC;AACHE,IAAAA,SAAS,EAAE,IADR;AAEHC,IAAAA,YAAY,EAAE;AAFX;AAJP,CAlCa,EA2Cb;AACEN,EAAAA,IAAI,EAAE,aADR;AAEEC,EAAAA,IAAI,EAAE,YAFR;AAGEC,EAAAA,SAAS,EAAEZ,WAHb;AAIEa,EAAAA,IAAI,EAAC;AACHG,IAAAA,YAAY,EAAE;AADX;AAJP,CA3Ca,EAmDb;AACEN,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAEX,SAHb;AAIEY,EAAAA,IAAI,EAAC;AACHI,IAAAA,oBAAoB,EAAG;AADpB;AAJP,CAnDa,EA2Db;AACEP,EAAAA,IAAI,EAAE,SADR;AAEEC,EAAAA,IAAI,EAAE,QAFR;AAGEC,EAAAA,SAAS,EAAEP;AAHb,CA3Da,EAgEb;AACEK,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAEV;AAHb,CAhEa,EAqEb;AACEQ,EAAAA,IAAI,EAAE,UADR;AAEEC,EAAAA,IAAI,EAAE,SAFR;AAGEC,EAAAA,SAAS,EAAET;AAHb,CArEa,EA0Eb;AACEO,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAER;AAHb,CA1Ea,EA+Eb;AACEM,EAAAA,IAAI,EAAE,cADR;AAEEC,EAAAA,IAAI,EAAE,aAFR;AAGEC,EAAAA,SAAS,EAAEL;AAHb,CA/Ea,CAAf;AAqFA,MAAMW,MAAM,GAAG3B,YAAY,CAAC;AAC1B4B,EAAAA,OAAO,EAAE3B,gBAAgB,CAAC4B,OAAO,CAACC,GAAR,CAAYC,QAAb,CADC;AAE1Bb,EAAAA;AAF0B,CAAD,CAA3B;AAKAS,MAAM,CAACK,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;AACpC,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgBC,MAAM,IAAIA,MAAM,CAAChB,IAAP,CAAYG,YAAtC,KAAuD,CAACvB,KAAK,CAACqC,KAAN,CAAYC,eAAxE,EAAyF;AACvFL,IAAAA,IAAI,CAAC;AAAEf,MAAAA,IAAI,EAAE,OAAR;AAAiBqB,MAAAA,KAAK,EAAE;AAAER,QAAAA,EAAE,EAAEA,EAAE,CAACd;AAAT;AAAxB,KAAD,CAAJ;AACD,GAFD,MAEO;AACLgB,IAAAA,IAAI;AACL;AACF,CAND;AAOAR,MAAM,CAACK,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;AACpC,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgBC,MAAM,IAAIA,MAAM,CAAChB,IAAP,CAAYE,SAAtC,KAAoD,CAACtB,KAAK,CAACqC,KAAN,CAAYG,IAAZ,CAAiBC,SAAjB,CAA2BC,MAApF,EAA4F;AAC1FT,IAAAA,IAAI,CAAC;AAAEf,MAAAA,IAAI,EAAE,MAAR;AAAgBqB,MAAAA,KAAK,EAAE;AAAER,QAAAA,EAAE,EAAEA,EAAE,CAACd;AAAT;AAAvB,KAAD,CAAJ;AACD,GAFD,MAEO;AACLgB,IAAAA,IAAI;AACL;AACF,CAND;AAOAR,MAAM,CAACK,UAAP,CAAkB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;AACpC,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgBC,MAAM,IAAIA,MAAM,CAAChB,IAAP,CAAYI,oBAAtC,KAA+DxB,KAAK,CAACqC,KAAN,CAAYC,eAA/E,EAAgG;AAC9FL,IAAAA,IAAI,CAAC;AAAEf,MAAAA,IAAI,EAAE,MAAR;AAAgBqB,MAAAA,KAAK,EAAE;AAAER,QAAAA,EAAE,EAAEA,EAAE,CAACd;AAAT;AAAvB,KAAD,CAAJ;AACD,GAFD,MAEO;AACLgB,IAAAA,IAAI;AACL;AACF,CAND,E,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeR,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport store from '../store'\nimport HomeView from '../views/HomeView.vue'\nimport ProductView from '../views/ProductView.vue'\nimport ProductAdd from '../views/ProductAdd.vue'\nimport ProductDetail from '../views/ProductDetail.vue'\nimport CartView from '../views/CartView.vue'\nimport CheckoutView from '../views/CheckoutView.vue'\nimport AccountView from '../views/AccountView.vue'\nimport LoginView from '../views/LoginView.vue'\nimport WishlistView from '../views/WishlistView.vue'\nimport ContactView from '../views/ContactView.vue'\nimport RegisterView from '../views/RegisterView.vue'\nimport LogoutView from '../views/LogoutView.vue'\nimport SearchView from '../views/SearchView.vue'\nimport ReceiptAddView from '../views/ReceiptAddView.vue'\nimport TestView from '../views/TestView.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView,\n    meta:{\n      isIdle: true,\n    }\n  },\n  {\n    path: '/products',\n    name: 'products',\n    component: ProductView\n  },\n  {\n    path: '/search',\n    name: 'search',\n    component: SearchView\n  },\n  {\n    path: '/add-product',\n    name: 'add-product',\n    component: ProductAdd\n  },\n  {\n    path: '/product-detail',\n    name: 'product-detail',\n    component: ProductDetail\n  },\n  {\n    path: '/cart',\n    name: 'cart',\n    component: CartView,\n  },\n  {\n    path: '/checkout',\n    name: 'checkout',\n    component: CheckoutView,\n    meta:{\n      emptyCart: true,\n      requireLogin: true\n    }    \n  },\n  {\n    path: '/my-account',\n    name: 'my-account',\n    component: AccountView,\n    meta:{\n      requireLogin: true\n    }\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginView,\n    meta:{\n      alreadyAuthenticated : true,\n    }\n  },\n  {\n    path: '/logout',\n    name: 'logout',\n    component: LogoutView\n  },\n  {\n    path: '/wishlist',\n    name: 'wishlist',\n    component: WishlistView\n  },\n  {\n    path: '/contact',\n    name: 'contact',\n    component: ContactView\n  },\n  {\n    path: '/register',\n    name: 'register',\n    component: RegisterView\n  },\n  {\n    path: '/receipt-add',\n    name: 'receipt-add',\n    component: ReceiptAddView\n  },\n]\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requireLogin) && !store.state.isAuthenticated) {\n    next({ name: 'login', query: { to: to.path } });\n  } else {\n    next()\n  }\n})\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.emptyCart) && !store.state.cart.cartItems.length) {\n    next({ name: 'cart', query: { to: to.path } });\n  } else {\n    next()\n  }\n})\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.alreadyAuthenticated) && store.state.isAuthenticated) {\n    next({ name: 'home', query: { to: to.path } });\n  } else {\n    next()\n  }\n})\n\n// VUE IDLE\n// router.beforeEach((to, from, next) => {\n//   if (to.matched.some(record => record.meta.isIdle) && store.state.idleVue.isIdle) {\n//     next({ name: 'login', query: { to: to.path } });\n//   } else {\n//     next()\n//   }\n// })\n\nexport default router\n"]},"metadata":{},"sourceType":"module"}