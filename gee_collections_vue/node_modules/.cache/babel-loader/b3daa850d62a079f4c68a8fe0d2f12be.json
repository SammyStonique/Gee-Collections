{"ast":null,"code":"import { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    cart: {\n      cartItems: []\n    }\n  },\n  getters: {},\n  mutations: {\n    initializeStore(state) {\n      //Check if the cart exists in the local storage\n      if (localStorage.getItem('cart')) {\n        state.cart = JSON.parse(localStorage.getItem('cart')); // console.log(state.cart.cartItems[0])\n        //Add the cart to local storage if it doesn't exist\n      } else {\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      }\n    },\n\n    addToCart(state, cartItem) {\n      // const exist = [];\n      //Check if the item exists in the cart\n      // const exists = state.cart.cartItems.filter(i => i.item.id === cartItem.item.id)=== state.cart.cartItems.items.id\n      if (state.cart.length > 0) {\n        console.log(\"Hello, this worked!\");\n        const exist = state.cart.cartItems.filter(i => {\n          return i.items.id === state.cart.cartItems.items.id;\n        });\n        console.log(exist.length);\n\n        if (exist.length > 0) {\n          exist[0].quantity = parseInt(exist[0].quantity) + parseInt(cartItem.quantity);\n        } else {\n          state.cart.cartItems.push(cartItem);\n        }\n\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      } else {\n        console.log(\"This caused item to be added!\");\n        state.cart.cartItems.push(cartItem);\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      } // console.table(exist);\n      // if(exist.length){\n      //   exist[0].quantity = parseInt(exist[0].quantity) + parseInt(cartItem.quantity)\n      // }else{\n      //   state.cart.cartItems.push(cartItem)\n      // }\n      // })\n      // if(exists.length){\n      //   exists[0].quantity = parseInt(exists[0].quantity) + parseInt(cartItem.quantity)\n      // }else{\n      //   state.cart.cartItems.push(cartItem)\n      // }\n      //Stores cart information in the local storage\n      // localStorage.setItem('cart',JSON.stringify(state.cart));\n\n    }\n\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"sources":["/home/sammyb/gee_collections/gee_collections_vue/src/store/index.js"],"names":["createStore","state","cart","cartItems","getters","mutations","initializeStore","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","cartItem","length","console","log","exist","filter","i","items","id","quantity","parseInt","push","actions","modules"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AAEA,eAAeA,WAAW,CAAC;AACzBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAC;AACHC,MAAAA,SAAS,EAAC;AADP;AADA,GADkB;AAMzBC,EAAAA,OAAO,EAAE,EANgB;AASzBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,eAAe,CAACL,KAAD,EAAO;AACpB;AACA,UAAGM,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAgC;AAC9BP,QAAAA,KAAK,CAACC,IAAN,GAAaO,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb,CAD8B,CAE9B;AACF;AACC,OAJD,MAIK;AACHD,QAAAA,YAAY,CAACI,OAAb,CAAqB,MAArB,EAA4BF,IAAI,CAACG,SAAL,CAAeX,KAAK,CAACC,IAArB,CAA5B;AACD;AACF,KAVQ;;AAWTW,IAAAA,SAAS,CAACZ,KAAD,EAAQa,QAAR,EAAiB;AACxB;AACA;AACA;AAEA,UAAGb,KAAK,CAACC,IAAN,CAAWa,MAAX,GAAoB,CAAvB,EAAyB;AACvBC,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,cAAMC,KAAK,GAAGjB,KAAK,CAACC,IAAN,CAAWC,SAAX,CAAqBgB,MAArB,CAA6BC,CAAD,IAAO;AAC/C,iBAAOA,CAAC,CAACC,KAAF,CAAQC,EAAR,KAAerB,KAAK,CAACC,IAAN,CAAWC,SAAX,CAAqBkB,KAArB,CAA2BC,EAAjD;AACD,SAFa,CAAd;AAGAN,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAK,CAACH,MAAlB;;AACA,YAAGG,KAAK,CAACH,MAAN,GAAe,CAAlB,EAAoB;AAClBG,UAAAA,KAAK,CAAC,CAAD,CAAL,CAASK,QAAT,GAAoBC,QAAQ,CAACN,KAAK,CAAC,CAAD,CAAL,CAASK,QAAV,CAAR,GAA8BC,QAAQ,CAACV,QAAQ,CAACS,QAAV,CAA1D;AACD,SAFD,MAEK;AACHtB,UAAAA,KAAK,CAACC,IAAN,CAAWC,SAAX,CAAqBsB,IAArB,CAA0BX,QAA1B;AACD;;AAEDP,QAAAA,YAAY,CAACI,OAAb,CAAqB,MAArB,EAA4BF,IAAI,CAACG,SAAL,CAAeX,KAAK,CAACC,IAArB,CAA5B;AACD,OAbD,MAcK;AACHc,QAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACAhB,QAAAA,KAAK,CAACC,IAAN,CAAWC,SAAX,CAAqBsB,IAArB,CAA0BX,QAA1B;AACAP,QAAAA,YAAY,CAACI,OAAb,CAAqB,MAArB,EAA4BF,IAAI,CAACG,SAAL,CAAeX,KAAK,CAACC,IAArB,CAA5B;AACD,OAvBuB,CAwBxB;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACD;;AAlDQ,GATc;AA6DzBwB,EAAAA,OAAO,EAAE,EA7DgB;AA+DzBC,EAAAA,OAAO,EAAE;AA/DgB,CAAD,CAA1B","sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    cart:{\n      cartItems:[]\n    }\n  },\n  getters: {\n\n  },\n  mutations: {\n    initializeStore(state){\n      //Check if the cart exists in the local storage\n      if(localStorage.getItem('cart')){\n        state.cart = JSON.parse(localStorage.getItem('cart'))\n        // console.log(state.cart.cartItems[0])\n      //Add the cart to local storage if it doesn't exist\n      }else{\n        localStorage.setItem('cart',JSON.stringify(state.cart))\n      }\n    },\n    addToCart(state, cartItem){\n      // const exist = [];\n      //Check if the item exists in the cart\n      // const exists = state.cart.cartItems.filter(i => i.item.id === cartItem.item.id)=== state.cart.cartItems.items.id\n      \n      if(state.cart.length > 0){\n        console.log(\"Hello, this worked!\")\n        const exist = state.cart.cartItems.filter((i) => {\n          return i.items.id === state.cart.cartItems.items.id;\n        })\n        console.log(exist.length)\n        if(exist.length > 0){\n          exist[0].quantity = parseInt(exist[0].quantity) + parseInt(cartItem.quantity)\n        }else{\n          state.cart.cartItems.push(cartItem)\n        }\n\n        localStorage.setItem('cart',JSON.stringify(state.cart));\n      }\n      else {\n        console.log(\"This caused item to be added!\")\n        state.cart.cartItems.push(cartItem)\n        localStorage.setItem('cart',JSON.stringify(state.cart));\n      }\n      // console.table(exist);\n      // if(exist.length){\n      //   exist[0].quantity = parseInt(exist[0].quantity) + parseInt(cartItem.quantity)\n      // }else{\n      //   state.cart.cartItems.push(cartItem)\n      // }\n\n      // })\n      // if(exists.length){\n      //   exists[0].quantity = parseInt(exists[0].quantity) + parseInt(cartItem.quantity)\n      // }else{\n      //   state.cart.cartItems.push(cartItem)\n      // }\n      //Stores cart information in the local storage\n      // localStorage.setItem('cart',JSON.stringify(state.cart));\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n"]},"metadata":{},"sourceType":"module"}