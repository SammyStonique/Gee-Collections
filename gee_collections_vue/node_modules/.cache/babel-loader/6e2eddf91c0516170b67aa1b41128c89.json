{"ast":null,"code":"import { thisTypeAnnotation } from \"@babel/types\";\nexport default {\n  props: ['cartGrandTotal', 'cartItemTotal', 'cartSubTotal', 'shippingCost'],\n\n  data() {\n    return {\n      cart: {\n        cartItems: []\n      },\n      id: '',\n      first_name: '',\n      last_name: '',\n      email: '',\n      phone_number: '',\n      address: '',\n      county: '',\n      city: '',\n      gender: '',\n      errors: []\n    };\n  },\n\n  methods: {\n    getProfileDetails() {\n      this.axios.get('/api/v1/users/me/').then(response => {\n        console.log(response.data);\n        this.phone_number = response.data.phone_number;\n        this.email = response.data.email;\n        this.id = response.data.id;\n        this.first_name = response.data.first_name;\n        this.last_name = response.data.last_name;\n        this.gender = response.data.gender;\n        this.city = response.data.city;\n        this.county = response.data.county;\n        this.address = response.data.address;\n      }).catch(error => {});\n    },\n\n    placeOrder() {\n      const items = [];\n\n      for (let i = 0; i < this.cart.cartItems.length; i++) {\n        const item = this.cart.cartItems[i];\n        const obj = {\n          product: item.items.id,\n          quantity: item.quantity,\n          price: item.items.price * item.quantity\n        };\n        items.push(obj);\n      }\n\n      console.log('Items from cart to order:', items);\n      let formData = {\n        first_name: this.first_name,\n        last_name: this.last_name,\n        address: this.address,\n        county: this.county,\n        city: this.city,\n        phone_number: this.phone_number,\n        email: this.email,\n        items: items\n      };\n      console.log(formData);\n      this.axios.post('/api/v1/checkout/', formData).then(response => {\n        console.log(response.data);\n        this.$store.commit('clearCart');\n        this.$toast.success('Order succesfully placed');\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  },\n\n  beforeMount() {\n    this.getProfileDetails();\n    this.cart = this.$store.state.cart;\n  }\n\n};","map":{"version":3,"mappings":"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","names":["thisTypeAnnotation","props","data","cart","cartItems","id","first_name","last_name","email","phone_number","address","county","city","gender","errors","methods","getProfileDetails","axios","get","then","response","console","log","catch","error","placeOrder","items","i","length","item","obj","product","quantity","price","push","formData","post","$store","commit","$toast","success","beforeMount","state"],"sourceRoot":"","sources":["/home/sammyb/gee_collections/gee_collections_vue/src/views/CheckoutView.vue"],"sourcesContent":["<template>\n    <div class=\"checkout\">\n        <!-- Breadcrumb Start -->\n        <div class=\"breadcrumb-wrap\">\n            <div class=\"container-fluid\">\n                <ul class=\"breadcrumb\">\n                    <li class=\"breadcrumb-item\"><router-link to=\"/\">Home</router-link></li>\n                    <li class=\"breadcrumb-item\"><router-link to=\"/cart\">Cart</router-link></li>\n                    <li class=\"breadcrumb-item active\">Checkout</li>\n                </ul>\n            </div>\n        </div>\n        <!-- Breadcrumb End -->\n        \n        <!-- Checkout Start -->\n        <div class=\"checkout\">\n            <div class=\"container-fluid\"> \n                <form action=\"\" @submit.prevent=\"placeOrder\">\n                    <div class=\"row\">\n                            <div class=\"col-lg-8\">\n                                <div class=\"checkout-inner\">\n                                    <div class=\"billing-address\">\n                                        <h2>Billing Address</h2>\n                                        <div class=\"row\">\n                                            <div class=\"col-md-6\">\n                                                <label>First Name</label>\n                                                    <input class=\"form-control\" type=\"text\" placeholder=\"First Name\" v-model=\"first_name\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>Last Name</label>\n                                                    <input class=\"form-control\" type=\"text\" placeholder=\"Last Name\" v-model=\"last_name\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>E-mail</label>\n                                                    <input class=\"form-control\" type=\"email\" placeholder=\"Email\" v-model=\"email\" disabled=\"true\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>Mobile No</label>\n                                                    <input class=\"form-control\" type=\"text\" placeholder=\"Mobile\" v-model=\"phone_number\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>Gender</label>\n                                                    <select name=\"gender\" class=\"form-control\" v-model=\"gender\">\n                                                        <option value=\"\" disabled=\"true\">--Select your Gender--</option>\n                                                        <option>Male</option>\n                                                        <option>Female</option>\n                                                        <option>Other</option>\n                                                    </select>\n                                            </div>                                    \n                                            <div class=\"col-md-6\">\n                                                <label>Address</label>\n                                                    <input class=\"form-control\" type=\"text\" placeholder=\"Address\" v-model=\"address\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>City</label>\n                                                    <select name=\"city\" class=\"form-control\" v-model=\"city\">\n                                                        <option value=\"\" disabled=\"true\">--Select your City--</option>\n                                                        <option>Nairobi</option>\n                                                        <option>Kisumu</option>\n                                                        <option>Mombasa</option>\n                                                        <option>Nakuru</option>\n                                                    </select>\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>County</label>\n                                                    <select name=\"county\" class=\"form-control\" v-model=\"county\">\n                                                        <option value=\"\" disabled=\"true\">--Select your County--</option>\n                                                        <option>Siaya</option>\n                                                        <option>Kisumu</option>\n                                                        <option>Nairobi</option>\n                                                        <option>Mombasa</option>\n                                                    </select>\n                                            </div>                                \n                                            <div class=\"col-md-12\">\n                                                <div class=\"custom-control custom-checkbox\">\n                                                    <input type=\"checkbox\" class=\"custom-control-input\" id=\"newaccount\">\n                                                    <label class=\"custom-control-label\" for=\"newaccount\">Create an account</label>\n                                                </div>\n                                            </div>\n                                            <div class=\"col-md-12\">\n                                                <div class=\"custom-control custom-checkbox\">\n                                                    <input type=\"checkbox\" class=\"custom-control-input\" id=\"shipto\">\n                                                    <label class=\"custom-control-label\" for=\"shipto\">Ship to different address</label>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"shipping-address\">\n                                        <h2>Shipping Address</h2>\n                                        <div class=\"row\">\n                                            <div class=\"col-md-6\">\n                                                <label>First Name</label>\n                                                <input class=\"form-control\" type=\"text\" placeholder=\"First Name\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>Last Name</label>\n                                                <input class=\"form-control\" type=\"text\" placeholder=\"Last Name\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>E-mail</label>\n                                                <input class=\"form-control\" type=\"text\" placeholder=\"E-mail\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>Mobile No</label>\n                                                <input class=\"form-control\" type=\"text\" placeholder=\"Mobile No\">\n                                            </div>\n                                            <div class=\"col-md-12\">\n                                                <label>Address</label>\n                                                <input class=\"form-control\" type=\"text\" placeholder=\"Address\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>Country</label>\n                                                <select class=\"custom-select\">\n                                                    <option selected>Kenya</option>\n                                                    <option>Tanzania</option>\n                                                    <option>Uganda</option>\n                                                    <option>Rwanda</option>\n                                                </select>\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>City</label>\n                                                <input class=\"form-control\" type=\"text\" placeholder=\"City\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>County</label>\n                                                <input class=\"form-control\" type=\"text\" placeholder=\"County\">\n                                            </div>\n                                            <div class=\"col-md-6\">\n                                                <label>ZIP Code</label>\n                                                <input class=\"form-control\" type=\"text\" placeholder=\"ZIP Code\">\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-lg-4\">\n                                <div class=\"checkout-inner\">\n                                    <div class=\"checkout-summary\">\n                                        <h1>Cart Total</h1>\n                                        <p class=\"sub-total\">Sub Total<span>ksh. {{Number(cartSubTotal).toLocaleString()}}</span></p>\n                                        <p class=\"ship-cost\">Shipping Cost<span>ksh. {{Number(shippingCost).toLocaleString()}}</span></p>\n                                        <h2>Grand Total<span>{{Number(cartGrandTotal).toLocaleString()}}</span></h2>\n                                    </div>\n\n                                    <div class=\"checkout-payment\">\n                                        <div class=\"payment-methods\">\n                                            <h1>Payment Methods</h1>\n                                            <div class=\"payment-method\">\n                                                <div class=\"custom-control custom-radio\">\n                                                    <input type=\"radio\" class=\"custom-control-input\" id=\"payment-1\" name=\"payment\">\n                                                    <label class=\"custom-control-label\" for=\"payment-1\">Paypal</label>\n                                                </div>\n                                                <div class=\"payment-content\" id=\"payment-1-show\">\n                                                    <p>\n                                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras tincidunt orci ac eros volutpat maximus lacinia quis diam.\n                                                    </p>\n                                                </div>\n                                            </div>\n                                            <div class=\"payment-method\">\n                                                <div class=\"custom-control custom-radio\">\n                                                    <input type=\"radio\" class=\"custom-control-input\" id=\"payment-2\" name=\"payment\">\n                                                    <label class=\"custom-control-label\" for=\"payment-2\">Payoneer</label>\n                                                </div>\n                                                <div class=\"payment-content\" id=\"payment-2-show\">\n                                                    <p>\n                                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras tincidunt orci ac eros volutpat maximus lacinia quis diam.\n                                                    </p>\n                                                </div>\n                                            </div>\n                                            <div class=\"payment-method\">\n                                                <div class=\"custom-control custom-radio\">\n                                                    <input type=\"radio\" class=\"custom-control-input\" id=\"payment-3\" name=\"payment\">\n                                                    <label class=\"custom-control-label\" for=\"payment-3\">Check Payment</label>\n                                                </div>\n                                                <div class=\"payment-content\" id=\"payment-3-show\">\n                                                    <p>\n                                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras tincidunt orci ac eros volutpat maximus lacinia quis diam.\n                                                    </p>\n                                                </div>\n                                            </div>\n                                            <div class=\"payment-method\">\n                                                <div class=\"custom-control custom-radio\">\n                                                    <input type=\"radio\" class=\"custom-control-input\" id=\"payment-4\" name=\"payment\">\n                                                    <label class=\"custom-control-label\" for=\"payment-4\">Direct Bank Transfer</label>\n                                                </div>\n                                                <div class=\"payment-content\" id=\"payment-4-show\">\n                                                    <p>\n                                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras tincidunt orci ac eros volutpat maximus lacinia quis diam.\n                                                    </p>\n                                                </div>\n                                            </div>\n                                            <div class=\"payment-method\">\n                                                <div class=\"custom-control custom-radio\">\n                                                    <input type=\"radio\" class=\"custom-control-input\" id=\"payment-5\" name=\"payment\">\n                                                    <label class=\"custom-control-label\" for=\"payment-5\">Cash on Delivery</label>\n                                                </div>\n                                                <div class=\"payment-content\" id=\"payment-5-show\">\n                                                    <p>\n                                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras tincidunt orci ac eros volutpat maximus lacinia quis diam.\n                                                    </p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"checkout-btn\">\n                                            <button>Place Order</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>   \n                    </div>\n                </form>\n            </div>\n        </div>\n        <!-- Checkout End -->\n    </div>\n</template>\n\n<script>import { thisTypeAnnotation } from \"@babel/types\";\n\nexport default {\n    props:['cartGrandTotal','cartItemTotal','cartSubTotal','shippingCost'],\n    data(){\n        return{\n            cart:{\n                cartItems:[]\n            },\n            id:'',\n            first_name:'',\n            last_name: '',\n            email: '',\n            phone_number: '',\n            address: '',\n            county: '',\n            city: '',\n            gender: '',\n            errors:[]\n        }\n    },\n    methods:{\n        getProfileDetails(){\n            this.axios.get('/api/v1/users/me/')\n            .then((response)=>{\n                console.log(response.data)\n                this.phone_number = response.data.phone_number;\n                this.email = response.data.email;\n                this.id = response.data.id;\n                this.first_name = response.data.first_name\n                this.last_name = response.data.last_name\n                this.gender = response.data.gender\n                this.city = response.data.city\n                this.county = response.data.county\n                this.address = response.data.address\n            })\n            .catch((error)=>{\n\n            })\n        },\n        placeOrder(){\n            const items = []\n            for (let i = 0; i < this.cart.cartItems.length; i++) {\n            const item = this.cart.cartItems[i]\n            const obj = {\n                product: item.items.id,\n                quantity: item.quantity,\n                price: item.items.price * item.quantity\n            }\n            items.push(obj)\n            \n            } \n            console.log('Items from cart to order:',items)           \n            let formData={\n                first_name:this.first_name,\n                last_name: this.last_name,\n                address: this.address,\n                county: this.county,\n                city: this.city,   \n                phone_number: this.phone_number,\n                email: this.email,\n                items: items,\n\n            }\n            console.log(formData)\n            this.axios.post('/api/v1/checkout/', formData)\n            .then((response)=>{\n                console.log(response.data)\n                this.$store.commit('clearCart')\n                this.$toast.success('Order succesfully placed')\n            })\n            .catch((error)=>{\n                console.log(error)\n            })\n        }\n    },\n    beforeMount() {\n        this.getProfileDetails();\n        this.cart = this.$store.state.cart;\n    },\n}\n\n</script>\n\n<style scoped>\n    input{\n        font-weight: 300;\n        color: black;\n    }\n    select{\n        font-weight: 300;\n        color: black;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}