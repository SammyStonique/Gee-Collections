{"ast":null,"code":"import _slicedToArray from 'babel-runtime/helpers/slicedToArray';\nimport _Object$assign from 'babel-runtime/core-js/object/assign';\nimport paypal from 'paypal-checkout';\nimport _Object$keys from 'babel-runtime/core-js/object/keys';\nvar requiredProps = [['amount'], ['currency', 'USD']];\nvar optionalProps = [['id'], ['invoiceNumber']];\nvar specificProps = [{\n  name: 'env',\n  type: String,\n  required: false,\n  default: 'production',\n  validator: function validator(value) {\n    return ['sandbox', 'production'].indexOf(value) !== -1;\n  }\n}, {\n  name: 'client',\n  type: Object,\n  required: true\n}, {\n  name: 'details',\n  type: Object,\n  required: false,\n  default: function _default() {\n    return {};\n  }\n}, {\n  name: 'commit',\n  type: Boolean,\n  required: false,\n  default: true\n}];\n\nfunction defaultProps() {\n  var props = {}; // TODO: make type configurable\n  // all required props are type String for now\n\n  requiredProps.forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        name = _ref2[0],\n        def = _ref2[1];\n\n    props[name] = {\n      type: String,\n      required: true,\n      default: typeof def !== 'undefined' ? def : undefined\n    };\n  }); // TODO: make type configurable\n  // all optional props are type String for now\n\n  optionalProps.forEach(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        name = _ref4[0],\n        def = _ref4[1];\n\n    props[name] = {\n      type: String,\n      required: false,\n      default: typeof def !== 'undefined' ? def : undefined\n    };\n  }); // all specific props are declared ahead of time\n\n  specificProps.forEach(function (prop) {\n    props[prop.name] = {\n      type: prop.type,\n      required: prop.required\n    };\n\n    if (prop.default !== undefined) {\n      props[prop.name].default = prop.default;\n    }\n  });\n  return props;\n}\n\nfunction paypalProp(prop) {\n  /* eslint-disable no-param-reassign */\n  var define = function getDefine(object) {\n    return function def(name, param, defaultParam) {\n      var isDefined = typeof param !== 'undefined' && param !== null;\n      var hasDefault = typeof defaultParam !== 'undefined' && defaultParam !== null;\n      if (isDefined) object[name] = param;else if (hasDefault) object[name] = defaultParam;else object[name] = undefined; // TODO: throw err?\n    };\n  }(this);\n\n  define('name', prop.name);\n  define('propName', prop.paypalName, prop.name);\n  define('injection', prop.injection, 'button');\n  define('type', prop.type, Object);\n  define('required', prop.required, false);\n  define('validator', prop.validator, undefined);\n  this.transforms = [];\n}\n\npaypalProp.prototype.getVmProp = function getVmProp() {\n  return {\n    type: this.type,\n    required: this.required,\n    validator: this.validator\n  };\n};\n\npaypalProp.prototype.addChangeTransform = function addChangeTransform(callable) {\n  this.transforms.push(callable);\n};\n\npaypalProp.prototype.getChange = function getChange(src) {\n  var value = src[this.name]; // change the value if necessary...\n\n  if (value !== undefined && value !== null) {\n    this.transforms.forEach(function (transform) {\n      value = transform(value);\n    });\n  }\n\n  return {\n    name: this.propName,\n    value: value\n  };\n};\n\nvar propTypes = {\n  BUTTON: 'button',\n  PAYMENT: 'payment',\n  TRANSACTION: 'transaction'\n};\n\nfunction assignToPropertyObject(props) {\n  return function assignTo(vm, type) {\n    var obj = {};\n    props.getTypedProps(type).forEach(function (item) {\n      var _item$getChange = item.getChange(vm),\n          name = _item$getChange.name,\n          value = _item$getChange.value;\n\n      if (name !== undefined && value !== undefined) {\n        obj[name] = value;\n      }\n    });\n    return obj;\n  };\n} // TODO: add item validator\n\n\nvar itemsPayPalProp = new paypalProp({\n  name: 'items',\n  paypalName: 'item_list',\n  type: Array,\n  injection: propTypes.TRANSACTION\n});\nitemsPayPalProp.addChangeTransform(function (items) {\n  return {\n    items: items\n  };\n});\nvar shippingAddressProp = new paypalProp({\n  name: 'shippingAddress',\n  paypalName: 'shipping_address',\n  type: Object,\n  injection: propTypes.TRANSACTION\n});\nvar props = [// Button Props\nnew paypalProp({\n  name: 'buttonStyle',\n  paypalName: 'style',\n  injection: propTypes.BUTTON\n}), new paypalProp({\n  name: 'braintree',\n  injection: propTypes.BUTTON\n}), new paypalProp({\n  name: 'locale',\n  type: String,\n  injection: propTypes.BUTTON\n}), // Payment Props\nnew paypalProp({\n  name: 'experience',\n  injection: propTypes.PAYMENT\n}), // Transaction Props\nnew paypalProp({\n  name: 'invoiceNumber',\n  paypalName: 'invoice_number',\n  type: String,\n  injection: propTypes.TRANSACTION\n}), new paypalProp({\n  name: 'notifyUrl',\n  paypalName: 'notify_url',\n  type: String,\n  validator: function validator(value) {\n    return /^https?:\\/\\//.test(value);\n  },\n  injection: propTypes.TRANSACTION\n}), itemsPayPalProp, shippingAddressProp];\n\nfunction vmProps() {\n  var vm = {};\n  props.forEach(function (prop) {\n    vm[prop.name] = prop.getVmProp();\n  });\n  return vm;\n}\n\nfunction getTypedProps(type) {\n  return props.filter(function (prop) {\n    return prop.injection === type;\n  });\n}\n\nvar additionalProps = {\n  vmProps: vmProps,\n  getTypedProps: getTypedProps\n};\nvar assignTo = assignToPropertyObject(additionalProps);\nvar script = {\n  props: _Object$assign(defaultProps(), additionalProps.vmProps()),\n  methods: {\n    payment: function payment() {\n      var vue = this;\n\n      var transaction = _Object$assign({\n        amount: {\n          total: this.amount,\n          currency: this.currency,\n          details: this.details\n        }\n      }, assignTo(vue, propTypes.TRANSACTION)); // TODO: clean this up\n\n\n      if (transaction.shipping_address && transaction.item_list) {\n        transaction.item_list.shipping_address = transaction.shipping_address;\n        delete transaction.shipping_address;\n      }\n\n      var payment = {\n        transactions: [transaction]\n      };\n      return paypal.rest.payment.create(this.env, this.client, _Object$assign({\n        payment: payment\n      }, assignTo(vue, propTypes.PAYMENT)));\n    },\n    onAuthorize: function onAuthorize(data, actions) {\n      var vue = this;\n      vue.$emit('payment-authorized', data);\n\n      if (this.commit) {\n        return actions.payment.execute().then(function (response) {\n          vue.$emit('payment-completed', response);\n        });\n      }\n\n      return true;\n    },\n    onCancel: function onCancel(data) {\n      var vue = this;\n      vue.$emit('payment-cancelled', data);\n    }\n  },\n  mounted: function mounted() {\n    var vue = this;\n\n    var button = _Object$assign({\n      // Pass in env\n      env: vue.env,\n      // Pass in the client ids to use to create your transaction\n      // on sandbox and production environments\n      client: vue.client,\n      // Pass the payment details for your transaction\n      // See https://developer.paypal.com/docs/api/payments/#payment_create for the expected json parameters\n      payment: vue.payment,\n      // Display a \"Pay Now\" button rather than a \"Continue\" button\n      commit: vue.commit,\n      // Pass a function to be called when the customer completes the payment\n      onAuthorize: vue.onAuthorize,\n      // Pass a function to be called when the customer cancels the payment\n      onCancel: vue.onCancel\n    }, assignTo(vue, propTypes.BUTTON));\n\n    paypal.Button.render(button, vue.$el);\n  }\n};\n/* script */\n\nvar __vue_script__ = script;\n/* template */\n\nvar __vue_render__ = function __vue_render__() {\n  var _vm = this;\n\n  var _h = _vm.$createElement;\n\n  var _c = _vm._self._c || _h;\n\n  return _c(\"div\", {\n    staticClass: \"paypal-button\",\n    attrs: {\n      id: _vm.id\n    }\n  });\n};\n\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n/* style */\n\nvar __vue_inject_styles__ = undefined;\n/* scoped */\n\nvar __vue_scope_id__ = undefined;\n/* module identifier */\n\nvar __vue_module_identifier__ = undefined;\n/* functional template */\n\nvar __vue_is_functional_template__ = false;\n/* component normalizer */\n\nfunction __vue_normalize__(template, style, script$$1, scope, functional, moduleIdentifier, createInjector, createInjectorSSR) {\n  var component = (typeof script$$1 === 'function' ? script$$1.options : script$$1) || {}; // For security concerns, we use only base name in production mode.\n\n  component.__file = \"/home/khoa/src/github.com/khoanguyen96/paypal/src/components/PayPalCheckout.vue\";\n\n  if (!component.render) {\n    component.render = template.render;\n    component.staticRenderFns = template.staticRenderFns;\n    component._compiled = true;\n    if (functional) component.functional = true;\n  }\n\n  component._scopeId = scope;\n  return component;\n}\n/* style inject */\n\n/* style inject SSR */\n\n\nvar PayPalCheckout = __vue_normalize__({\n  render: __vue_render__,\n  staticRenderFns: __vue_staticRenderFns__\n}, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, undefined, undefined);\n\nvar components = {\n  'paypal-checkout': PayPalCheckout\n};\n\n_Object$keys(components).forEach(function (name) {\n  // in browsers ~\n  if (typeof window !== 'undefined' && window.Vue) {\n    window.Vue.component(name, components[name]);\n  }\n});\n\nexport default PayPalCheckout;","map":{"version":3,"sources":["/home/sammyb/gee_collections/gee_collections_vue/node_modules/vue-paypal-checkout/dist/vue-paypal-checkout.esm.js"],"names":["_slicedToArray","_Object$assign","paypal","_Object$keys","requiredProps","optionalProps","specificProps","name","type","String","required","default","validator","value","indexOf","Object","_default","Boolean","defaultProps","props","forEach","_ref","_ref2","def","undefined","_ref3","_ref4","prop","paypalProp","define","getDefine","object","param","defaultParam","isDefined","hasDefault","paypalName","injection","transforms","prototype","getVmProp","addChangeTransform","callable","push","getChange","src","transform","propName","propTypes","BUTTON","PAYMENT","TRANSACTION","assignToPropertyObject","assignTo","vm","obj","getTypedProps","item","_item$getChange","itemsPayPalProp","Array","items","shippingAddressProp","test","vmProps","filter","additionalProps","script","methods","payment","vue","transaction","amount","total","currency","details","shipping_address","item_list","transactions","rest","create","env","client","onAuthorize","data","actions","$emit","commit","execute","then","response","onCancel","mounted","button","Button","render","$el","__vue_script__","__vue_render__","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","__vue_staticRenderFns__","_withStripped","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_normalize__","template","style","script$$1","scope","functional","moduleIdentifier","createInjector","createInjectorSSR","component","options","__file","staticRenderFns","_compiled","_scopeId","PayPalCheckout","components","window","Vue"],"mappings":"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","sourcesContent":["import _slicedToArray from 'babel-runtime/helpers/slicedToArray';\nimport _Object$assign from 'babel-runtime/core-js/object/assign';\nimport paypal from 'paypal-checkout';\nimport _Object$keys from 'babel-runtime/core-js/object/keys';\n\nvar requiredProps = [['amount'], ['currency', 'USD']];\n\nvar optionalProps = [['id'], ['invoiceNumber']];\n\nvar specificProps = [{\n  name: 'env',\n  type: String,\n  required: false,\n  default: 'production',\n  validator: function validator(value) {\n    return ['sandbox', 'production'].indexOf(value) !== -1;\n  }\n}, {\n  name: 'client',\n  type: Object,\n  required: true\n}, {\n  name: 'details',\n  type: Object,\n  required: false,\n  default: function _default() {\n    return {};\n  }\n}, {\n  name: 'commit',\n  type: Boolean,\n  required: false,\n  default: true\n}];\n\nfunction defaultProps () {\n  var props = {};\n\n  // TODO: make type configurable\n  // all required props are type String for now\n  requiredProps.forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        name = _ref2[0],\n        def = _ref2[1];\n\n    props[name] = {\n      type: String,\n      required: true,\n      default: typeof def !== 'undefined' ? def : undefined\n    };\n  });\n\n  // TODO: make type configurable\n  // all optional props are type String for now\n  optionalProps.forEach(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        name = _ref4[0],\n        def = _ref4[1];\n\n    props[name] = {\n      type: String,\n      required: false,\n      default: typeof def !== 'undefined' ? def : undefined\n    };\n  });\n\n  // all specific props are declared ahead of time\n  specificProps.forEach(function (prop) {\n    props[prop.name] = {\n      type: prop.type,\n      required: prop.required\n    };\n\n    if (prop.default !== undefined) {\n      props[prop.name].default = prop.default;\n    }\n  });\n\n  return props;\n}\n\nfunction paypalProp(prop) {\n  /* eslint-disable no-param-reassign */\n  var define = function getDefine(object) {\n    return function def(name, param, defaultParam) {\n      var isDefined = typeof param !== 'undefined' && param !== null;\n      var hasDefault = typeof defaultParam !== 'undefined' && defaultParam !== null;\n\n      if (isDefined) object[name] = param;else if (hasDefault) object[name] = defaultParam;else object[name] = undefined; // TODO: throw err?\n    };\n  }(this);\n\n  define('name', prop.name);\n  define('propName', prop.paypalName, prop.name);\n  define('injection', prop.injection, 'button');\n  define('type', prop.type, Object);\n  define('required', prop.required, false);\n  define('validator', prop.validator, undefined);\n\n  this.transforms = [];\n}\n\npaypalProp.prototype.getVmProp = function getVmProp() {\n  return {\n    type: this.type,\n    required: this.required,\n    validator: this.validator\n  };\n};\n\npaypalProp.prototype.addChangeTransform = function addChangeTransform(callable) {\n  this.transforms.push(callable);\n};\n\npaypalProp.prototype.getChange = function getChange(src) {\n  var value = src[this.name];\n\n  // change the value if necessary...\n  if (value !== undefined && value !== null) {\n    this.transforms.forEach(function (transform) {\n      value = transform(value);\n    });\n  }\n\n  return {\n    name: this.propName,\n    value: value\n  };\n};\n\nvar propTypes = {\n  BUTTON: 'button',\n  PAYMENT: 'payment',\n  TRANSACTION: 'transaction'\n};\n\nfunction assignToPropertyObject(props) {\n  return function assignTo(vm, type) {\n    var obj = {};\n\n    props.getTypedProps(type).forEach(function (item) {\n      var _item$getChange = item.getChange(vm),\n          name = _item$getChange.name,\n          value = _item$getChange.value;\n\n      if (name !== undefined && value !== undefined) {\n        obj[name] = value;\n      }\n    });\n\n    return obj;\n  };\n}\n\n// TODO: add item validator\nvar itemsPayPalProp = new paypalProp({\n  name: 'items',\n  paypalName: 'item_list',\n  type: Array,\n  injection: propTypes.TRANSACTION\n});\n\nitemsPayPalProp.addChangeTransform(function (items) {\n  return { items: items };\n});\n\nvar shippingAddressProp = new paypalProp({\n  name: 'shippingAddress',\n  paypalName: 'shipping_address',\n  type: Object,\n  injection: propTypes.TRANSACTION\n});\n\nvar props = [\n// Button Props\nnew paypalProp({ name: 'buttonStyle', paypalName: 'style', injection: propTypes.BUTTON }), new paypalProp({ name: 'braintree', injection: propTypes.BUTTON }), new paypalProp({ name: 'locale', type: String, injection: propTypes.BUTTON }),\n\n// Payment Props\nnew paypalProp({ name: 'experience', injection: propTypes.PAYMENT }),\n\n// Transaction Props\nnew paypalProp({\n  name: 'invoiceNumber',\n  paypalName: 'invoice_number',\n  type: String,\n  injection: propTypes.TRANSACTION\n}), new paypalProp({\n  name: 'notifyUrl',\n  paypalName: 'notify_url',\n  type: String,\n  validator: function validator(value) {\n    return (/^https?:\\/\\//.test(value)\n    );\n  },\n  injection: propTypes.TRANSACTION\n}), itemsPayPalProp, shippingAddressProp];\n\nfunction vmProps() {\n  var vm = {};\n\n  props.forEach(function (prop) {\n    vm[prop.name] = prop.getVmProp();\n  });\n\n  return vm;\n}\n\nfunction getTypedProps(type) {\n  return props.filter(function (prop) {\n    return prop.injection === type;\n  });\n}\n\nvar additionalProps = {\n  vmProps: vmProps,\n  getTypedProps: getTypedProps\n};\n\nvar assignTo = assignToPropertyObject(additionalProps);\n\nvar script = {\n  props: _Object$assign(defaultProps(), additionalProps.vmProps()),\n  methods: {\n    payment: function payment() {\n      var vue = this;\n\n      var transaction = _Object$assign({\n        amount: {\n          total: this.amount,\n          currency: this.currency,\n          details: this.details\n        }\n      }, assignTo(vue, propTypes.TRANSACTION));\n\n      // TODO: clean this up\n      if (transaction.shipping_address && transaction.item_list) {\n        transaction.item_list.shipping_address = transaction.shipping_address;\n        delete transaction.shipping_address;\n      }\n\n      var payment = {\n        transactions: [transaction]\n      };\n\n      return paypal.rest.payment.create(this.env, this.client, _Object$assign({ payment: payment }, assignTo(vue, propTypes.PAYMENT)));\n    },\n    onAuthorize: function onAuthorize(data, actions) {\n      var vue = this;\n      vue.$emit('payment-authorized', data);\n\n      if (this.commit) {\n        return actions.payment.execute().then(function (response) {\n          vue.$emit('payment-completed', response);\n        });\n      }\n\n      return true;\n    },\n    onCancel: function onCancel(data) {\n      var vue = this;\n      vue.$emit('payment-cancelled', data);\n    }\n  },\n  mounted: function mounted() {\n    var vue = this;\n    var button = _Object$assign({\n      // Pass in env\n      env: vue.env,\n\n      // Pass in the client ids to use to create your transaction\n      // on sandbox and production environments\n      client: vue.client,\n\n      // Pass the payment details for your transaction\n      // See https://developer.paypal.com/docs/api/payments/#payment_create for the expected json parameters\n      payment: vue.payment,\n\n      // Display a \"Pay Now\" button rather than a \"Continue\" button\n      commit: vue.commit,\n\n      // Pass a function to be called when the customer completes the payment\n      onAuthorize: vue.onAuthorize,\n\n      // Pass a function to be called when the customer cancels the payment\n      onCancel: vue.onCancel\n    }, assignTo(vue, propTypes.BUTTON));\n\n    paypal.Button.render(button, vue.$el);\n  }\n};\n\n/* script */\nvar __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function __vue_render__() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\"div\", { staticClass: \"paypal-button\", attrs: { id: _vm.id } });\n};\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n\n/* style */\nvar __vue_inject_styles__ = undefined;\n/* scoped */\nvar __vue_scope_id__ = undefined;\n/* module identifier */\nvar __vue_module_identifier__ = undefined;\n/* functional template */\nvar __vue_is_functional_template__ = false;\n/* component normalizer */\nfunction __vue_normalize__(template, style, script$$1, scope, functional, moduleIdentifier, createInjector, createInjectorSSR) {\n  var component = (typeof script$$1 === 'function' ? script$$1.options : script$$1) || {};\n\n  // For security concerns, we use only base name in production mode.\n  component.__file = \"/home/khoa/src/github.com/khoanguyen96/paypal/src/components/PayPalCheckout.vue\";\n\n  if (!component.render) {\n    component.render = template.render;\n    component.staticRenderFns = template.staticRenderFns;\n    component._compiled = true;\n\n    if (functional) component.functional = true;\n  }\n\n  component._scopeId = scope;\n\n  return component;\n}\n/* style inject */\n\n/* style inject SSR */\n\nvar PayPalCheckout = __vue_normalize__({ render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ }, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, undefined, undefined);\n\nvar components = {\n  'paypal-checkout': PayPalCheckout\n};\n\n_Object$keys(components).forEach(function (name) {\n  // in browsers ~\n  if (typeof window !== 'undefined' && window.Vue) {\n    window.Vue.component(name, components[name]);\n  }\n});\n\nexport default PayPalCheckout;\n"]},"metadata":{},"sourceType":"module"}