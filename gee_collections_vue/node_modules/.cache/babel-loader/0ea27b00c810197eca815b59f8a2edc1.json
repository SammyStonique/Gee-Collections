{"ast":null,"code":"import { createStore } from 'vuex';\nimport axios from 'axios';\nexport default createStore({\n  state: {\n    cart: {\n      cartItems: []\n    },\n    wishlist: {\n      wishlistItems: []\n    },\n    token: '',\n    isAuthenticated: false,\n    loggedInUser: [],\n    reloaded: false,\n    productSearch: '',\n    isProductSearched: false,\n    searchItem: [],\n    detailProducts: []\n  },\n  getters: {},\n  mutations: {\n    searchForItem(state) {\n      localStorage.setItem('productSearch', state.productSearch);\n    },\n\n    setSearchItem(state) {\n      localStorage.setItem('searchItem', JSON.stringify(state.searchItem));\n    },\n\n    setProductDetails(state) {\n      localStorage.setItem('detailProducts', JSON.stringify(state.detailProducts));\n    },\n\n    clearSearch(state) {\n      state.searchItem = [];\n      state.productSearch = '';\n      localStorage.setItem('productSearch', state.productSearch);\n      localStorage.setItem('searchItem', JSON.stringify(state.searchItem));\n    },\n\n    clearProductDetails(state) {\n      state.detailProducts = [];\n      localStorage.setItem('detailProducts', JSON.stringify(state.detailProducts));\n    },\n\n    reloadingPage(state) {\n      if (localStorage.getItem('reloaded')) {\n        // The page was just reloaded. Clear the value from local storage\n        // so that it will reload the next time this page is visited.\n        localStorage.removeItem('reloaded', false);\n        console.log('Value of reload in store set to false');\n      } else {\n        // Set a flag so that we know not to reload the page twice.\n        localStorage.setItem('reloaded', true);\n        console.log(state.reloaded, 'Reload');\n        window.location.reload();\n      }\n    },\n\n    initializeStore(state) {\n      //Check if the cart exists in the local storage\n      if (localStorage.getItem('cart')) {\n        state.cart = JSON.parse(localStorage.getItem('cart')); //Add the cart to local storage if it doesn't exist\n      } else {\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      } //Checks if an authentication token is available in local storage\n\n\n      if (localStorage.getItem('token')) {\n        state.token = localStorage.getItem('token');\n        state.isAuthenticated = true;\n      } else {\n        state.token = '';\n        state.isAuthenticated = false;\n      } //Check if the wishlist exists in the local storage\n\n\n      if (localStorage.getItem('wishlist')) {\n        state.wishlist = JSON.parse(localStorage.getItem('wishlist')); //Add the wishlist to local storage if it doesn't exist\n      } else {\n        localStorage.setItem('wishlist', JSON.stringify(state.wishlist));\n      }\n    },\n\n    //ADDING AN ITEM TO THE CART\n    addToCart(state, cartItem) {\n      //Checking if the cart has an item\n      if (state.cart.cartItems.length > 0) {\n        //Checking if an item exists in a cart\n        const exist = state.cart.cartItems.filter(i => {\n          return i.items.id === cartItem.items.id;\n        }); //If the item exists, increment its quantity in the cart\n\n        if (exist.length > 0) {\n          exist[0].quantity = parseInt(exist[0].quantity) + parseInt(cartItem.quantity); //If the item doesn't exist, push it to the cart\n        } else {\n          state.cart.cartItems.push(cartItem);\n        } //Save the cart to the local storage\n\n\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      } //Adding a new item to the cart and saving it to the local storage\n      else {\n        state.cart.cartItems.push(cartItem);\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      }\n    },\n\n    //REMOVING AN ITEM FROM THE CART\n    removeFromCart(state, cartItem) {\n      // let itemIndex = state.cart.cartItems.indexOf(cartItem)\n      state.cart.cartItems.splice(cartItem, 1);\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n\n    //ADD ITEM TO WISHLIST\n    addToWishlist(state, wishlistItem) {\n      //Checking if the wishlist has an item\n      if (state.wishlist.wishlistItems.length > 0) {\n        //Checking if an item exists in a wishlist\n        const exist = state.wishlist.wishlistItems.filter(i => {\n          return i.items.id === wishlistItem.items.id;\n        }); //If the item exists, increment its quantity in the wishlist\n\n        if (exist.length > 0) {\n          exist[0].quantity = parseInt(exist[0].quantity) + parseInt(wishlistItem.quantity); //If the item doesn't exist, push it to the wishlist\n        } else {\n          state.wishlist.wishlistItems.push(wishlistItem);\n        } //Save the wishlist to the local storage\n\n\n        localStorage.setItem('wishlist', JSON.stringify(state.wishlist));\n      } //Adding a new item to the wishlist and saving it to the local storage\n      else {\n        state.wishlist.wishlistItems.push(wishlistItem);\n        localStorage.setItem('wishlist', JSON.stringify(state.wishlist));\n      }\n    },\n\n    //REMOVING ITEM FROM THE WISHLIST\n    removeFromWishlist(state, wishlistItem) {\n      // let itemIndex = state.cart.cartItems.indexOf(cartItem)\n      state.wishlist.wishlistItems.splice(wishlistItem, 1);\n      localStorage.setItem('wishlist', JSON.stringify(state.wishlist));\n    },\n\n    //SETTING AUTHENTICATION TOKEN\n    setToken(state, token) {\n      state.token = token;\n      state.isAuthenticated = true;\n    },\n\n    //REMOVING AUTHENTICATION TOKEN\n    removeToken(state) {\n      state.token = '';\n      state.isAuthenticated = false;\n    },\n\n    //CLEARING THE CART\n    clearCart(state) {\n      state.cart = {\n        cartItems: []\n      };\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n\n    //CLEARING THE WISHLIST\n    clearCart(state) {\n      state.cart = {\n        cartItems: []\n      };\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n\n    setLoggedInUser(state, payload) {\n      state.loggedInUser = payload;\n    }\n\n  },\n  actions: {\n    getUserDetails({\n      commit\n    }) {\n      axios.get('/api/v1/users/me/').then(response => {\n        commit('setLoggedInUser', response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  },\n  modules: {}\n});","map":{"version":3,"sources":["/home/sammyb/gee_collections/gee_collections_vue/src/store/index.js"],"names":["createStore","axios","state","cart","cartItems","wishlist","wishlistItems","token","isAuthenticated","loggedInUser","reloaded","productSearch","isProductSearched","searchItem","detailProducts","getters","mutations","searchForItem","localStorage","setItem","setSearchItem","JSON","stringify","setProductDetails","clearSearch","clearProductDetails","reloadingPage","getItem","removeItem","console","log","window","location","reload","initializeStore","parse","addToCart","cartItem","length","exist","filter","i","items","id","quantity","parseInt","push","removeFromCart","splice","addToWishlist","wishlistItem","removeFromWishlist","setToken","removeToken","clearCart","setLoggedInUser","payload","actions","getUserDetails","commit","get","then","response","data","catch","error","modules"],"mappings":"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","sourcesContent":["import { createStore } from 'vuex'\nimport axios from 'axios'\n\nexport default createStore({\n  state: {\n    cart:{\n      cartItems:[]\n    },\n    wishlist:{\n      wishlistItems:[]\n    },\n    token: '',\n    isAuthenticated: false,\n    loggedInUser: [],\n    reloaded: false,\n    productSearch: '',\n    isProductSearched: false,\n    searchItem: [],\n    detailProducts: []\n    \n  },\n  getters: {\n\n  },\n  mutations: {\n    searchForItem(state){\n      localStorage.setItem('productSearch',state.productSearch)\n    },\n    setSearchItem(state){\n      localStorage.setItem('searchItem',JSON.stringify(state.searchItem))\n    },\n    setProductDetails(state){\n      localStorage.setItem('detailProducts',JSON.stringify(state.detailProducts))\n    },\n    clearSearch(state){\n      state.searchItem = []\n      state.productSearch = ''\n      localStorage.setItem('productSearch',state.productSearch)\n      localStorage.setItem('searchItem',JSON.stringify(state.searchItem))\n    },\n    clearProductDetails(state){\n      state.detailProducts = []\n      localStorage.setItem('detailProducts',JSON.stringify(state.detailProducts))\n    },\n    reloadingPage(state){\n      if (localStorage.getItem('reloaded')) {\n        // The page was just reloaded. Clear the value from local storage\n        // so that it will reload the next time this page is visited.\n        localStorage.removeItem('reloaded', false);\n        console.log('Value of reload in store set to false')\n        } else {\n            // Set a flag so that we know not to reload the page twice.\n            localStorage.setItem('reloaded', true);\n            console.log(state.reloaded,'Reload')\n            window.location.reload();\n        }\n    },\n    initializeStore(state){\n      //Check if the cart exists in the local storage\n      if(localStorage.getItem('cart')){\n        state.cart = JSON.parse(localStorage.getItem('cart'))\n      //Add the cart to local storage if it doesn't exist\n      }else{\n        localStorage.setItem('cart',JSON.stringify(state.cart))\n      }\n      //Checks if an authentication token is available in local storage\n      if(localStorage.getItem('token')){\n        state.token = localStorage.getItem('token');\n        state.isAuthenticated = true;\n      }else{\n        state.token = '';\n        state.isAuthenticated = false;\n      }\n\n      //Check if the wishlist exists in the local storage\n      if(localStorage.getItem('wishlist')){\n        state.wishlist = JSON.parse(localStorage.getItem('wishlist'))\n      //Add the wishlist to local storage if it doesn't exist\n      }else{\n        localStorage.setItem('wishlist',JSON.stringify(state.wishlist))\n      }\n\n    },\n    //ADDING AN ITEM TO THE CART\n    addToCart(state, cartItem){\n      //Checking if the cart has an item\n      if(state.cart.cartItems.length > 0){\n        //Checking if an item exists in a cart\n        const exist = state.cart.cartItems.filter((i) => {\n          return i.items.id === cartItem.items.id;\n        })\n        //If the item exists, increment its quantity in the cart\n        if(exist.length > 0){\n          exist[0].quantity = parseInt(exist[0].quantity) + parseInt(cartItem.quantity)\n        //If the item doesn't exist, push it to the cart\n        }else{\n          state.cart.cartItems.push(cartItem)\n        }\n        //Save the cart to the local storage\n        localStorage.setItem('cart',JSON.stringify(state.cart));\n      }\n      //Adding a new item to the cart and saving it to the local storage\n      else {\n        state.cart.cartItems.push(cartItem)\n        localStorage.setItem('cart',JSON.stringify(state.cart));\n      }\n    },\n    //REMOVING AN ITEM FROM THE CART\n    removeFromCart(state, cartItem){\n        // let itemIndex = state.cart.cartItems.indexOf(cartItem)\n\n        state.cart.cartItems.splice(cartItem,1)\n        localStorage.setItem('cart',JSON.stringify(state.cart));\n    },\n    //ADD ITEM TO WISHLIST\n    addToWishlist(state, wishlistItem){\n      //Checking if the wishlist has an item\n      if(state.wishlist.wishlistItems.length > 0){\n        //Checking if an item exists in a wishlist\n        const exist = state.wishlist.wishlistItems.filter((i) => {\n          return i.items.id === wishlistItem.items.id;\n        })\n        //If the item exists, increment its quantity in the wishlist\n        if(exist.length > 0){\n          exist[0].quantity = parseInt(exist[0].quantity) + parseInt(wishlistItem.quantity)\n        //If the item doesn't exist, push it to the wishlist\n        }else{\n          state.wishlist.wishlistItems.push(wishlistItem)\n        }\n        //Save the wishlist to the local storage\n        localStorage.setItem('wishlist',JSON.stringify(state.wishlist));\n      }\n      //Adding a new item to the wishlist and saving it to the local storage\n      else {\n        state.wishlist.wishlistItems.push(wishlistItem)\n        localStorage.setItem('wishlist',JSON.stringify(state.wishlist));\n      }\n    },\n    //REMOVING ITEM FROM THE WISHLIST\n    removeFromWishlist(state, wishlistItem){\n      // let itemIndex = state.cart.cartItems.indexOf(cartItem)\n\n      state.wishlist.wishlistItems.splice(wishlistItem,1)\n      localStorage.setItem('wishlist',JSON.stringify(state.wishlist));\n  },\n    //SETTING AUTHENTICATION TOKEN\n    setToken(state,token){\n      state.token = token;\n      state.isAuthenticated = true\n    },\n    //REMOVING AUTHENTICATION TOKEN\n    removeToken(state){\n      state.token = ''\n      state.isAuthenticated = false\n    },\n    //CLEARING THE CART\n    clearCart(state) {\n      state.cart = { cartItems: [] }\n\n      localStorage.setItem('cart', JSON.stringify(state.cart))\n    }, \n    //CLEARING THE WISHLIST\n    clearCart(state) {\n      state.cart = { cartItems: [] }\n\n      localStorage.setItem('cart', JSON.stringify(state.cart))\n    },\n\n    setLoggedInUser(state, payload){\n      state.loggedInUser = payload\n    },\n  },\n  actions: {\n    getUserDetails({commit}){\n      axios.get('/api/v1/users/me/')\n      .then((response)=>{\n          commit('setLoggedInUser',response.data);\n      })\n      .catch((error)=>{\n        console.log(error)\n      })\n    },\n  },\n  modules: {\n  }\n})\n"]},"metadata":{},"sourceType":"module"}