{"ast":null,"code":"import { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    cart: {\n      cartItems: []\n    },\n    token: '',\n    isAuthenticated: false\n  },\n  getters: {},\n  mutations: {\n    initializeStore(state) {\n      //Check if the cart exists in the local storage\n      if (localStorage.getItem('cart')) {\n        state.cart = JSON.parse(localStorage.getItem('cart')); //Add the cart to local storage if it doesn't exist\n      } else {\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      } //Checks if an authentication token is available in local storage\n\n\n      if (localStorage.getItem('token')) {\n        state.token = localStorage.getItem('token');\n        state.isAuthenticated = true;\n        console.log('token available');\n      } else {\n        console.log('no token found');\n        state.token = '';\n        state.isAuthenticated = false;\n      }\n    },\n\n    addToCart(state, cartItem) {\n      //Checking if the cart has an item\n      if (state.cart.cartItems.length > 0) {\n        //Checking if an item exists in a cart\n        const exist = state.cart.cartItems.filter(i => {\n          return i.items.id === cartItem.items.id;\n        }); //If the item exists, increment its quantity in the cart\n\n        if (exist.length > 0) {\n          exist[0].quantity = parseInt(exist[0].quantity) + parseInt(cartItem.quantity); //If the item doesn't exist, push it to the cart\n        } else {\n          state.cart.cartItems.push(cartItem);\n        } //Save the cart to the local storage\n\n\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      } //Adding a new item to the cart and saving it to the local storage\n      else {\n        state.cart.cartItems.push(cartItem);\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n      }\n    },\n\n    removeFromCart(state, cartItem) {\n      // let itemIndex = state.cart.cartItems.indexOf(cartItem)\n      state.cart.cartItems.splice(cartItem, 1);\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n\n    setToken(state, token) {\n      state.token = token;\n      state.isAuthenticated = true;\n    },\n\n    removeToken(state) {\n      state.token = '';\n      state.isAuthenticated = false;\n    }\n\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"sources":["/home/sammyb/gee_collections/gee_collections_vue/src/store/index.js"],"names":["createStore","state","cart","cartItems","token","isAuthenticated","getters","mutations","initializeStore","localStorage","getItem","JSON","parse","setItem","stringify","console","log","addToCart","cartItem","length","exist","filter","i","items","id","quantity","parseInt","push","removeFromCart","splice","setToken","removeToken","actions","modules"],"mappings":"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","sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    cart:{\n      cartItems:[]\n    },\n    token: '',\n    isAuthenticated: false\n  },\n  getters: {\n\n  },\n  mutations: {\n    initializeStore(state){\n      //Check if the cart exists in the local storage\n      if(localStorage.getItem('cart')){\n        state.cart = JSON.parse(localStorage.getItem('cart'))\n      //Add the cart to local storage if it doesn't exist\n      }else{\n        localStorage.setItem('cart',JSON.stringify(state.cart))\n      }\n      //Checks if an authentication token is available in local storage\n      if(localStorage.getItem('token')){\n        state.token = localStorage.getItem('token');\n        state.isAuthenticated = true;\n        console.log('token available');\n        \n      }else{\n        console.log('no token found')\n        state.token = '';\n        state.isAuthenticated = false;\n      }\n\n    },\n    addToCart(state, cartItem){\n      //Checking if the cart has an item\n      if(state.cart.cartItems.length > 0){\n        //Checking if an item exists in a cart\n        const exist = state.cart.cartItems.filter((i) => {\n          return i.items.id === cartItem.items.id;\n        })\n        //If the item exists, increment its quantity in the cart\n        if(exist.length > 0){\n          exist[0].quantity = parseInt(exist[0].quantity) + parseInt(cartItem.quantity)\n        //If the item doesn't exist, push it to the cart\n        }else{\n          state.cart.cartItems.push(cartItem)\n        }\n        //Save the cart to the local storage\n        localStorage.setItem('cart',JSON.stringify(state.cart));\n      }\n      //Adding a new item to the cart and saving it to the local storage\n      else {\n        state.cart.cartItems.push(cartItem)\n        localStorage.setItem('cart',JSON.stringify(state.cart));\n      }\n    },\n    removeFromCart(state, cartItem){\n        // let itemIndex = state.cart.cartItems.indexOf(cartItem)\n\n        state.cart.cartItems.splice(cartItem,1)\n        localStorage.setItem('cart',JSON.stringify(state.cart));\n    },\n    setToken(state,token){\n      state.token = token;\n      state.isAuthenticated = true\n    },\n    removeToken(state){\n      state.token = ''\n      state.isAuthenticated = false\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n"]},"metadata":{},"sourceType":"module"}