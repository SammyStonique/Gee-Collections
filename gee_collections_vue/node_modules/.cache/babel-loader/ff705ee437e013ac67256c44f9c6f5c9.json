{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3b440170\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"breadcrumb-wrap\"\n};\nconst _hoisted_2 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_3 = {\n  class: \"breadcrumb\"\n};\nconst _hoisted_4 = {\n  class: \"breadcrumb-item\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"Home\");\n\nconst _hoisted_6 = {\n  class: \"breadcrumb-item\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"Receipts\");\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"breadcrumb-item active\"\n}, \"New Receipt\", -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = {\n  class: \"receipt-add w-full px-16 py-10\"\n};\nconst _hoisted_10 = {\n  class: \"bg-white py-10\"\n};\nconst _hoisted_11 = {\n  class: \"flex\"\n};\nconst _hoisted_12 = {\n  class: \"basis-1/2 px-20\"\n};\nconst _hoisted_13 = {\n  class: \"flex\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"basis-1/2\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Customer :\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_15 = {\n  class: \"basis-1/2\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\",\n  disabled: \"true\",\n  selected: \"\"\n}, \"--Select Customer--\", -1\n/* HOISTED */\n));\n\nconst _hoisted_17 = {\n  class: \"flex\"\n};\n\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"basis-1/2\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Payment Method :\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_19 = {\n  class: \"basis-1/2\"\n};\n\nconst _hoisted_20 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"\\\" disabled=\\\"true\\\" data-v-3b440170>--Select Payment Method--</option><option value=\\\"Cash\\\" data-v-3b440170>Cash</option><option value=\\\"Mpesa\\\" data-v-3b440170>Mpesa</option><option value=\\\"Cheque\\\" data-v-3b440170>Cheque</option><option value=\\\"EFT\\\" data-v-3b440170>EFT</option>\", 5);\n\nconst _hoisted_25 = [_hoisted_20];\nconst _hoisted_26 = {\n  class: \"flex\"\n};\n\nconst _hoisted_27 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"basis-1/2\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Receipt Date :\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_28 = {\n  class: \"basis-1/2\"\n};\nconst _hoisted_29 = {\n  key: 0,\n  class: \"col-md-12 notification is-danger\"\n};\n\nconst _hoisted_30 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"flex\\\" data-v-3b440170><div class=\\\"basis-1/2\\\" data-v-3b440170><button type=\\\"submit\\\" class=\\\"save-button rounded w-24 px-3 py-2\\\" data-v-3b440170>Save</button></div><div class=\\\"basis-1/2\\\" data-v-3b440170><button type=\\\"reset\\\" class=\\\"reset-button rounded w-24 px-3 py-2\\\" data-v-3b440170>Reset</button></div></div>\", 1);\n\nconst _hoisted_31 = {\n  class: \"basis-1/2 px-20\"\n};\nconst _hoisted_32 = {\n  class: \"flex\"\n};\n\nconst _hoisted_33 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"basis-1/2\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Customer Order:\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_34 = {\n  class: \"basis-1/2\"\n};\n\nconst _hoisted_35 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\",\n  disabled: \"true\",\n  selected: \"\"\n}, \"--Select Order--\", -1\n/* HOISTED */\n));\n\nconst _hoisted_36 = {\n  class: \"flex\"\n};\n\nconst _hoisted_37 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"basis-1/2\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Reference No:\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_38 = {\n  class: \"basis-1/2\"\n};\nconst _hoisted_39 = {\n  class: \"flex\"\n};\n\nconst _hoisted_40 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"basis-1/2\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Amount Received:\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_41 = {\n  class: \"basis-1/2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_LoadingView = _resolveComponent(\"LoadingView\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  const _component_model_select = _resolveComponent(\"model-select\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Loading Animation for Printing Invoice \"), _createVNode(_component_LoadingView, {\n    loader: $props.loader,\n    showLoader: $props.showLoader,\n    hideLoader: $props.hideLoader\n  }, null, 8\n  /* PROPS */\n  , [\"loader\", \"showLoader\", \"hideLoader\"]), _createElementVNode(\"div\", {\n    style: _normalizeStyle({\n      zIndex: this.loaderIndex\n    })\n  }, [_createCommentVNode(\" Breadcrumb Start \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"ul\", _hoisted_3, [_createElementVNode(\"li\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_hoisted_5]),\n    _: 1\n    /* STABLE */\n\n  })]), _createElementVNode(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: \"/cart\"\n  }, {\n    default: _withCtx(() => [_hoisted_7]),\n    _: 1\n    /* STABLE */\n\n  })]), _hoisted_8])])]), _createCommentVNode(\" Breadcrumb End \"), _createCommentVNode(\" Checkout Start \"), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"form\", {\n    action: \"\",\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => $options.createReceipt && $options.createReceipt(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"div\", _hoisted_15, [_withDirectives(_createElementVNode(\"select\", {\n    name: \"customer\",\n    ref: \"customerSelect\",\n    id: \"selectCustomer\",\n    class: \"form-control\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $options.showOrders && $options.showOrders(...args)),\n    onfocus: \"this.selectedIndex = -1;\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.customer = $event)\n  }, [_hoisted_16, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.customersArray, cust => {\n    return _openBlock(), _createElementBlock(\"option\", null, _toDisplayString(cust.first_name) + \" \" + _toDisplayString(cust.last_name), 1\n    /* TEXT */\n    );\n  }), 256\n  /* UNKEYED_FRAGMENT */\n  ))], 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelSelect, $data.customer]])])]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _createElementVNode(\"div\", _hoisted_19, [_withDirectives(_createElementVNode(\"select\", {\n    name: \"payment-method\",\n    id: \"\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.payment_method = $event)\n  }, _hoisted_25, 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, $data.payment_method]])])]), _createElementVNode(\"div\", _hoisted_26, [_hoisted_27, _createElementVNode(\"div\", _hoisted_28, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    name: \"\",\n    id: \"\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.receipt_date = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.receipt_date]])])]), $data.errors.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_29, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.errors, error => {\n    return _openBlock(), _createElementBlock(\"p\", {\n      style: {\n        \"color\": \"red\"\n      },\n      key: error\n    }, _toDisplayString(error), 1\n    /* TEXT */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])) : _createCommentVNode(\"v-if\", true), _hoisted_30]), _createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"div\", _hoisted_32, [_hoisted_33, _createElementVNode(\"div\", _hoisted_34, [_withDirectives(_createElementVNode(\"select\", {\n    name: \"order\",\n    ref: \"orderSelect\",\n    id: \"\",\n    class: \"form-control\",\n    onChange: _cache[4] || (_cache[4] = (...args) => $options.setOrderID && $options.setOrderID(...args)),\n    onfocus: \"this.selectedIndex = -1;\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.customer_order = $event)\n  }, [_hoisted_35, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cstOrders, ord => {\n    return _openBlock(), _createElementBlock(\"option\", null, _toDisplayString(ord.invoice_no) + \" [\" + _toDisplayString(ord.id) + \" (\" + _toDisplayString(ord.order_total) + \")]\", 1\n    /* TEXT */\n    );\n  }), 256\n  /* UNKEYED_FRAGMENT */\n  ))], 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelSelect, $data.customer_order]])])]), _createElementVNode(\"div\", _hoisted_36, [_hoisted_37, _createElementVNode(\"div\", _hoisted_38, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.reference_no = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.reference_no]])])]), _createElementVNode(\"div\", _hoisted_39, [_hoisted_40, _createElementVNode(\"div\", _hoisted_41, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.amount_received = $event)\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.amount_received]])])]), _createVNode(_component_model_select, {\n    options: this.showClientOrders,\n    modelValue: this.myOrders,\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => this.myOrders = $event),\n    placeholder: \"Customer Orders\",\n    onSearchchange: $options.setOrderID\n  }, null, 8\n  /* PROPS */\n  , [\"options\", \"modelValue\", \"onSearchchange\"])])])], 32\n  /* HYDRATE_EVENTS */\n  )])])], 4\n  /* STYLE */\n  )], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","value","disabled","selected","_hoisted_20","_createCommentVNode","_createVNode","_component_LoadingView","loader","$props","showLoader","hideLoader","style","zIndex","loaderIndex","_component_router_link","to","_hoisted_8","action","onSubmit","$options","_hoisted_14","name","ref","id","onChange","onfocus","$data","$event","_hoisted_16","_createElementBlock","_Fragment","_renderList","cust","_toDisplayString","first_name","last_name","_hoisted_18","_hoisted_27","type","length","error","key","_hoisted_30","_hoisted_33","_hoisted_35","ord","invoice_no","order_total","_hoisted_37","_hoisted_40","_component_model_select","options","showClientOrders","myOrders","placeholder","onSearchchange"],"sourceRoot":"","sources":["/home/sammyb/gee_collections/gee_collections_vue/src/views/ReceiptAddView.vue"],"sourcesContent":["<template>\n    <!-- Loading Animation for Printing Invoice -->\n  <LoadingView\n    :loader=\"loader\"\n    :showLoader=\"showLoader\"\n    :hideLoader=\"hideLoader\"\n  />\n\n    <div :style=\"{zIndex: this.loaderIndex}\">\n\n        <!-- Breadcrumb Start -->\n        <div class=\"breadcrumb-wrap\">\n        <div class=\"container-fluid\">\n            <ul class=\"breadcrumb\">\n            <li class=\"breadcrumb-item\"><router-link to=\"/\">Home</router-link></li>\n            <li class=\"breadcrumb-item\"><router-link to=\"/cart\">Receipts</router-link></li>\n            <li class=\"breadcrumb-item active\">New Receipt</li>\n            </ul>\n        </div>\n        </div>\n        <!-- Breadcrumb End -->\n        <!-- Checkout Start -->\n        <div class=\"receipt-add w-full px-16 py-10\">\n            <div class=\"bg-white py-10\">\n                <form action=\"\" @submit.prevent=\"createReceipt\">\n                    <div class=\"flex\">\n                        <div class=\"basis-1/2 px-20\">\n                            <div class=\"flex\">\n                                <div class=\"basis-1/2\">\n                                    <p><strong>Customer :</strong></p>\n                                </div>\n                                <div class=\"basis-1/2\">\n                                    <select name=\"customer\" ref=\"customerSelect\" id=\"selectCustomer\" class=\"form-control\" @change=\"showOrders\" onfocus=\"this.selectedIndex = -1;\" v-model=\"customer\">\n                                        <option value=\"\" disabled=\"true\" selected>--Select Customer--</option>\n                                        <option v-for=\"cust in customersArray\">{{ cust.first_name }} {{ cust.last_name }}</option> \n                                    </select>\n                                </div>\n                            </div>\n                            <div class=\"flex\">\n                                <div class=\"basis-1/2\">\n                                    <p><strong>Payment Method :</strong></p>\n                                </div>\n                                <div class=\"basis-1/2\">\n                                    <select name=\"payment-method\" id=\"\" class=\"form-control\" v-model=\"payment_method\">\n                                        <option value=\"\" disabled=\"true\">--Select Payment Method--</option>\n                                        <option value=\"Cash\">Cash</option>\n                                        <option value=\"Mpesa\">Mpesa</option>\n                                        <option value=\"Cheque\">Cheque</option>\n                                        <option value=\"EFT\">EFT</option>\n                                    </select>\n                                </div>\n                                \n                            </div>\n                            <div class=\"flex\">\n                                <div class=\"basis-1/2\">\n                                    <p><strong>Receipt Date :</strong></p>\n                                </div>\n                                <div class=\"basis-1/2\">\n                                    <input type=\"date\" name=\"\" id=\"\" class=\"form-control\" v-model=\"receipt_date\">\n                                </div>\n                            </div>\n                            <div class=\"col-md-12 notification is-danger\" v-if=\"errors.length\">\n                                <p style=\"color: red\" v-for=\"error in errors\" v-bind:key=\"error\">\n                                    {{ error }}\n                                </p>\n                            </div>\n                            <div class=\"flex\">\n                                <div class=\"basis-1/2\">\n                                    <button type=\"submit\" class=\"save-button rounded w-24 px-3 py-2\">Save</button>\n                                </div>\n                                <div class=\"basis-1/2\">\n                                    <button type=\"reset\" class=\"reset-button rounded w-24 px-3 py-2\">Reset</button>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"basis-1/2 px-20\">\n                            <div class=\"flex\">\n                                <div class=\"basis-1/2\">\n                                    <p><strong>Customer Order:</strong></p>\n                                </div>\n                                <div class=\"basis-1/2\">\n                                    <select name=\"order\" ref=\"orderSelect\" id=\"\" class=\"form-control\" @change=\"setOrderID\" onfocus=\"this.selectedIndex = -1;\" v-model=\"customer_order\">\n                                        <option value=\"\" disabled=\"true\" selected>--Select Order--</option>\n                                        <option v-for=\"ord in cstOrders\">{{ ord.invoice_no }} [{{ord.id}} ({{ ord.order_total }})]</option> \n                                    </select>\n                                </div>\n                            </div>\n                            <div class=\"flex\">\n                                <div class=\"basis-1/2\">\n                                    <p><strong>Reference No:</strong></p>\n                                </div>\n                                <div class=\"basis-1/2\">\n                                <input type=\"text\" class=\"form-control\" v-model=\"reference_no\">\n                                </div>\n                            </div>\n                            <div class=\"flex\">\n                                <div class=\"basis-1/2\">\n                                    <p><strong>Amount Received:</strong></p>\n                                </div>\n                                <div class=\"basis-1/2\">\n                                <input type=\"text\" class=\"form-control\" v-model=\"amount_received\">\n                                </div>\n                            </div>\n                            <model-select\n                                :options=\"this.showClientOrders\"\n                                v-model=\"this.myOrders\"\n                                placeholder=\"Customer Orders\"\n                                @searchchange=\"setOrderID\"\n                            >\n                            </model-select>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n\n</template>\n\n<script>\nimport {ref, reactive} from \"vue\"\nimport LoadingView from \"@/components/LoadingView.vue\"\nimport { ModelSelect } from \"vue-search-select\"\n\nexport default{\n    props: [\"getAllCustomers\", \"customersArray\", 'showClientOrders','myOrders','loader','showLoader','hideLoader','loaderIndex'],\n    components:{\n        LoadingView,\n        ModelSelect\n    },\n    // setup(){\n\n    //     const selectedCustomer = ref(null)\n    //     const state = reactive({\n    //         customer: \"\",\n    //         date: \"\",\n    //         order: \"\",\n    //         reference_no: \"\",\n    //         payment_method: \"\",\n    //         amount: 0,\n    //         orders: [],\n    //         customerOrders: [],\n    //         email: \"\",\n            \n    //     });\n\n    //     const showOrders = ()=>{\n    //        state.email = this.customersArray[selectedCustomer.selectedIndex].email;\n    //        console.log(\"The email is \", state.email)\n    //        console.log(\"The selcted index is \",selectedCustomer.selectedIndex)\n\n    //         // this.axios\n    //         // .get(`api/v1/orders/${user}/`)\n    //         // .then((response) => {\n    //         //     state.orders = response.data;\n    //         //     state.customerOrders = state.orders[selectedCustomer.selectedIndex];\n    //         // })\n    //         // .catch((error) => {\n    //         // console.log(error);\n    //         // });\n    //     }\n    //     return{\n    //         selectedCustomer, showOrders\n    //     }\n    // },\n    data(){\n        return{\n            email: \"\",\n            customerID: \"\",\n            selectedCust: 0,\n            selectedOrd: 0,\n            orders: [],\n            cstOrders: [],\n            errors: [],\n            receipt_date: \"\",\n            payment_method: \"\",\n            reference_no: \"\",\n            amount_received: 0,\n            customer: \"\",\n            customer_order: \"\",\n            balance: 0,\n            order_id: \"\",\n            payment_status: false,\n            order_first_name: \"\",\n            order_last_name: \"\",\n            order_email: \"\",\n            order_phone_number: \"\",\n            order_county: \"\",\n            order_city: \"\",\n            order_address: \"\",\n            order_items: [],\n            order_order_total: 0,\n            order_delivery_fee: 0,\n            order_coupon: [],\n            generated_receipt: [],\n            coupon_code : \"\",\n            coupon_status: \"Activated\",\n        }\n    },\n    methods :{\n        showOrders(){\n            this.cstOrders = [];\n            this.selectedCust = this.$refs.customerSelect.selectedIndex - 1;\n            this.email = this.customersArray[this.selectedCust].email;\n            this.customerID = this.customersArray[this.selectedCust].id;\n    \n            this.axios\n            .get(`api/v1/orders/?=${this.email}/`)\n            .then((response) => {\n                this.orders = response.data;\n                for(let i=0; i<this.orders.length; i++){\n                    if(this.orders[i].user == this.email && this.orders[i].paid == false){\n                        this.cstOrders.push(this.orders[i]);\n                    }\n                }\n            })\n            .catch((error) => {\n            console.log(error);\n            });\n        },\n        setOrderID(){\n            this.order_id = \"\";\n            this.order_first_name = \"\";\n            this.order_last_name = \"\";\n            this.order_email = \"\";\n            this.order_phone_number = \"\";\n            this.order_county = \"\";\n            this.order_city = \"\";\n            this.order_address = \"\";\n            this.order_order_total = 0;\n            this.order_delivery_fee = 0;\n            this.order_items = [];\n            this.payment_status = false;\n            this.selectedOrd = this.$refs.orderSelect.selectedIndex - 1;\n            this.order_id = this.cstOrders[this.selectedOrd].id;\n            this.payment_status = this.cstOrders[this.selectedOrd].paid;\n            this.order_first_name = this.cstOrders[this.selectedOrd].first_name;\n            this.order_last_name = this.cstOrders[this.selectedOrd].last_name;\n            this.order_email = this.cstOrders[this.selectedOrd].email;\n            this.order_phone_number = this.cstOrders[this.selectedOrd].phone_number;\n            this.order_county = this.cstOrders[this.selectedOrd].county;\n            this.order_city = this.cstOrders[this.selectedOrd].city;\n            this.order_address = this.cstOrders[this.selectedOrd].address;\n            this.order_order_total = this.cstOrders[this.selectedOrd].order_total;\n            this.order_delivery_fee = this.cstOrders[this.selectedOrd].delivery_fee;\n            this.order_items = this.cstOrders[this.selectedOrd].items;\n            this.coupon_applied = this.cstOrders[this.selectedOrd].coupon_applied;\n        },\n        createReceipt(){\n            this.showLoader();\n            this.errors = [];\n            if (\n                this.customer === \"\" &&\n                this.receipt_date === \"\" &&\n                this.payment_method === \"\" &&\n                this.customer_order === \"\" &&\n                this.reference_no === \"\" &&\n                this.amount_received === \"\"\n            ) {\n                this.errors.push(\"Please fill in the details!\");\n            } else {\n                if (\n                this.customer === \"\" ||\n                this.receipt_date === \"\" ||\n                this.payment_method === \"\" ||\n                this.customer_order === \"\" ||\n                this.reference_no === \"\" ||\n                this.amount_received === \"\" \n                ) {\n                this.errors.push(\"Some details are missing!\");\n                }\n            }\n            this.balance = this.cstOrders[this.selectedOrd].order_total - this.amount_received;\n            if (!this.errors.length) {\n                let formData = {\n                    receipt_order: this.order_id,\n                    receipt_user: this.customerID,\n                    received_amount: Number(this.amount_received).toFixed(2),\n                    payment_method: this.payment_method,\n                    reference_no: this.reference_no,\n                    created_at: this.receipt_date,\n                    balance: Number(this.balance).toFixed(2)\n                }\n                this.axios\n                .post('api/v1/generate-receipt/', formData)\n                .then((response)=>{\n                    this.generated_receipt = response.data;\n  \n                    this.$toast.success(\"Receipt Succesfully Added\", {\n                    duration: 5000,\n                    dismissible: true,\n                    });\n                })\n                .catch((error)=>{\n                    console.log(error);\n                })\n                .finally(()=>{\n                    this.payment_status = true;\n                    let formData = {\n                        first_name: this.order_first_name,\n                        last_name: this.order_last_name,\n                        email: this.order_email,\n                        phone_number: this.order_phone_number,\n                        county: this.order_county,\n                        city: this.order_city,\n                        address: this.order_address,\n                        order_total: this.order_order_total,\n                        delivery_fee: this.order_delivery_fee,\n                        items: this.order_items,\n                        paid : this.payment_status,\n                        payment_reference : this.reference_no,\n                        receipt_no : this.generated_receipt.receipt_no,\n                        coupon_applied: this.coupon_applied,\n                    }\n                    \n                    this.axios\n                    .put(\"/api/v1/orders/\" + this.order_id + \"/\", formData)\n                    .then((response)=>{\n                        console.log(response);\n                    })\n                    .catch((error)=>{\n                        console.log(error.message);\n                        // console.log(error.response.data);  \n                        // console.log(error.response.status);  \n                        // console.log(error.response.headers);\n                    })\n                    .finally(()=>{\n                        this.axios\n                        .get(`/api/v1/coupons/?=${ this.order_id }/`)\n                        .then((response)=>{\n                            this.order_coupon = response.data;\n                            this.coupon_code = this.order_coupon[0].coupon_code;                          \n                        })\n                        .catch((error)=>{\n                            console.log(error.message);\n                        })\n                        .finally(()=>{\n                            let formData = {\n                                coupon_amount : this.order_coupon[0].coupon_amount,\n                                coupon_order : this.order_coupon[0].coupon_order,\n                                status: this.coupon_status,\n                            }\n                            this.axios\n                            .put(`/api/v1/coupons-list/${this.coupon_code}/`, formData)\n                            .then((response)=>{\n\n                            })\n                            .catch((error)=>{\n                                console.log(error.message);\n                            })\n                            .finally(()=>{\n                                this.hideLoader();\n                                this.customer = \"\";\n                                this.customer_order = \"\";\n                                this.amount_received = 0;\n                                this.receipt_date = \"\";\n                                this.payment_method = \"\";\n                                this.reference_no = \"\";\n                                this.payment_status = false;\n                            })\n                        })\n                    \n                    })\n                    \n                })\n            }\n\n        }\n\n    },\n    mounted(){\n        this.getAllCustomers();\n    }\n}\n\n</script>\n\n<style scoped>\n .save-button{\n    background-color: #ff6f61;\n    color: white;\n }\n .reset-button{\n    border: 1px solid;\n    border-color: #ff6f61;\n }\n .save-button:hover{\n    border: 1px solid;\n    background-color: black;\n    color: white;\n }\n .reset-button:hover{\n    border: 1px solid;\n    background-color: #ff6f61;\n    color: white;\n }\n</style>"]},"metadata":{},"sourceType":"module"}