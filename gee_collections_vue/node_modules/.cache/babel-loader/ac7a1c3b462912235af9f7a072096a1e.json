{"ast":null,"code":"export default {\n  data() {\n    return {\n      email: '',\n      first_name: '',\n      last_name: '',\n      gender: '',\n      city: '',\n      county: '',\n      address: '',\n      password: '',\n      password2: '',\n      phone_number: '',\n      errors: [],\n      watcherMsg: [],\n      eStyle: null,\n      fStyle: null,\n      lStyle: null,\n      gStyle: null,\n      cStyle: null,\n      ccStyle: null,\n      aStyle: null,\n      nStyle: null,\n      pStyle: null,\n      passStyle: null,\n      bWidth: null,\n      showPass: false,\n      passType: false,\n      showPass2: false,\n      pass2Type: false\n    };\n  },\n\n  watch: {\n    email(value) {\n      // binding this to the data value in the email input  \n      this.email = value;\n      this.validateEmail(value);\n    },\n\n    phone_number(value) {\n      this.phone_number = value;\n      this.validatePhoneNumber(value);\n    },\n\n    first_name(value) {\n      this.first_name = value;\n      this.validateFirstName(value);\n    },\n\n    last_name(value) {\n      this.last_name = value;\n      this.isLetter(value);\n    },\n\n    password(value) {\n      this.password = value;\n      this.validatePassword(value);\n    },\n\n    password2(value) {\n      this.password2 = value;\n      this.validatePasswordConfirmation(value);\n    }\n\n  },\n  methods: {\n    validateEmail(value) {\n      if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)) {\n        this.watcherMsg['email'] = '';\n        this.eStyle = 'green';\n        this.bWidth = 2;\n      } else {\n        if (value == '') {\n          this.watcherMsg['email'] = '';\n          this.eStyle = '';\n        } else {\n          this.watcherMsg['email'] = 'Invalid Email Address';\n          this.eStyle = 'red';\n          this.bWidth = 2;\n        }\n      }\n    },\n\n    isLetter(e) {\n      let char = String.fromCharCode(e.keyCode); // Get the character\n\n      if (/^[A-Za-z]+$/.test(char)) return true; // Match with regex \n      else e.preventDefault(); // If not match, don't add to input text\n    },\n\n    validateFirstName(e) {\n      let char = String.fromCharCode(e.keyCode); // Get the character\n\n      if (/^[A-Za-z]+$/.test(char)) {\n        this.watcherMsg['first_name'] = '';\n        this.fStyle = 'green';\n        this.bWidth = 2; // return true; // Match with regex \n      } else {\n        if (value == '') {\n          this.watcherMsg['first_name'] = '';\n          this.fStyle = '';\n        } else e.preventDefault(); // If not match, don't add to input text\n\n      }\n    },\n\n    validatePhoneNumber(value) {\n      if (/^(?:254|\\+254|0)?((?:(?:7(?:(?:[01249][0-9])|(?:5[789])|(?:6[89])))|(?:1(?:[1][0-5])))[0-9]{6})$/.test(value) || /^(?:254|\\+254|0)?((?:(?:7(?:(?:3[0-9])|(?:5[0-6])|(8[5-9])))|(?:1(?:[0][0-2])))[0-9]{6})$/.test(value)) {\n        this.nStyle = 'green';\n        this.watcherMsg['phone_number'] = '';\n        this.bWidth = 2;\n      } else {\n        if (value == '') {\n          this.nStyle = '';\n          this.watcherMsg['phone_number'] = '';\n        } else {\n          this.nStyle = 'red';\n          this.watcherMsg['phone_number'] = 'Invalid Phone Number';\n          this.bWidth = 2;\n        }\n      }\n    },\n\n    validatePassword(value) {\n      if (value.length > 0 && value.length < 8) {\n        this.watcherMsg['password'] = 'Must be a minimum of 8 characters!';\n        this.pStyle = 'red';\n        this.bWidth = 2;\n      } else {\n        if (value.length == 0) {\n          this.watcherMsg['password'] = '';\n          this.pStyle = '';\n        } else {\n          this.pStyle = 'green';\n          this.watcherMsg['password'] = '';\n          this.bWidth = 2;\n        }\n      }\n    },\n\n    validatePasswordConfirmation(value) {\n      if (value === this.password) {\n        this.passStyle = 'green';\n        this.watcherMsg['password2'] = '';\n        this.bWidth = 2;\n      } else {\n        this.watcherMsg['password2'] = 'The passwords do not match';\n        this.passStyle = 'red';\n        this.bWidth = 2;\n      }\n    },\n\n    showPassword() {\n      if (!this.showPass) {\n        this.showPass = true;\n        this.passType = true;\n      } else {\n        this.showPass = false;\n        this.passType = false;\n      }\n    },\n\n    showPassword2() {\n      if (!this.showPass2) {\n        this.showPass2 = true;\n        this.pass2Type = true;\n      } else {\n        this.showPass2 = false;\n        this.pass2Type = false;\n      }\n    },\n\n    createUser() {\n      this.errors = [];\n\n      if (this.first_name === '' && this.last_name === '' && this.email === '' && this.password === '' && this.password2 === '' && this.phone_number === '') {\n        this.errors.push('Please fill in the details!');\n      } else {\n        if (this.first_name === '') {\n          this.errors.push('First Name is missing');\n        }\n\n        if (this.last_name === '') {\n          this.errors.push('Last Name is missing');\n        }\n\n        if (this.email === '') {\n          this.errors.push('Email is missing');\n        }\n\n        if (this.phone_number === '') {\n          this.errors.push('Phone number required');\n        }\n\n        if (this.gender === '') {\n          this.errors.push('Gender is missing');\n        }\n\n        if (this.city === '') {\n          this.errors.push('City is missing');\n        }\n\n        if (this.county === '') {\n          this.errors.push('County is missing');\n        }\n\n        if (this.address === '') {\n          this.errors.push('Address is missing');\n        }\n\n        if (this.password === '') {\n          this.errors.push('Password is too short');\n        }\n\n        if (this.password2 === '') {\n          this.errors.push('Please confirm your password');\n        }\n\n        if (this.password !== this.password2) {\n          this.errors.push('Passwords do not match');\n          this.password2 = '';\n        }\n      }\n\n      if (!this.errors.length) {\n        let formData = new FormData();\n        formData.append('first_name', this.first_name);\n        formData.append('last_name', this.last_name);\n        formData.append('email', this.email);\n        formData.append('gender', this.gender);\n        formData.append('city', this.city);\n        formData.append('county', this.county);\n        formData.append('address', this.address);\n        formData.append('password', this.password);\n        formData.append('phone_number', this.phone_number);\n        this.axios.post('/api/v1/users/', formData).then(response => {\n          this.$toast.success('Account Created Succesfully', {\n            duration: 10000,\n            dismissible: true\n          });\n          this.$router.push('/login');\n        }).catch(error => {\n          if (error.response) {\n            for (const property in error.response.data) {\n              this.errors.push(`${error.response.data[property]}`.toLowerCase().split(' ').map(s => s.charAt(0).toUpperCase() + s.substring(1)).join(' '));\n              this.$toast.error(`${error.response.data[property]}`.toLowerCase().split(' ').map(s => s.charAt(0).toUpperCase() + s.substring(1)).join(' '), {\n                duration: 5000,\n                dismissible: true\n              });\n            }\n\n            console.log(JSON.stringify(error.response.data));\n          } else if (error.message) {\n            this.errors.push('Something went wrong. Please try again');\n            console.log(JSON.stringify(error));\n          }\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["data","email","first_name","last_name","gender","city","county","address","password","password2","phone_number","errors","watcherMsg","eStyle","fStyle","lStyle","gStyle","cStyle","ccStyle","aStyle","nStyle","pStyle","passStyle","bWidth","showPass","passType","showPass2","pass2Type","watch","value","validateEmail","validatePhoneNumber","validateFirstName","isLetter","validatePassword","validatePasswordConfirmation","methods","test","e","char","String","fromCharCode","keyCode","preventDefault","length","showPassword","showPassword2","createUser","push","formData","FormData","append","axios","post","then","response","$toast","success","duration","dismissible","$router","catch","error","property","toLowerCase","split","map","s","charAt","toUpperCase","substring","join","console","log","JSON","stringify","message"],"sourceRoot":"","sources":["/home/sammyb/gee_collections/gee_collections_vue/src/views/RegisterView.vue"],"sourcesContent":["<template>\n    <div class=\"register\">\n        <!-- Breadcrumb Start -->\n        <div class=\"breadcrumb-wrap\">\n            <div class=\"container-fluid\">\n                <ul class=\"breadcrumb\">\n                    <li class=\"breadcrumb-item\"><router-link to=\"/\">Home</router-link></li>\n                    <li class=\"breadcrumb-item active\">Register</li>\n                </ul>\n            </div>\n        </div>\n        <!-- Breadcrumb End -->\n        \n        <!-- Login Start -->\n        <div class=\"login\">\n            <div class=\"container-fluid\">\n                <div class=\"row\">\n                    <div class=\"col-lg-12\">\n                        <form @submit.prevent=\"createUser\">    \n                            <div class=\"register-form\">\n                            <h1 style=\"text-align: center; margin-bottom: 20px;\">Sign Up</h1>\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <label>First Name<em>*</em></label>\n                                        <input class=\"form-control\" type=\"text\" placeholder=\"First Name\" v-model=\"first_name\" :style=\"{borderColor: fStyle,borderWidth: bWidth+'px' }\" required v-on:keypress=\"validateFirstName($event)\">\n                                        <span v-if=\"watcherMsg.first_name\" :style=\"{color: fStyle, fontSize:10 + 'px'}\">{{watcherMsg.first_name}}</span>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Last Name<em>*</em></label>\n                                        <input class=\"form-control\" type=\"text\" placeholder=\"Last Name\" v-model=\"last_name\" :style=\"{borderColor: lStyle,borderWidth: bWidth+'px' }\" required v-on:keypress=\"isLetter($event)\">\n                                        <span v-if=\"watcherMsg.last_name\" :style=\"{color: lStyle, fontSize:10 + 'px'}\">{{watcherMsg.last_name}}</span>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>E-mail<em>*</em></label>\n                                        <input class=\"form-control\" type=\"email\" placeholder=\"E-mail\" v-model=\"email\" :style=\"{borderColor: eStyle,borderWidth: bWidth+'px' }\" required>\n                                        <span v-if=\"watcherMsg.email\" :style=\"{color: eStyle, fontSize:10 + 'px'}\">{{watcherMsg.email}}</span>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Mobile No<em>*</em></label>\n                                        <input class=\"form-control\" type=\"text\" placeholder=\"e.g 07XXXXXXXX\" v-model=\"phone_number\" :style=\"{borderColor: nStyle,borderWidth: bWidth+'px' }\" required>\n                                        <span v-if=\"watcherMsg.phone_number\" :style=\"{color: nStyle, fontSize:10 + 'px'}\">{{watcherMsg.phone_number}}</span>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Gender<em>*</em></label>\n                                        <select name=\"gender\" class=\"form-control\" v-model=\"gender\" :style=\"{ borderColor: gStyle, borderWidth: bWidth + 'px' }\">\n                                            <option value=\"\" disabled=\"true\">--Select your Gender--</option>\n                                            <option value=\"Male\">Male</option>\n                                            <option value=\"Female\">Female</option>\n                                            <option value=\"Other\">Other</option>\n                                        </select>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>City<em>*</em></label>\n                                        <select name=\"city\" class=\"form-control\" v-model=\"city\" :style=\"{ borderColor: cStyle, borderWidth: bWidth + 'px' }\">\n                                            <option value=\"\" disabled=\"true\">--Select your City--</option>\n                                            <option value=\"Nairobi\">Nairobi</option>\n                                            <option value=\"Kisumu\">Kisumu</option>\n                                            <option value=\"Mombasa\">Mombasa</option>\n                                            <option value=\"Nakuru\">Nakuru</option>\n                                        </select>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>County<em>*</em></label>\n                                        <select name=\"county\" class=\"form-control\" v-model=\"county\" :style=\"{ borderColor: ccStyle, borderWidth: bWidth + 'px' }\">\n                                            <option value=\"\" disabled=\"true\">--Select your County--</option>\n                                            <option value=\"Baringo\">Baringo</option>\n                                            <option value=\"Bomet\">Bomet</option>\n                                            <option value=\"Bungoma\">Bungoma</option>\n                                            <option value=\"Busia\">Busia</option>\n                                            <option value=\"Elgeyo Marakwet\">Elgeyo Marakwet</option>\n                                            <option value=\"Embu\">Embu</option>\n                                            <option value=\"Garissa\">Garissa</option>\n                                            <option value=\"Homa Bay\">Homa Bay</option>\n                                            <option value=\"Isiolo\">Isiolo</option>\n                                            <option value=\"Kajiado\">Kajiado</option>\n                                            <option value=\"Kakamega\">Kakamega</option>\n                                            <option value=\"Kericho\">Kericho</option>\n                                            <option value=\"Kiambu\">Kiambu</option>\n                                            <option value=\"Kilifi\">Kilifi</option>\n                                            <option value=\"Kirinyaga\">Kirinyaga</option>\n                                            <option value=\"Kisii\">Kisii</option>\n                                            <option value=\"Kisumu\">Kisumu</option>\n                                            <option value=\"Kitui\">Kitui</option>\n                                            <option value=\"Kwale\">Kwale</option>\n                                            <option value=\"Laikipia\">Laikipia</option>\n                                            <option value=\"Lamu\">Lamu</option>\n                                            <option value=\"Machakos\">Machakos</option>\n                                            <option value=\"Makueni\">Makueni</option>\n                                            <option value=\"Mandera\">Mandera</option>\n                                            <option value=\"Meru\">Meru</option>\n                                            <option value=\"Migori\">Migori</option>\n                                            <option value=\"Marsabit\">Marsabit</option>\n                                            <option value=\"Muranga\">Muranga</option>\n                                            <option value=\"Nairobi\">Nairobi</option>\n                                            <option value=\"Nakuru\">Nakuru</option>\n                                            <option value=\"Nandi\">Nandi</option>\n                                            <option value=\"Narok\">Narok</option>\n                                            <option value=\"Nyamira\">Nyamira</option>\n                                            <option value=\"Nyandarua\">Nyandarua</option>\n                                            <option value=\"Nyeri\">Nyeri</option>\n                                            <option value=\"Samburu\">Samburu</option>\n                                            <option value=\"Siaya\">Siaya</option>\n                                            <option value=\"Taita Taveta\">Taita Taveta</option>\n                                            <option value=\"Tana River\">Tana River</option>\n                                            <option value=\"Tharaka Nithi\">Tharaka Nithi</option>\n                                            <option value=\"Trans Nzoia\">Trans Nzoia</option>\n                                            <option value=\"Turkana\">Turkana</option>\n                                            <option value=\"Uasin Gishu\">Uasin Gishu</option>\n                                            <option value=\"Vihiga\">Vihiga</option>\n                                            <option value=\"Wajir\">Wajir</option>\n                                            <option value=\"West Pokot\">West Pokot</option>\n                                        </select>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Address<em>*</em></label>\n                                        <input class=\"form-control\" type=\"text\" placeholder=\"e.g 734\" v-model=\"address\" :style=\"{ borderColor: aStyle, borderWidth: bWidth + 'px' }\"/>\n                                        <span v-if=\"watcherMsg.address\" :style=\"{ color: aStyle, fontSize: 10 + 'px' }\">{{ watcherMsg.address }}</span>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Password<em>*</em></label>\n                                        <input class=\"form-control\" :type=\"passType ? 'text' : 'password'\" placeholder=\"Password\" v-model=\"password\" :style=\"{borderColor: pStyle,borderWidth: bWidth+'px' }\" required>\n                                        <button type=\"button\" class=\"show-password\" @click=\"showPassword()\">\n                                        <i class=\"fa fa-eye-slash\" v-if=\"!passType\"></i>\n                                        <i class=\"fa fa-eye\" v-else></i>\n                                        </button>\n                                        <span v-if=\"watcherMsg.password\" :style=\"{color: pStyle, fontSize:10 + 'px' }\">{{watcherMsg.password}}</span>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Confirm Password<em>*</em></label>\n                                        <input class=\"form-control\" :type=\"pass2Type ? 'text' : 'password'\" placeholder=\"Password\" v-model=\"password2\" :style=\"{borderColor: passStyle,borderWidth: bWidth+'px' }\" required>\n                                        <button type=\"button\" class=\"show-password\" @click=\"showPassword2()\">\n                                        <i class=\"fa fa-eye-slash\" v-if=\"!pass2Type\"></i>\n                                        <i class=\"fa fa-eye\" v-else></i>\n                                        </button>\n                                        <span v-if=\"watcherMsg.password2\" :style=\"{color: passStyle , fontSize:10 + 'px' }\">{{watcherMsg.password2}}</span>\n                                    </div>\n                                    <div class=\"col-md-12 notification is-danger\" v-if=\"errors.length\">\n                                        <p class=\"capitalize-first\" style=\"color: red;\" v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n                                    </div>\n                                    <div class=\"col-md-12 btn-submit\">\n                                        <button class=\"btn submit-btn\">Sign Up</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n        <!-- Login End -->\n    </div>\n</template>\n\n<script>\nexport default {\n    data(){\n        return{\n            email: '',\n            first_name: '',\n            last_name: '',\n            gender: '',\n            city: '',\n            county: '',\n            address: '',\n            password: '',\n            password2: '',\n            phone_number: '',\n            errors:[],\n            watcherMsg:[],\n            eStyle: null,\n            fStyle: null,lStyle: null,gStyle: null,cStyle: null,ccStyle: null,aStyle: null,\n            nStyle: null,\n            pStyle: null,\n            passStyle: null,\n            bWidth : null, \n            showPass: false,\n            passType: false,\n            showPass2: false,\n            pass2Type : false          \n        }\n    },\n    watch: {\n        email(value){\n        // binding this to the data value in the email input  \n        this.email = value; \n        this.validateEmail(value);\n        },\n        phone_number(value){\n            this.phone_number = value;\n            this.validatePhoneNumber(value)\n        },\n        first_name(value){\n            this.first_name = value;\n            this.validateFirstName(value)\n        },\n        last_name(value){\n            this.last_name = value;\n            this.isLetter(value)\n        },\n        password(value){\n            this.password = value;\n            this.validatePassword(value)\n        },\n        password2(value){\n            this.password2 = value;\n            this.validatePasswordConfirmation(value)\n        }\n    },\n    methods:{\n        validateEmail(value){  \n            if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(value)){ \n                this.watcherMsg['email'] = '';\n                this.eStyle = 'green';\n                this.bWidth = 2\n\n            } else{\n                if(value == ''){\n                    this.watcherMsg['email'] = ''; \n                    this.eStyle = ''\n\n                }\n                else{\n                    this.watcherMsg['email'] = 'Invalid Email Address'; \n                    this.eStyle = 'red'\n                    this.bWidth = 2\n                }\n            }  \n        }, \n        isLetter(e) {\n            let char = String.fromCharCode(e.keyCode); // Get the character\n            if(/^[A-Za-z]+$/.test(char)) return true; // Match with regex \n            else e.preventDefault(); // If not match, don't add to input text\n        },\n        validateFirstName(e) {\n            let char = String.fromCharCode(e.keyCode); // Get the character\n            if(/^[A-Za-z]+$/.test(char)){\n                this.watcherMsg['first_name'] = '';\n                this.fStyle = 'green';\n                this.bWidth = 2\n                // return true; // Match with regex \n            } else{\n                if(value == ''){\n                    this.watcherMsg['first_name'] = ''; \n                    this.fStyle = ''\n                }\n                else e.preventDefault(); // If not match, don't add to input text\n            }\n            \n        },\n        validatePhoneNumber(value){\n            if ((/^(?:254|\\+254|0)?((?:(?:7(?:(?:[01249][0-9])|(?:5[789])|(?:6[89])))|(?:1(?:[1][0-5])))[0-9]{6})$/.test(value))|| (/^(?:254|\\+254|0)?((?:(?:7(?:(?:3[0-9])|(?:5[0-6])|(8[5-9])))|(?:1(?:[0][0-2])))[0-9]{6})$/.test(value))){\n                    this.nStyle = 'green';\n                    this.watcherMsg['phone_number'] = ''\n                    this.bWidth = 2\n\n            }else{\n                if(value == ''){\n                    this.nStyle = '';\n                    this.watcherMsg['phone_number'] = ''                        \n                }\n                else{\n                    this.nStyle = 'red';\n                    this.watcherMsg['phone_number'] = 'Invalid Phone Number'\n                    this.bWidth = 2\n                }\n            }\n        },\n        validatePassword(value){\n            if (value.length > 0 && value.length < 8){\n                this.watcherMsg['password'] = 'Must be a minimum of 8 characters!'\n                this.pStyle = 'red'\n                this.bWidth = 2\n            }else{\n                if(value.length == 0){\n                   this.watcherMsg['password'] = ''\n                   this.pStyle = ''\n                }\n            else{\n                    this.pStyle = 'green'\n                    this.watcherMsg['password'] = ''\n                    this.bWidth = 2\n                }\n            }\n        }, \n        validatePasswordConfirmation(value){\n            if (value === this.password){\n                this.passStyle = 'green'\n                this.watcherMsg['password2'] = ''\n                this.bWidth = 2\n            }else{\n                this.watcherMsg['password2'] = 'The passwords do not match'\n                this.passStyle = 'red'\n                this.bWidth = 2\n            }\n        },   \n        showPassword(){\n            if(!this.showPass){\n                this.showPass = true;\n                this.passType = true;\n            }\n            else{\n                this.showPass = false;\n                this.passType = false;\n            }\n        }, \n        showPassword2(){\n            if(!this.showPass2){\n                this.showPass2 = true;\n                this.pass2Type = true;\n            }\n            else{\n                this.showPass2 = false;\n                this.pass2Type = false;\n            }\n        },    \n        createUser(){\n            this.errors = []\n            if(this.first_name === '' && this.last_name === '' && this.email === ''&&this.password === ''&&this.password2 === ''&& this.phone_number===''){\n                this.errors.push('Please fill in the details!')\n            }else{\n                if(this.first_name === ''){\n                    this.errors.push('First Name is missing')\n                }\n                if(this.last_name === ''){\n                    this.errors.push('Last Name is missing')\n                }\n                if(this.email === ''){\n                    this.errors.push('Email is missing')\n                }\n                if(this.phone_number === ''){\n                    this.errors.push('Phone number required')\n                }\n                if(this.gender === ''){\n                    this.errors.push('Gender is missing')\n                }\n                if(this.city === ''){\n                    this.errors.push('City is missing')\n                }\n                if(this.county === ''){\n                    this.errors.push('County is missing')\n                }\n                if(this.address === ''){\n                    this.errors.push('Address is missing')\n                }\n                if(this.password === ''){\n                    this.errors.push('Password is too short')\n                }\n                if(this.password2 === ''){\n                    this.errors.push('Please confirm your password')\n                }\n                if(this.password !== this.password2){\n                    this.errors.push('Passwords do not match')\n                    this.password2 = ''\n                }\n            }\n\n            if(!this.errors.length){\n                let formData = new FormData();\n                formData.append('first_name', this.first_name);\n                formData.append('last_name', this.last_name);\n                formData.append('email', this.email);\n                formData.append('gender', this.gender);\n                formData.append('city', this.city);\n                formData.append('county', this.county);\n                formData.append('address', this.address);\n                formData.append('password', this.password);\n                formData.append('phone_number', this.phone_number)\n\n                this.axios.post('/api/v1/users/', formData)\n                .then((response)=>{\n                    this.$toast.success('Account Created Succesfully',{\n                        duration: 10000,\n                        dismissible: true\n                    })\n                    this.$router.push('/login');\n                })\n                .catch((error)=>{\n                    if (error.response) {\n                        for (const property in error.response.data) {\n                            this.errors.push((`${error.response.data[property]}`).toLowerCase().split(' ').map((s) => s.charAt(0).toUpperCase() + s.substring(1)).join(' '))\n                            this.$toast.error((`${error.response.data[property]}`).toLowerCase().split(' ').map((s) => s.charAt(0).toUpperCase() + s.substring(1)).join(' '),{\n                                duration: 5000,\n                                dismissible: true\n                            })\n                        }\n                        console.log(JSON.stringify(error.response.data))\n                    } else if (error.message) {\n                        this.errors.push('Something went wrong. Please try again')\n                        console.log(JSON.stringify(error))\n                    }\n                })\n            }\n            \n        }\n    }\n}\n</script>\n\n<style scoped>\n    .container-fluid{\n        width:80%;\n    }\n    .btn-submit{\n        text-align: center;\n    }\n    .submit-btn{\n        width: 30%;\n    }\n    em{\n        color: red;\n    }\n    input{\n        font-weight: 300;\n        color: black;\n    }\n    .show-password{\n        float: right;\n        margin-top: -50px;\n        position: relative;\n        z-index: 1;\n        cursor:pointer;\n        height: 35px;\n        border:0px;\n        background-color: inherit;\n        color:grey;\n    }\n    .show-password:focus{\n        outline: none;\n    }\n    .show-password:hover{\n        color: black !important;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}