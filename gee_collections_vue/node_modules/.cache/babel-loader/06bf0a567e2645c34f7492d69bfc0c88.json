{"ast":null,"code":"export default {\n  data() {\n    return {\n      first_name: '',\n      last_name: '',\n      email: '',\n      username: '',\n      password: '',\n      password2: '',\n      phone_number: '',\n      errors: []\n    };\n  },\n\n  methods: {\n    createUser() {\n      this.errors = [];\n\n      if (this.first_name === '' && this.last_name === '' && this.email === '' && this.password === '' && this.password2 === '' && this.username === '') {\n        this.errors.push('Please fill in the details!');\n      } else {\n        if (this.first_name === '') {\n          this.errors.push('First Name is missing');\n        }\n\n        if (this.last_name === '') {\n          this.errors.push('Last Name is missing');\n        }\n\n        if (this.username === '') {\n          this.errors.push('Username is required');\n        }\n\n        if (this.email === '') {\n          this.errors.push('Email is missing');\n        }\n\n        if (this.phone_number === '') {\n          this.errors.push('Phone number required');\n        }\n\n        if (this.password === '') {\n          this.errors.push('Password is too short');\n        }\n\n        if (this.password2 === '') {\n          this.errors.push('Please confirm your password');\n        }\n\n        if (this.password !== this.password2) {\n          this.errors.push('Passwords do not match');\n          this.password2 = '';\n        }\n      }\n\n      if (!this.errors.length) {\n        let formData = new FormData();\n        formData.append('username', this.email);\n        formData.append('password', this.password);\n        formData.append('email', this.email);\n        this.axios.post('/api/v1/users/', formData).then(response => {\n          console.log(response);\n          this.$toast.success('Account created succesfully, verification link sent to your email. Please verify', {\n            duration: 10000,\n            dismissible: true\n          });\n          this.$router.push('/login');\n        }).catch(error => {\n          if (error.response) {\n            for (const property in error.response.data) {\n              this.errors.push(`${property}: ${error.response.data[property]}`);\n            }\n\n            console.log(JSON.stringify(error.response.data));\n          } else if (error.message) {\n            this.errors.push('Something went wrong. Please try again');\n            console.log(JSON.stringify(error));\n          }\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["data","first_name","last_name","email","username","password","password2","phone_number","errors","methods","createUser","push","length","formData","FormData","append","axios","post","then","response","console","log","$toast","success","duration","dismissible","$router","catch","error","property","JSON","stringify","message"],"sourceRoot":"","sources":["/home/sammyb/gee_collections/gee_collections_vue/src/views/RegisterView.vue"],"sourcesContent":["<template>\n    <div class=\"register\">\n        <!-- Breadcrumb Start -->\n        <div class=\"breadcrumb-wrap\">\n            <div class=\"container-fluid\">\n                <ul class=\"breadcrumb\">\n                    <li class=\"breadcrumb-item\"><router-link to=\"/\">Home</router-link></li>\n                    <li class=\"breadcrumb-item active\">Register</li>\n                </ul>\n            </div>\n        </div>\n        <!-- Breadcrumb End -->\n        \n        <!-- Login Start -->\n        <div class=\"login\">\n            <div class=\"container-fluid\">\n                <div class=\"row\">\n                    <div class=\"col-lg-12\">\n                        <form @submit.prevent=\"createUser\">    \n                            <div class=\"register-form\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6 \">\n                                        <label>First Name<em>*</em></label>\n                                        <input class=\"form-control first-name\" type=\"text\" placeholder=\"First Name\" v-model=\"first_name\">\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Last Name<em>*</em></label>\n                                        <input class=\"form-control\" type=\"text\" placeholder=\"Last Name\" v-model=\"last_name\">\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Preferred Username<em>*</em></label>\n                                        <input class=\"form-control\" type=\"text\" placeholder=\"Username\" v-model=\"username\">\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Gender</label>\n                                        <input class=\"form-control\" type=\"text\" placeholder=\"Gender\">\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>E-mail<em>*</em></label>\n                                        <input class=\"form-control\" type=\"email\" placeholder=\"E-mail\" v-model=\"email\">\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Mobile No<em>*</em></label>\n                                        <input class=\"form-control\" type=\"text\" placeholder=\"Mobile No\" v-model=\"phone_number\">\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Password<em>*</em></label>\n                                        <input class=\"form-control\" type=\"password\" placeholder=\"Password\" v-model=\"password\">\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <label>Confirm Password<em>*</em></label>\n                                        <input class=\"form-control\" type=\"password\" placeholder=\"Password\" v-model=\"password2\">\n                                    </div>\n                                    <div class=\"col-md-12 notification is-danger\" v-if=\"errors.length\">\n                                        <p style=\"color: red;\" v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n                                    </div>\n                                    <div class=\"col-md-12 btn-submit\">\n                                        <button class=\"btn submit-btn\">Submit</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                    \n                </div>\n            </div>\n        </div>\n        <!-- Login End -->\n    </div>\n</template>\n\n<script>\nexport default {\n    data(){\n        return{\n            first_name:'',\n            last_name:'',\n            email: '',\n            username:'',\n            password: '',\n            password2: '',\n            phone_number: '',\n            errors:[]\n        }\n    },\n    methods:{\n        createUser(){\n            this.errors = []\n            if(this.first_name === ''&& this.last_name === ''&&this.email === ''&&this.password === ''&&this.password2 === ''&& this.username===''){\n                this.errors.push('Please fill in the details!')\n            }else{\n                if(this.first_name === ''){\n                    this.errors.push('First Name is missing')\n                }\n                if(this.last_name === ''){\n                    this.errors.push('Last Name is missing')\n                }\n                if(this.username === ''){\n                    this.errors.push('Username is required')\n                }\n                if(this.email === ''){\n                    this.errors.push('Email is missing')\n                }\n                if(this.phone_number === ''){\n                    this.errors.push('Phone number required')\n                }\n                if(this.password === ''){\n                    this.errors.push('Password is too short')\n                }\n                if(this.password2 === ''){\n                    this.errors.push('Please confirm your password')\n                }\n                if(this.password !== this.password2){\n                    this.errors.push('Passwords do not match')\n                    this.password2 = ''\n                }\n            }\n\n            if(!this.errors.length){\n                let formData = new FormData();\n                formData.append('username', this.email);\n                formData.append('password', this.password);\n                formData.append('email', this.email);\n\n                this.axios.post('/api/v1/users/', formData)\n                .then((response)=>{\n                    console.log(response);\n                    this.$toast.success('Account created succesfully, verification link sent to your email. Please verify',{\n                        duration: 10000,\n                        dismissible: true\n                    })\n                    this.$router.push('/login');\n                })\n                .catch((error)=>{\n                    if (error.response) {\n                        for (const property in error.response.data) {\n                            this.errors.push(`${property}: ${error.response.data[property]}`)\n                        }\n                        console.log(JSON.stringify(error.response.data))\n                    } else if (error.message) {\n                        this.errors.push('Something went wrong. Please try again')\n                        console.log(JSON.stringify(error))\n                    }\n                })\n            }\n            \n        }\n    }\n}\n</script>\n\n<style scoped>\n    .container-fluid{\n        width:80%;\n    }\n    .btn-submit{\n        text-align: center;\n    }\n    .submit-btn{\n        width: 30%;\n    }\n    em{\n        color: red;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}