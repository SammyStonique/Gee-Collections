{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport store from '../store';\nimport HomeView from '../views/HomeView.vue';\nimport ProductView from '../views/ProductView.vue';\nimport ProductAdd from '../views/ProductAdd.vue';\nimport ProductDetail from '../views/ProductDetail.vue';\nimport CartView from '../views/CartView.vue';\nimport CheckoutView from '../views/CheckoutView.vue';\nimport AccountView from '../views/AccountView.vue';\nimport LoginView from '../views/LoginView.vue';\nimport WishlistView from '../views/WishlistView.vue';\nimport ContactView from '../views/ContactView.vue';\nimport RegisterView from '../views/RegisterView.vue';\nimport LogoutView from '../views/LogoutView.vue';\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/products',\n  name: 'products',\n  component: ProductView\n}, {\n  path: '/add-product',\n  name: 'add-product',\n  component: ProductAdd\n}, {\n  path: '/product-detail',\n  name: 'product-detail',\n  component: ProductDetail\n}, {\n  path: '/cart',\n  name: 'cart',\n  component: CartView\n}, {\n  path: '/checkout',\n  name: 'checkout',\n  component: CheckoutView,\n  meta: {\n    emptyCart: true\n  }\n}, {\n  path: '/my-account',\n  name: 'my-account',\n  component: AccountView,\n  meta: {\n    requireLogin: true\n  }\n}, {\n  path: '/login',\n  name: 'login',\n  component: LoginView,\n  meta: {\n    alreadyAuthenticated: true\n  }\n}, {\n  path: '/logout',\n  name: 'logout',\n  component: LogoutView\n}, {\n  path: '/wishlist',\n  name: 'wishlist',\n  component: WishlistView\n}, {\n  path: '/contact',\n  name: 'contact',\n  component: ContactView\n}, {\n  path: '/register',\n  name: 'register',\n  component: RegisterView\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requireLogin) && !store.state.isAuthenticated) {\n    next({\n      name: 'login',\n      query: {\n        to: to.path\n      }\n    });\n  } else {\n    next();\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.emptyCart) && !store.state.cart.cartItems.length) {\n    next({\n      name: 'cart',\n      query: {\n        to: to.path\n      }\n    });\n  } else {\n    next();\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.alreadyAuthenticated) && store.state.isAuthenticated) {\n    next({\n      name: 'home',\n      query: {\n        to: to.path\n      }\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"sources":["/home/sammyb/gee_collections/gee_collections_vue/src/router/index.js"],"names":["createRouter","createWebHistory","store","HomeView","ProductView","ProductAdd","ProductDetail","CartView","CheckoutView","AccountView","LoginView","WishlistView","ContactView","RegisterView","LogoutView","routes","path","name","component","meta","emptyCart","requireLogin","alreadyAuthenticated","router","history","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","state","isAuthenticated","query","cart","cartItems","length"],"mappings":"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","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport store from '../store'\nimport HomeView from '../views/HomeView.vue'\nimport ProductView from '../views/ProductView.vue'\nimport ProductAdd from '../views/ProductAdd.vue'\nimport ProductDetail from '../views/ProductDetail.vue'\nimport CartView from '../views/CartView.vue'\nimport CheckoutView from '../views/CheckoutView.vue'\nimport AccountView from '../views/AccountView.vue'\nimport LoginView from '../views/LoginView.vue'\nimport WishlistView from '../views/WishlistView.vue'\nimport ContactView from '../views/ContactView.vue'\nimport RegisterView from '../views/RegisterView.vue'\nimport LogoutView from '../views/LogoutView.vue'\n\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/products',\n    name: 'products',\n    component: ProductView\n  },\n  {\n    path: '/add-product',\n    name: 'add-product',\n    component: ProductAdd\n  },\n  {\n    path: '/product-detail',\n    name: 'product-detail',\n    component: ProductDetail\n  },\n  {\n    path: '/cart',\n    name: 'cart',\n    component: CartView,\n  },\n  {\n    path: '/checkout',\n    name: 'checkout',\n    component: CheckoutView,\n    meta:{\n      emptyCart: true\n    }    \n  },\n  {\n    path: '/my-account',\n    name: 'my-account',\n    component: AccountView,\n    meta:{\n      requireLogin: true\n    }\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginView,\n    meta:{\n      alreadyAuthenticated : true,\n    }\n  },\n  {\n    path: '/logout',\n    name: 'logout',\n    component: LogoutView\n  },\n  {\n    path: '/wishlist',\n    name: 'wishlist',\n    component: WishlistView\n  },\n  {\n    path: '/contact',\n    name: 'contact',\n    component: ContactView\n  },\n  {\n    path: '/register',\n    name: 'register',\n    component: RegisterView\n  },\n]\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requireLogin) && !store.state.isAuthenticated) {\n    next({ name: 'login', query: { to: to.path } });\n  } else {\n    next()\n  }\n})\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.emptyCart) && !store.state.cart.cartItems.length) {\n    next({ name: 'cart', query: { to: to.path } });\n  } else {\n    next()\n  }\n})\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.alreadyAuthenticated) && store.state.isAuthenticated) {\n    next({ name: 'home', query: { to: to.path } });\n  } else {\n    next()\n  }\n})\n\nexport default router\n"]},"metadata":{},"sourceType":"module"}