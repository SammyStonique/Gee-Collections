{"ast":null,"code":"import Modal from \"@/components/Modal.vue\";\nimport Pagination from \"@/components/Pagination.vue\";\nimport DoughnutChart from \"@/components/DoughnutChart.vue\";\nexport default {\n  props: [\"getUserDetails\", \"userDetails\"],\n  components: {\n    Modal,\n    Pagination,\n    DoughnutChart\n  },\n\n  data() {\n    return {\n      id: \"\",\n      first_name: \"\",\n      last_name: \"\",\n      email: \"\",\n      phone_number: \"\",\n      birthdate: \"\",\n      address: \"\",\n      county: \"\",\n      city: \"\",\n      gender: \"\",\n      errors: [],\n      myOrders: [],\n      myOrderDetails: [],\n      isModalVisible: false,\n      isPayModalVisible: false,\n      bankModalVisible: false,\n      paymentModalVisible: false,\n      lipaNaMpesa: false,\n      currentPage: 1,\n      totalItems: 0,\n      itemsPerPage: 2,\n      totalPages: 0,\n      start: 1,\n      limit: 2,\n      watcherMsg: [],\n      fnStyle: null,\n      lnStyle: null,\n      nStyle: null,\n      gStyle: null,\n      bWidth: null,\n      dStyle: null,\n      cStyle: null,\n      ccStyle: null,\n      aStyle: null,\n      pStyle: null,\n      p2Style: null,\n      rfStyle: null,\n      payment_number: \"\",\n      payment_number2: \"\",\n      mpesaRefs: [],\n      mpesaRef: \"\",\n      paymentConfirm: false,\n      myOrderID: \"\",\n      pageOfItems: [],\n      shippingAddress: false,\n      currentPassword: \"\",\n      newPassword: \"\",\n      newPassword2: \"\",\n      showPass: false,\n      passType: false,\n      showPass2: false,\n      pass2Type: false,\n      orderTotal: 0,\n      userCardNumber1: \"\",\n      userCardNumber2: \"\",\n      userCardNumber3: \"\",\n      userCardNumber4: \"\",\n      cardValidity: \"\"\n    };\n  },\n\n  watch: {\n    first_name(value) {\n      this.first_name = value;\n      this.validateFirstName(value);\n    },\n\n    last_name(value) {\n      this.last_name = value;\n      this.validateLastName(value);\n    },\n\n    phone_number(value) {\n      this.phone_number = value;\n      this.validatePhoneNumber(value);\n    },\n\n    gender(value) {\n      this.gender = value;\n      this.validateGender(value);\n    },\n\n    birthdate(value) {\n      this.birthdate = value;\n      this.validateBirthdate(value);\n    },\n\n    city(value) {\n      this.city = value;\n      this.validateCity(value);\n    },\n\n    county(value) {\n      this.county = value;\n      this.validateCounty(value);\n    },\n\n    address(value) {\n      this.address = value;\n      this.validateAddress(value);\n    },\n\n    payment_number(value) {\n      this.payment_number = value;\n      this.validatePaymentNumber(value);\n    },\n\n    payment_number2(value) {\n      this.payment_number2 = value;\n      this.confirmPaymentNumber(value);\n    },\n\n    mpesaRef(value) {\n      this.mpesaRef = value;\n      this.validatePaymentRef(value);\n    },\n\n    newPassword2(value) {\n      this.newPassword2 = value;\n      this.validatePassword2(value);\n    },\n\n    newPassword(value) {\n      this.newPassword = value;\n      this.validateNewPassword(value);\n    },\n\n    userCardNumber1(value) {\n      this.userCardNumber1 = value;\n      this.focusOnInput2(value);\n    },\n\n    userCardNumber2(value) {\n      this.userCardNumber2 = value;\n      this.focusOnInput3(value);\n      this.refocusOnInput1(value);\n    },\n\n    userCardNumber3(value) {\n      this.userCardNumber3 = value;\n      this.focusOnInput4(value);\n      this.refocusOnInput2(value);\n    },\n\n    userCardNumber4(value) {\n      this.userCardNumber4 = value;\n      this.refocusOnInput3(value);\n    }\n\n  },\n  computed: {\n    orderItemTotal() {\n      let itemTotal = [];\n\n      for (let i = 0; i < this.myOrderDetails.items.length; i++) {\n        let lineTotal = (this.myOrderDetails.items[i].quantity * this.myOrderDetails.items[i].product.price).toFixed(2);\n        itemTotal.push(lineTotal);\n      }\n\n      return itemTotal;\n    },\n\n    cardNum1() {\n      return this.userCardNumber1;\n    },\n\n    cardNum2() {\n      return this.userCardNumber2;\n    },\n\n    cardNum3() {\n      return this.userCardNumber3;\n    },\n\n    cardNum4() {\n      return this.userCardNumber4;\n    }\n\n  },\n  methods: {\n    focusOnInput2(value) {\n      const editInput2 = this.$refs.editCard2;\n\n      if (value.length == 4) {\n        editInput2.focus();\n      }\n    },\n\n    focusOnInput3(value) {\n      const editInput3 = this.$refs.editCard3;\n\n      if (value.length == 4) {\n        editInput3.focus();\n      }\n    },\n\n    focusOnInput4(value) {\n      const editInput4 = this.$refs.editCard4;\n\n      if (value.length == 4) {\n        editInput4.focus();\n      }\n    },\n\n    refocusOnInput3(value) {\n      const editInput3 = this.$refs.editCard3;\n\n      if (value.length == 0) {\n        editInput3.focus();\n      }\n    },\n\n    refocusOnInput2(value) {\n      const editInput2 = this.$refs.editCard2;\n\n      if (value.length == 0) {\n        editInput2.focus();\n      }\n    },\n\n    refocusOnInput1(value) {\n      const editInput1 = this.$refs.editCard1;\n\n      if (value.length == 0) {\n        editInput1.focus();\n      }\n    },\n\n    validateFirstName(value) {\n      if (value.length == 0) {\n        this.watcherMsg[\"first_name\"] = \"\";\n        this.fnStyle = \"\";\n        this.bWidth = 1;\n      } else {\n        if (value.length > 0 && value.length < 3) {\n          this.watcherMsg[\"first_name\"] = \"Name is too short\";\n          this.fnStyle = \"red\";\n          this.bWidth = 2;\n        } else {\n          if (/\\d/.test(value)) {\n            this.watcherMsg[\"first_name\"] = \"Name should not contain a number\";\n            this.fnStyle = \"red\";\n            this.bWidth = 2;\n          } else {\n            this.watcherMsg[\"first_name\"] = \"\";\n            this.fnStyle = \"green\";\n            this.bWidth = 2;\n          }\n        }\n      }\n    },\n\n    validateLastName(value) {\n      if (value.length == 0) {\n        this.watcherMsg[\"last_name\"] = \"\";\n        this.lnStyle = \"\";\n        this.bWidth = 1;\n      } else {\n        if (value.length > 0 && value.length < 3) {\n          this.watcherMsg[\"last_name\"] = \"Name is too short\";\n          this.lnStyle = \"red\";\n          this.bWidth = 2;\n        } else {\n          if (/\\d/.test(value)) {\n            this.watcherMsg[\"last_name\"] = \"Name should not contain a number\";\n            this.lnStyle = \"red\";\n            this.bWidth = 2;\n          } else {\n            this.watcherMsg[\"last_name\"] = \"\";\n            this.lnStyle = \"green\";\n            this.bWidth = 2;\n          }\n        }\n      }\n    },\n\n    validatePhoneNumber(value) {\n      if (value == \"\") {\n        this.nStyle = \"\";\n        this.watcherMsg[\"phone_number\"] = \"\";\n      } else {\n        if (/^(?:254|\\+254|0)?((?:(?:7(?:(?:[01249][0-9])|(?:5[789])|(?:6[89])))|(?:1(?:[1][0-5])))[0-9]{6})$/.test(value) || /^(?:254|\\+254|0)?((?:(?:7(?:(?:3[0-9])|(?:5[0-6])|(8[5-9])))|(?:1(?:[0][0-2])))[0-9]{6})$/.test(value)) {\n          this.nStyle = \"green\";\n          this.watcherMsg[\"phone_number\"] = \"\";\n          this.bWidth = 2;\n        } else {\n          this.nStyle = \"red\";\n          this.watcherMsg[\"phone_number\"] = \"Invalid Phone Number\";\n          this.bWidth = 2;\n        }\n      }\n    },\n\n    validateGender(value) {\n      if (value != \"\") {\n        this.gStyle = \"green\";\n        this.bWidth = 2;\n      }\n    },\n\n    validateBirthdate(value) {\n      if (value != \"\") {\n        this.bStyle = \"green\";\n        this.bWidth = 2;\n      }\n    },\n\n    validateCity(value) {\n      if (value != \"\") {\n        this.cStyle = \"green\";\n        this.bWidth = 2;\n      }\n    },\n\n    validateCounty(value) {\n      if (value != \"\") {\n        this.ccStyle = \"green\";\n        this.bWidth = 2;\n      }\n    },\n\n    validateAddress(value) {\n      if (value.length == 0) {\n        this.aStyle = \"\";\n        this.watcherMsg[\"address\"] = \"\";\n      } else {\n        if (value.length > 0 && value.length < 3) {\n          this.watcherMsg[\"address\"] = \"Address is too short\";\n          this.aStyle = \"red\";\n          this.bWidth = 2;\n        } else {\n          if (value != \"\" && value.length > 3) {\n            this.aStyle = \"green\";\n            this.bWidth = 2;\n            this.watcherMsg[\"address\"] = \"\";\n          }\n        }\n      }\n    },\n\n    validatePaymentNumber(value) {\n      if (value == \"\") {\n        this.watcherMsg[\"payment_number\"] = \"\";\n        this.pStyle = \"\";\n        this.bWidth = 1;\n      } else {\n        if (/^(?:254)?((?:(?:7(?:(?:[01249][0-9])|(?:5[789])|(?:6[89])))|(?:1(?:[1][0-5])))[0-9]{6})$/.test(value)) {\n          this.watcherMsg[\"payment_number\"] = \"\";\n          this.pStyle = \"green\";\n          this.bWidth = 2;\n        } else {\n          this.watcherMsg[\"payment_number\"] = \"Invalid Phone Number\";\n          this.pStyle = \"red\";\n          this.bWidth = 2;\n        }\n      }\n    },\n\n    confirmPaymentNumber(value) {\n      if (value == \"\") {\n        this.watcherMsg[\"payment_number2\"] = \"\";\n        this.p2Style = \"\";\n        this.bWidth = 1;\n      } else {\n        if (value == this.payment_number) {\n          this.watcherMsg[\"payment_number2\"] = \"\";\n          this.p2Style = \"green\";\n          this.bWidth = 2;\n        } else {\n          this.watcherMsg[\"payment_number2\"] = \"Invalid Phone Number\";\n          this.p2Style = \"red\";\n          this.bWidth = 2;\n        }\n      }\n    },\n\n    validatePaymentRef(value) {\n      if (value.length == 0) {\n        this.watcherMsg[\"mpesaRef\"] = \"\";\n        this.rfStyle = \"\";\n        this.bWidth = 1;\n      } else {\n        if (value.length > 0 && value.length < 10) {\n          this.rfStyle = \"red\";\n          this.watcherMsg[\"mpesaRef\"] = \"Incomplete Reference Number\";\n          this.bWidth = 2;\n        } else {\n          if (/^[A-Z0-9]$/.test(value)) {\n            this.rfStyle = \"green\";\n            this.watcherMsg[\"mpesaRef\"] = \"\";\n            this.bWidth = 2;\n          }\n        }\n      }\n    },\n\n    validateNewPassword(value) {\n      if (value.length == \"\") {\n        this.watcherMsg[\"newPassword\"] = \"\";\n      } else {\n        if (value.length > 0 && value.length < 8) {\n          this.watcherMsg[\"newPassword\"] = \"Password is too short\";\n        } else {\n          this.watcherMsg[\"newPassword\"] = \"\";\n        }\n      }\n    },\n\n    validatePassword2(value) {\n      if (value == this.newPassword) {\n        this.watcherMsg[\"newPassword2\"] = \"\";\n      } else {\n        this.watcherMsg[\"newPassword2\"] = \"Passwords do not match\";\n      }\n    },\n\n    onChangePage(pageOfItems) {\n      // update page of items\n      this.pageOfItems = pageOfItems;\n    },\n\n    postProfileData() {\n      this.errors = [];\n\n      if (this.first_name === \"\" && this.last_name === \"\" && this.birthdate === \"\" && this.gender === \"\" && this.city === \"\" && this.county === \"\" && this.address === \"\") {\n        this.errors.push(\"Please fill in the details!\");\n      } else {\n        if (this.first_name === \"\" || this.last_name === \"\" || this.birthdate === \"\" || this.gender === \"\" || this.city === \"\" || this.county === \"\" || this.address === \"\") {\n          this.errors.push(\"Some details are missing!\");\n        }\n      }\n\n      if (!this.errors.length) {\n        let formData = {\n          first_name: this.first_name,\n          last_name: this.last_name,\n          birthdate: this.birthdate,\n          address: this.address,\n          county: this.county,\n          city: this.city,\n          gender: this.gender,\n          phone_number: this.phone_number,\n          email: this.email\n        };\n        this.axios.put(\"/api/v1/user-list/\" + this.id + \"/\", formData).then(response => {\n          this.$toast.success(\"Profile Succesfully Updated\", {\n            duration: 5000,\n            dismissible: true\n          });\n          this.fnStyle = \"\";\n          this.lnStyle = \"\";\n          this.gStyle = \"\";\n          this.cStyle = \"\";\n          this.ccStyle = \"\";\n          this.aStyle = \"\";\n          this.$router.push(\"/my-account\");\n        }).catch(error => {\n          console.log(error);\n        }).finally(() => {\n          this.fnStyle = null, this.lnStyle = null;\n          this.nStyle = null;\n          this.gStyle = null;\n          this.bWidth = null;\n          this.dStyle = null;\n          this.cStyle = null;\n          this.ccStyle = null;\n          this.aStyle = null;\n          this.pStyle = null;\n          this.p2Style = null;\n        });\n      }\n    },\n\n    changePassword() {\n      let formData = {\n        password: this.newPassword\n      };\n      this.axios.patch(\"/api/v1/users/me/\", formData).then(response => {\n        console.log(response.data);\n        this.$toast.success(\"Password Changed Succesfully\");\n        this.newPassword = \"\";\n        this.newPassword2 = \"\";\n        this.curreentPassword = \"\";\n        this.$store.commit(\"removeToken\");\n        const token = this.$store.state.token;\n        localStorage.setItem(\"token\", token);\n        this.$router.push(\"/login\");\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    getProfileDetails() {\n      this.axios.get(\"/api/v1/users/me/\").then(response => {\n        this.phone_number = response.data.phone_number;\n        this.email = response.data.email;\n        this.id = response.data.id;\n        this.first_name = response.data.first_name;\n        this.last_name = response.data.last_name;\n        this.gender = response.data.gender;\n        this.city = response.data.city;\n        this.county = response.data.county;\n        this.birthdate = response.data.birthdate;\n        this.address = response.data.address;\n        this.currentPassword = response.data.password;\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {\n        this.fnStyle = null, this.lnStyle = null;\n        this.nStyle = null;\n        this.gStyle = null;\n        this.bWidth = null;\n        this.dStyle = null;\n        this.cStyle = null;\n        this.ccStyle = null;\n        this.aStyle = null;\n        this.pStyle = null;\n        this.p2Style = null;\n      });\n    },\n\n    getMpesaPayments() {\n      this.mpesaRefs = [];\n      this.axios.get(\"api/v1/mpesa-payments/\").then(response => {\n        for (let i = 0; i < response.data.length; i++) {\n          let trans_id = response.data[i].transaction_id;\n          this.mpesaRefs.push(trans_id);\n        }\n\n        this.isPayModalVisible = true;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    confirmPayment() {\n      if (this.mpesaRefs.includes(this.mpesaRef)) {\n        let formData = {\n          paid: true,\n          payment_reference: this.mpesaRef\n        };\n        this.axios.patch(`/api/v1/my-orders/${this.myOrderID}/`, formData).then(response => {\n          this.$toast.success(\"Payment Confirmation Succesful\", {\n            duration: 3000\n          });\n          this.mpesaRef = \"\";\n          this.payment_number2 = \"\";\n          this.$router.push(\"/my-account\");\n          this.$store.commit(\"reloadingPage\");\n        }).catch(error => {\n          console.log(error);\n        });\n      } else {\n        this.$toast.error(\"Invalid Reference Number\", {\n          duration: 3000\n        });\n      }\n    },\n\n    showClientOrders() {\n      this.axios.get(\"api/v1/my-orders/\").then(response => {\n        this.myOrders = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    showModal() {\n      this.isModalVisible = true;\n      let orderID = arguments[0];\n      this.axios.get(`/api/v1/my-orders/${orderID}/`).then(response => {\n        this.myOrderDetails = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    showPaymentModal() {\n      this.paymentModalVisible = true;\n      let orderID = arguments[0];\n      this.axios.get(`/api/v1/my-orders/${orderID}/`).then(response => {\n        this.myOrderID = orderID;\n        console.log(response.data);\n        this.orderTotal = Math.round(response.data.order_total);\n        console.log(this.orderTotal);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    showBankModal() {\n      this.bankModalVisible = true;\n    },\n\n    closeModal() {\n      this.isModalVisible = false;\n      this.paymentModalVisible = false;\n      this.bankModalVisible = false;\n    },\n\n    showLipaNaMpesa() {\n      this.lipaNaMpesa = !this.lipaNaMpesa;\n    },\n\n    showShippingAddress() {\n      this.shippingAddress = true;\n    },\n\n    payViaMpesa() {\n      this.paymentConfirm = true;\n      this.errors = [];\n\n      if (this.payment_number === \"\") {\n        this.errors.push(\"Please enter phone number\");\n        this.$toast.error(\"Invalid phone number\", {\n          duration: 3000\n        });\n      }\n\n      if (!this.errors.length && this.pStyle == \"green\") {\n        let formData = {\n          payment_number: this.payment_number,\n          first_name: this.first_name,\n          orderTotal: this.orderTotal\n        };\n        this.axios.post(\"/api/v1/online/lipa/\", formData).then(response => {\n          console.log(response.data);\n          this.paymentConfirm = true;\n        }).catch(error => {\n          console.log(error);\n        }).finally(() => {});\n      }\n    },\n\n    showPassword() {\n      if (!this.showPass) {\n        this.showPass = true;\n        this.passType = true;\n      } else {\n        this.showPass = false;\n        this.passType = false;\n      }\n    },\n\n    showPassword2() {\n      if (!this.showPass2) {\n        this.showPass2 = true;\n        this.pass2Type = true;\n      } else {\n        this.showPass2 = false;\n        this.pass2Type = false;\n      }\n    },\n\n    printOrder() {\n      let orderID = arguments[0];\n      this.axios.get(`api/v1/view_pdf/${orderID}/`).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  },\n\n  beforeMount() {},\n\n  mounted() {\n    this.getProfileDetails();\n    this.showClientOrders();\n    paypal.Buttons({\n      //Styling the paypal button\n      style: {\n        color: \"blue\",\n        shape: \"pill\",\n        label: \"pay\",\n        height: 40\n      },\n      // Sets up the transaction when a payment button is clicked\n      createOrder: (data, actions) => {\n        return actions.order.create({\n          purchase_units: [{\n            amount: {\n              // value: this.cartTotalUSD // Can also reference a variable or function\n              value: 0.01\n            }\n          }]\n        });\n      },\n      // Finalize the transaction after payer approval\n      onApprove: (data, actions) => {\n        const my_action = actions.order.capture().then(function (orderData) {\n          // Successful capture! For dev/demo purposes:\n          console.log(\"Capture result\", orderData, JSON.stringify(orderData, null, 2));\n          const transaction = orderData.purchase_units[0].payments.captures[0];\n          alert(`Transaction ${transaction.status}: ${transaction.id}\\n\\nSee console for all available details`); // this.placeOrder();\n          // When ready to go live, remove the alert and show a success message within this page. For example:\n          // const element = document.getElementById('paypal-button-container');\n          // element.innerHTML = '<h3>Thank you for your payment!</h3>';\n          // Or go to another URL:  actions.redirect('thank_you.html');\n        });\n        return my_action;\n      }\n    }).render(\"#paypal-button-container\");\n  }\n\n};","map":{"version":3,"mappings":"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","names":["Modal","Pagination","DoughnutChart","props","components","data","id","first_name","last_name","email","phone_number","birthdate","address","county","city","gender","errors","myOrders","myOrderDetails","isModalVisible","isPayModalVisible","bankModalVisible","paymentModalVisible","lipaNaMpesa","currentPage","totalItems","itemsPerPage","totalPages","start","limit","watcherMsg","fnStyle","lnStyle","nStyle","gStyle","bWidth","dStyle","cStyle","ccStyle","aStyle","pStyle","p2Style","rfStyle","payment_number","payment_number2","mpesaRefs","mpesaRef","paymentConfirm","myOrderID","pageOfItems","shippingAddress","currentPassword","newPassword","newPassword2","showPass","passType","showPass2","pass2Type","orderTotal","userCardNumber1","userCardNumber2","userCardNumber3","userCardNumber4","cardValidity","watch","value","validateFirstName","validateLastName","validatePhoneNumber","validateGender","validateBirthdate","validateCity","validateCounty","validateAddress","validatePaymentNumber","confirmPaymentNumber","validatePaymentRef","validatePassword2","validateNewPassword","focusOnInput2","focusOnInput3","refocusOnInput1","focusOnInput4","refocusOnInput2","refocusOnInput3","computed","orderItemTotal","itemTotal","i","items","length","lineTotal","quantity","product","price","toFixed","push","cardNum1","cardNum2","cardNum3","cardNum4","methods","editInput2","$refs","editCard2","focus","editInput3","editCard3","editInput4","editCard4","editInput1","editCard1","test","bStyle","onChangePage","postProfileData","formData","axios","put","then","response","$toast","success","duration","dismissible","$router","catch","error","console","log","finally","changePassword","password","patch","curreentPassword","$store","commit","token","state","localStorage","setItem","getProfileDetails","get","getMpesaPayments","trans_id","transaction_id","confirmPayment","includes","paid","payment_reference","showClientOrders","showModal","orderID","arguments","showPaymentModal","Math","round","order_total","showBankModal","closeModal","showLipaNaMpesa","showShippingAddress","payViaMpesa","post","showPassword","showPassword2","printOrder","beforeMount","mounted","paypal","Buttons","style","color","shape","label","height","createOrder","actions","order","create","purchase_units","amount","onApprove","my_action","capture","orderData","JSON","stringify","transaction","payments","captures","alert","status","render"],"sourceRoot":"","sources":["/home/sammyb/gee_collections/gee_collections_vue/src/views/AccountView.vue"],"sourcesContent":["<template>\n  <div class=\"my-account\">\n    <!-- Breadcrumb Start -->\n    <div class=\"breadcrumb-wrap\">\n      <div class=\"container-fluid\">\n        <ul class=\"breadcrumb\">\n          <li class=\"breadcrumb-item\"><router-link to=\"/\">Home</router-link></li>\n          <li class=\"breadcrumb-item active\">My Account</li>\n        </ul>\n      </div>\n    </div>\n    <!-- Breadcrumb End -->\n\n    <!-- My Account Start -->\n    <div class=\"my-account\">\n      <div class=\"container-fluid\">\n        <div class=\"row\">\n          <div class=\"col-md-3\">\n            <div\n              class=\"nav flex-column nav-pills\"\n              role=\"tablist\"\n              aria-orientation=\"vertical\"\n            >\n              <a\n                class=\"nav-link active\"\n                id=\"dashboard-nav\"\n                data-toggle=\"pill\"\n                href=\"#dashboard-tab\"\n                role=\"tab\"\n                ><i class=\"fa fa-tachometer-alt\"></i>Dashboard</a\n              >\n              <a\n                class=\"nav-link\"\n                id=\"orders-nav\"\n                data-toggle=\"pill\"\n                href=\"#orders-tab\"\n                role=\"tab\"\n                ><i class=\"fa fa-shopping-bag\"></i>Orders</a\n              >\n              <a\n                class=\"nav-link\"\n                id=\"payment-nav\"\n                data-toggle=\"pill\"\n                href=\"#payment-tab\"\n                role=\"tab\"\n                ><i class=\"fa fa-credit-card\"></i>Payment Method</a\n              >\n              <a\n                class=\"nav-link\"\n                id=\"address-nav\"\n                data-toggle=\"pill\"\n                href=\"#address-tab\"\n                role=\"tab\"\n                ><i class=\"fa fa-map-marker-alt\"></i>Address</a\n              >\n              <a\n                class=\"nav-link\"\n                id=\"account-nav\"\n                data-toggle=\"pill\"\n                href=\"#account-tab\"\n                role=\"tab\"\n                ><i class=\"fa fa-user\"></i>Account Details</a\n              >\n              <router-link to=\"/logout\" class=\"nav-link\"\n                ><i class=\"fa fa-sign-out-alt\"></i>Logout</router-link\n              >\n            </div>\n          </div>\n          <div class=\"col-md-9\">\n            <div class=\"tab-content\">\n              <div\n                class=\"tab-pane fade show active\"\n                id=\"dashboard-tab\"\n                role=\"tabpanel\"\n                aria-labelledby=\"dashboard-nav\"\n              >\n                <h4>Dashboard</h4>\n                <p>\n                  Hello {{ this.first_name }}, we're very excited to have you on board.\n                  Gee Collections appreciates your contribution towards assisting us grow\n                  us a brand. We could not make it this far without you, always feel free\n                  to leave a suggestion so that we can provide you with quality services.\n                  Thank you.\n                </p>\n                <DoughnutChart />\n              </div>\n              <div\n                class=\"tab-pane fade\"\n                id=\"orders-tab\"\n                role=\"tabpanel\"\n                aria-labelledby=\"orders-nav\"\n              >\n                <div class=\"table-responsive\">\n                  <table class=\"table table-bordered\">\n                    <thead class=\"thead-dark\">\n                      <tr>\n                        <th>No</th>\n                        <th>#ID</th>\n                        <th>Date</th>\n                        <th>Order Total</th>\n                        <th>Status</th>\n                        <th>Payment Ref</th>\n                        <th>Action</th>\n                        <!-- <th></th> -->\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr v-for=\"(order, index) in pageOfItems\" :key=\"index\">\n                        <td>{{ index + 1 }}</td>\n                        <td>\n                          <a class=\"order-id-link\" @click=\"showModal(order.id)\">{{\n                            order.id.substring(0, 7)\n                          }}</a>\n                        </td>\n                        <td>{{ order.created_at.substring(0, 10) }}</td>\n                        <td>ksh {{ Number(order.order_total).toLocaleString() }}</td>\n                        <td v-if=\"order.paid\" style=\"color: green\">Paid</td>\n                        <td v-else style=\"color: red\">Not Paid</td>\n                        <td v-if=\"order.paid\">{{ order.payment_reference }}</td>\n                        <td v-else>-</td>\n                        <td v-if=\"order.paid\">\n                          <button class=\"btn\" @click=\"showModal(order.id)\">\n                            View Order\n                          </button>\n                        </td>\n                        <td v-else>\n                          <button class=\"btn\" @click=\"showPaymentModal(order.id)\">\n                            Make Payment\n                          </button>\n                        </td>\n                        <!-- <td><button class=\"btn\" @click=\"printOrder(order.id)\">Print</button></td> -->\n                      </tr>\n                    </tbody>\n                  </table>\n\n                  <p class=\"empty-order-list\" v-if=\"!Object.keys(myOrders).length\">\n                    <span class=\"emoji\" role=\"img\" aria-label=\"\">😭</span><br /><em\n                      class=\"empty-cart-message\"\n                      >Ooops,You haven't placed any order yet</em\n                    >\n                  </p>\n\n                  <!-- PAGINATION -->\n                  <div class=\"row\">\n                    <Pagination\n                      :items=\"myOrders\"\n                      @changePage=\"onChangePage\"\n                      :pageSize=\"5\"\n                    />\n                  </div>\n                  <!-- pagination end -->\n                </div>\n              </div>\n              <!-- MODAL component for viewing order details -->\n              <Modal v-show=\"isModalVisible\" @close=\"closeModal\">\n                <template v-slot:header> My Order Details </template>\n\n                <template v-slot:body>\n                  <div class=\"myorders-page\">\n                    <div class=\"table-responsive\">\n                      <table class=\"table table-bordered\">\n                        <thead class=\"thead-dark\">\n                          <tr>\n                            <th>Product</th>\n                            <th>Price</th>\n                            <th>Quantity</th>\n                            <th>Total</th>\n                          </tr>\n                        </thead>\n                        <tbody class=\"align-middle\">\n                          <tr\n                            v-for=\"(ordDet, index) in myOrderDetails.items\"\n                            :key=\"index\"\n                          >\n                            <td>\n                              <div class=\"img\">\n                                <a href=\"#\"\n                                  ><img :src=\"`${ordDet.product.image}`\" alt=\"Image\"\n                                /></a>\n                                <p>{{ ordDet.product.name }}</p>\n                              </div>\n                            </td>\n                            <td>\n                              ksh. {{ Number(ordDet.product.price).toLocaleString() }}\n                            </td>\n                            <td>{{ ordDet.quantity }}</td>\n                            <td>\n                              ksh. {{ Number(orderItemTotal[index]).toLocaleString() }}\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                </template>\n\n                <template v-slot:footer> Thank you for doing business with us. </template>\n              </Modal>\n\n              <!-- MODAL component for making payment -->\n              <Modal v-show=\"paymentModalVisible\" @close=\"closeModal\">\n                <template v-slot:header> Payment Methods </template>\n\n                <template v-slot:body>\n                  <div>\n                    <button type=\"button\" class=\"lipanampesa\" @click=\"showLipaNaMpesa\">\n                      Lipa Na Mpesa\n                    </button>\n                    <div v-if=\"lipaNaMpesa\">\n                      <p>\n                        To proceed to Lipa Na Mpesa, please enter the phone number you\n                        would like to make the payment with.\n                      </p>\n                      <label for=\"\">Phone Number:</label>\n                      <input\n                        type=\"text\"\n                        class=\"form-control\"\n                        placeholder=\"e.g 2547XXXXXXXX\"\n                        v-model=\"payment_number\"\n                        :style=\"{ borderColor: pStyle, borderWidth: bWidth + 'px' }\"\n                      />\n                      <span\n                        v-if=\"watcherMsg.payment_number\"\n                        :style=\"{ color: pStyle, fontSize: 10 + 'px' }\"\n                        >{{ watcherMsg.payment_number }}</span\n                      >\n                      <div class=\"col-md-12 notification is-danger\" v-if=\"errors.length\">\n                        <p style=\"color: red\" v-for=\"error in errors\" v-bind:key=\"error\">\n                          {{ error }}\n                        </p>\n                      </div>\n                      <button type=\"button\" class=\"procPayBtn\" @click=\"payViaMpesa\">\n                        Proceed to Pay\n                      </button>\n                      <p v-if=\"paymentConfirm\">\n                        An mpesa prompt has been sent to the number entered above,enter\n                        your mpesa PIN then proceed to payment confirmation\n                      </p>\n                      <button\n                        type=\"button\"\n                        class=\"procPayBtn\"\n                        @click=\"getMpesaPayments\"\n                        v-if=\"paymentConfirm\"\n                      >\n                        Confirm Payment\n                      </button>\n                    </div>\n                  </div>\n                  <!-- MODAL component for confirming payment -->\n                  <Modal v-show=\"isPayModalVisible\" @close=\"closeModal\">\n                    <template v-slot:header> M-Pesa Payment Confirmation </template>\n\n                    <template v-slot:body>\n                      <div>\n                        <p>\n                          Please confirm the details of your payments to succesfully place\n                          your order\n                        </p>\n                        <label for=\"\">Phone Number:</label>\n                        <input\n                          type=\"text\"\n                          class=\"form-control\"\n                          placeholder=\"e.g 2547XXXXXXXX\"\n                          v-model=\"payment_number2\"\n                          :style=\"{ borderColor: p2Style, borderWidth: bWidth + 'px' }\"\n                        />\n                        <span\n                          v-if=\"watcherMsg.payment_number2\"\n                          :style=\"{ color: p2Style, fontSize: 10 + 'px' }\"\n                          >{{ watcherMsg.payment_number2 }}</span\n                        >\n                        <label for=\"\">Reference Number:</label>\n                        <input\n                          type=\"text\"\n                          class=\"form-control\"\n                          placeholder=\"e.g QRYU0U***P1\"\n                          v-model=\"mpesaRef\"\n                          :style=\"{ borderColor: rfStyle, borderWidth: bWidth + 'px' }\"\n                        />\n                        <span\n                          v-if=\"watcherMsg.mpesaRef\"\n                          :style=\"{ color: rfStyle, fontSize: 10 + 'px' }\"\n                          >{{ watcherMsg.mpesaRef }}</span\n                        >\n                        <button type=\"button\" class=\"procPayBtn\" @click=\"confirmPayment\">\n                          Confirm Payment\n                        </button>\n                      </div>\n                    </template>\n\n                    <template v-slot:footer>\n                      Thank you for doing business with us.\n                    </template>\n                  </Modal>\n                  <div id=\"paypal-button-container\"></div>\n                </template>\n\n                <template v-slot:footer> Thank you for doing business with us. </template>\n              </Modal>\n              <div\n                class=\"tab-pane fade\"\n                id=\"payment-tab\"\n                role=\"tabpanel\"\n                aria-labelledby=\"payment-nav\"\n              >\n                <h4>Payment Method</h4>\n                <div class=\"row payment-row\">\n                  <div class=\"col-md-12\">\n                    <h6 style=\"font-weight: 700\">\n                      Select from our popular payment options below\n                    </h6>\n                  </div>\n                  <div class=\"col-md-3 payment-card\">\n                    <h6 style=\"font-weight: 700\">Bank Payment</h6>\n                    <img\n                      src=\"@/assets/img/bank-icon.jpeg\"\n                      alt=\"Bank Icon\"\n                      class=\"bank-icon\"\n                    />\n                    <p>Make payments easily using your debit or credit card</p>\n                    <button class=\"btn btn-payment-option\" @click=\"showBankModal\">\n                      Select Option\n                    </button>\n                  </div>\n                  <Modal v-show=\"bankModalVisible\" @close=\"closeModal\">\n                    <template v-slot:header> Debit/Credit Card Details </template>\n\n                    <template v-slot:body>\n                      <div class=\"m-auto w-1/2\">\n                        <p class=\"card-digits absolute flex ml-14 text-2xl text-white font-bold\">\n                          <p class=\"mr-3\">{{ cardNum1 }}</p><p class=\"mr-3\">{{ cardNum2 }}</p><p class=\"mr-3\">{{ cardNum3 }}</p><p >{{ cardNum4 }}</p>\n                        </p>\n                        <p class=\"text-xl text-black absolute ml-14 mt-36 font-bold\">VALID{{cardValidity}}</p>\n                        <img\n                          class=\"debit-card ml-8\"\n                          src=\"@/assets/img/visacard-front.jpeg\"\n                          alt=\"Visa Card\"\n                        />\n                      </div>\n                      <p class=\"mt-4 ml-8\">Enter your card number:</p>\n                      <div\n                        class=\"flex flex-row w-1/4 ml-8 border-2 border-x-0 border-t-0 border-gray-400 focus:border focus:border-x-0 focus:border-t-0 focus:border-gray-400 focus:outline-0\"\n                      >\n                        <div class=\"w-12\">\n                          <input\n                            class=\"w-12 focus:outline-0 pl-1\"\n                            type=\"text\"\n                            maxlength=\"4\"\n                            v-model=\"userCardNumber1\"\n                            ref=\"editCard1\"\n                            id=\"myInput1\"\n                          />\n                        </div>\n                        -\n                        <div class=\"w-12\">\n                          <input\n                            class=\"w-12 focus:outline-0 pl-1\"\n                            type=\"text\"\n                            maxlength=\"4\"\n                            v-model=\"userCardNumber2\"\n                            ref=\"editCard2\"\n                            id=\"myInput2\"\n                            v-on:keyup.delete=\"refocusOnInput1\"\n                          />\n                        </div>\n                        -\n                        <div class=\"w-12\">\n                          <input\n                            class=\"w-12 focus:outline-0 pl-1\"\n                            type=\"text\"\n                            maxlength=\"4\"\n                            v-model=\"userCardNumber3\"\n                            ref=\"editCard3\"\n                            id=\"myInput3\"\n                            v-on:keyup.delete=\"refocusOnInput2\"\n                          />\n                        </div>\n                        -\n                        <div class=\"w-12\">\n                          <input\n                            class=\"w-12 focus:outline-0 pl-1\"\n                            type=\"text\"\n                            maxlength=\"4\"\n                            v-model=\"userCardNumber4\"\n                            ref=\"editCard4\"\n                            id=\"myInput4\"\n                            v-on:keyup.delete=\"refocusOnInput3\"\n                          />\n                        </div>\n                      </div>\n                      <p class=\"ml-8 mt-2\">Expiration date:</p>\n                      <input\n                        class=\"ml-8 border-2 border-x-0 border-t-0 border-gray-400 focus:border focus:border-x-0 focus:border-t-0 focus:border-gray-400 focus:outline-0\"\n                        type=\"text\"\n                      />\n                      <p class=\"ml-8 mt-2\">Security code:</p>\n                      <input\n                        class=\"ml-8 border-2 border-x-0 border-t-0 border-gray-400 focus:border focus:border-x-0 focus:border-t-0 focus:border-gray-400 focus:outline-0\"\n                        type=\"text\"\n                      />\n                    </template>\n                    <template v-slot:footer>\n                      Thank you for doing business with us.\n                    </template>\n                  </Modal>\n                  <div class=\"col-md-3 payment-card\">\n                    <h6 style=\"font-weight: 700\">Lipa Na M-pesa</h6>\n                    <img src=\"@/assets/img/mpesa.jpeg\" alt=\"M-Pesa\" class=\"mpesa-icon\" />\n                    <p>Make payments easily and efficiently using your M-pesa account</p>\n                    <button class=\"btn btn-payment-option\">Select Option</button>\n                  </div>\n                  <div class=\"col-md-3 payment-card\">\n                    <h6 style=\"font-weight: 700\">PayPal</h6>\n                    <img\n                      src=\"@/assets/img/paypal-icon.png\"\n                      alt=\"PayPal\"\n                      class=\"paypal-icon\"\n                    />\n                    <p>Make payments easily and efficiently using your PayPal account</p>\n                    <button class=\"btn btn-payment-option\">Select Option</button>\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"tab-pane fade\"\n                id=\"address-tab\"\n                role=\"tabpanel\"\n                aria-labelledby=\"address-nav\"\n              >\n                <h4>Address</h4>\n                <div class=\"row\">\n                  <div class=\"col-md-6\">\n                    <h5>Payment Address</h5>\n                    <p>123 Payment Street, Los Angeles, CA</p>\n                    <p>Mobile: 012-345-6789</p>\n                    <button class=\"btn\">Edit Address</button>\n                  </div>\n                  <div class=\"col-md-6\">\n                    <h5>Shipping Address</h5>\n                    <p>123 Shipping Street, Los Angeles, CA</p>\n                    <p>Mobile: 012-345-6789</p>\n                    <button class=\"btn\" @click=\"showShippingAddress()\">\n                      Edit Address\n                    </button>\n                  </div>\n                </div>\n                <br /><br />\n                <div class=\"shipping-address\" v-if=\"shippingAddress\">\n                  <h2>Shipping Address</h2>\n                  <div class=\"row\">\n                    <div class=\"col-md-6\">\n                      <label>First Name</label>\n                      <input class=\"form-control\" type=\"text\" placeholder=\"First Name\" />\n                    </div>\n                    <div class=\"col-md-6\">\n                      <label>Last Name</label>\n                      <input class=\"form-control\" type=\"text\" placeholder=\"Last Name\" />\n                    </div>\n                    <div class=\"col-md-6\">\n                      <label>E-mail</label>\n                      <input class=\"form-control\" type=\"text\" placeholder=\"E-mail\" />\n                    </div>\n                    <div class=\"col-md-6\">\n                      <label>Mobile No</label>\n                      <input class=\"form-control\" type=\"text\" placeholder=\"Mobile No\" />\n                    </div>\n                    <div class=\"col-md-12\">\n                      <label>Address</label>\n                      <input class=\"form-control\" type=\"text\" placeholder=\"Address\" />\n                    </div>\n                    <div class=\"col-md-6\">\n                      <label>Country</label>\n                      <select class=\"custom-select\">\n                        <option selected>Kenya</option>\n                        <option>Tanzania</option>\n                        <option>Uganda</option>\n                        <option>Rwanda</option>\n                      </select>\n                    </div>\n                    <div class=\"col-md-6\">\n                      <label>City</label>\n                      <input class=\"form-control\" type=\"text\" placeholder=\"City\" />\n                    </div>\n                    <div class=\"col-md-6\">\n                      <label>County</label>\n                      <input class=\"form-control\" type=\"text\" placeholder=\"County\" />\n                    </div>\n                    <div class=\"col-md-6\">\n                      <label>ZIP Code</label>\n                      <input class=\"form-control\" type=\"text\" placeholder=\"ZIP Code\" />\n                    </div>\n                    <div class=\"col-md-12\">\n                      <button class=\"btn\">Save Changes</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"tab-pane fade\"\n                id=\"account-tab\"\n                role=\"tabpanel\"\n                aria-labelledby=\"account-nav\"\n              >\n                <h4>Account Details</h4>\n                <form action=\"\" @submit.prevent=\"postProfileData\">\n                  <div class=\"row\">\n                    <div class=\"col-md-6\">\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"First Name\"\n                        v-model=\"first_name\"\n                        :style=\"{ borderColor: fnStyle, borderWidth: bWidth + 'px' }\"\n                      />\n                      <span\n                        v-if=\"watcherMsg.first_name\"\n                        :style=\"{ color: fnStyle, fontSize: 10 + 'px' }\"\n                        >{{ watcherMsg.first_name }}</span\n                      >\n                    </div>\n                    <div class=\"col-md-6\">\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"Last Name\"\n                        v-model=\"last_name\"\n                        :style=\"{ borderColor: lnStyle, borderWidth: bWidth + 'px' }\"\n                      />\n                      <span\n                        v-if=\"watcherMsg.last_name\"\n                        :style=\"{ color: lnStyle, fontSize: 10 + 'px' }\"\n                        >{{ watcherMsg.last_name }}</span\n                      >\n                    </div>\n                    <div class=\"col-md-6\">\n                      <input\n                        class=\"form-control\"\n                        type=\"email\"\n                        placeholder=\"Email\"\n                        v-model=\"email\"\n                        disabled=\"true\"\n                      />\n                    </div>\n                    <div class=\"col-md-6\">\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"Mobile\"\n                        v-model=\"phone_number\"\n                        :style=\"{ borderColor: nStyle, borderWidth: bWidth + 'px' }\"\n                      />\n                      <span\n                        v-if=\"watcherMsg.phone_number\"\n                        :style=\"{ color: nStyle, fontSize: 10 + 'px' }\"\n                        >{{ watcherMsg.phone_number }}</span\n                      >\n                    </div>\n                    <div class=\"col-md-6\">\n                      <select\n                        name=\"gender\"\n                        class=\"form-control\"\n                        v-model=\"gender\"\n                        :style=\"{ borderColor: gStyle, borderWidth: bWidth + 'px' }\"\n                      >\n                        <option value=\"\" disabled=\"true\">--Select your Gender--</option>\n                        <option value=\"Male\">Male</option>\n                        <option value=\"Female\">Female</option>\n                        <option value=\"Other\">Other</option>\n                      </select>\n                    </div>\n                    <div class=\"col-md-6\">\n                      <input\n                        class=\"form-control\"\n                        type=\"date\"\n                        placeholder=\"Date of Birth\"\n                        v-model=\"birthdate\"\n                        :style=\"{ borderColor: dStyle, borderWidth: bWidth + 'px' }\"\n                      />\n                    </div>\n                    <div class=\"col-md-6\">\n                      <select\n                        name=\"city\"\n                        class=\"form-control\"\n                        v-model=\"city\"\n                        :style=\"{ borderColor: cStyle, borderWidth: bWidth + 'px' }\"\n                      >\n                        <option value=\"\" disabled=\"true\">--Select your City--</option>\n                        <option value=\"Nairobi\">Nairobi</option>\n                        <option value=\"Kisumu\">Kisumu</option>\n                        <option value=\"Mombasa\">Mombasa</option>\n                        <option value=\"Nakuru\">Nakuru</option>\n                      </select>\n                    </div>\n                    <div class=\"col-md-6\">\n                      <select\n                        name=\"county\"\n                        class=\"form-control\"\n                        v-model=\"county\"\n                        :style=\"{ borderColor: ccStyle, borderWidth: bWidth + 'px' }\"\n                      >\n                        <option value=\"\" disabled=\"true\">--Select your County--</option>\n                        <option value=\"Siaya\">Siaya</option>\n                        <option value=\"Kisumu\">Kisumu</option>\n                        <option value=\"Nairobi\">Nairobi</option>\n                        <option value=\"Mombasa\">Mombasa</option>\n                      </select>\n                    </div>\n                    <div class=\"col-md-12\">\n                      <input\n                        class=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"Address\"\n                        v-model=\"address\"\n                        :style=\"{ borderColor: aStyle, borderWidth: bWidth + 'px' }\"\n                      />\n                      <span\n                        v-if=\"watcherMsg.address\"\n                        :style=\"{ color: aStyle, fontSize: 10 + 'px' }\"\n                        >{{ watcherMsg.address }}</span\n                      >\n                    </div>\n                    <div class=\"col-md-12 notification is-danger\" v-if=\"errors.length\">\n                      <p style=\"color: red\" v-for=\"error in errors\" v-bind:key=\"error\">\n                        {{ error }}\n                      </p>\n                    </div>\n                    <div class=\"col-md-12\">\n                      <button class=\"btn\">Update Account</button>\n                      <br /><br />\n                    </div>\n                  </div>\n                </form>\n                <h4>Password change</h4>\n                <form action=\"\" @submit.prevent=\"changePassword\">\n                  <div class=\"row\">\n                    <div class=\"col-md-12\">\n                      <input\n                        class=\"form-control\"\n                        type=\"password\"\n                        placeholder=\"Current Password\"\n                        v-model=\"currentPassword\"\n                      />\n                    </div>\n                    <div class=\"col-md-6\">\n                      <input\n                        class=\"form-control\"\n                        :type=\"passType ? 'text' : 'password'\"\n                        placeholder=\"New Password\"\n                        v-model=\"newPassword\"\n                      />\n                      <button type=\"button\" class=\"show-password\" @click=\"showPassword()\">\n                        <i class=\"fa fa-eye-slash\" v-if=\"!passType\"></i>\n                        <i class=\"fa fa-eye\" v-else></i>\n                      </button>\n                      <span\n                        v-if=\"watcherMsg.newPassword\"\n                        style=\"color: red; font-size: 10px\"\n                        >{{ watcherMsg.newPassword }}</span\n                      >\n                    </div>\n                    <div class=\"col-md-6\">\n                      <input\n                        class=\"form-control\"\n                        :type=\"pass2Type ? 'text' : 'password'\"\n                        placeholder=\"Confirm Password\"\n                        v-model=\"newPassword2\"\n                      />\n                      <button\n                        type=\"button\"\n                        class=\"show-password\"\n                        @click=\"showPassword2()\"\n                      >\n                        <i class=\"fa fa-eye-slash\" v-if=\"!pass2Type\"></i>\n                        <i class=\"fa fa-eye\" v-else></i>\n                      </button>\n                      <span\n                        v-if=\"watcherMsg.newPassword2\"\n                        style=\"color: red; font-size: 10px\"\n                        >{{ watcherMsg.newPassword2 }}</span\n                      >\n                    </div>\n                    <div class=\"col-md-12\">\n                      <button class=\"btn\">Save Changes</button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- My Account End -->\n  </div>\n</template>\n\n<script>\nimport Modal from \"@/components/Modal.vue\";\nimport Pagination from \"@/components/Pagination.vue\";\nimport DoughnutChart from \"@/components/DoughnutChart.vue\";\n\nexport default {\n  props: [\"getUserDetails\", \"userDetails\"],\n  components: {\n    Modal,\n    Pagination,\n    DoughnutChart,\n  },\n  data() {\n    return {\n      id: \"\",\n      first_name: \"\",\n      last_name: \"\",\n      email: \"\",\n      phone_number: \"\",\n      birthdate: \"\",\n      address: \"\",\n      county: \"\",\n      city: \"\",\n      gender: \"\",\n      errors: [],\n      myOrders: [],\n      myOrderDetails: [],\n      isModalVisible: false,\n      isPayModalVisible: false,\n      bankModalVisible: false,\n      paymentModalVisible: false,\n      lipaNaMpesa: false,\n      currentPage: 1,\n      totalItems: 0,\n      itemsPerPage: 2,\n      totalPages: 0,\n      start: 1,\n      limit: 2,\n      watcherMsg: [],\n      fnStyle: null,\n      lnStyle: null,\n      nStyle: null,\n      gStyle: null,\n      bWidth: null,\n      dStyle: null,\n      cStyle: null,\n      ccStyle: null,\n      aStyle: null,\n      pStyle: null,\n      p2Style: null,\n      rfStyle: null,\n      payment_number: \"\",\n      payment_number2: \"\",\n      mpesaRefs: [],\n      mpesaRef: \"\",\n      paymentConfirm: false,\n      myOrderID: \"\",\n      pageOfItems: [],\n      shippingAddress: false,\n      currentPassword: \"\",\n      newPassword: \"\",\n      newPassword2: \"\",\n      showPass: false,\n      passType: false,\n      showPass2: false,\n      pass2Type: false,\n      orderTotal: 0,\n      userCardNumber1: \"\",\n      userCardNumber2: \"\",\n      userCardNumber3: \"\",\n      userCardNumber4: \"\",\n      cardValidity: \"\",\n    };\n  },\n  watch: {\n    first_name(value) {\n      this.first_name = value;\n      this.validateFirstName(value);\n    },\n    last_name(value) {\n      this.last_name = value;\n      this.validateLastName(value);\n    },\n    phone_number(value) {\n      this.phone_number = value;\n      this.validatePhoneNumber(value);\n    },\n    gender(value) {\n      this.gender = value;\n      this.validateGender(value);\n    },\n    birthdate(value) {\n      this.birthdate = value;\n      this.validateBirthdate(value);\n    },\n    city(value) {\n      this.city = value;\n      this.validateCity(value);\n    },\n    county(value) {\n      this.county = value;\n      this.validateCounty(value);\n    },\n    address(value) {\n      this.address = value;\n      this.validateAddress(value);\n    },\n    payment_number(value) {\n      this.payment_number = value;\n      this.validatePaymentNumber(value);\n    },\n    payment_number2(value) {\n      this.payment_number2 = value;\n      this.confirmPaymentNumber(value);\n    },\n    mpesaRef(value) {\n      this.mpesaRef = value;\n      this.validatePaymentRef(value);\n    },\n    newPassword2(value) {\n      this.newPassword2 = value;\n      this.validatePassword2(value);\n    },\n    newPassword(value) {\n      this.newPassword = value;\n      this.validateNewPassword(value);\n    },\n    userCardNumber1(value){\n      this.userCardNumber1 = value;\n      this.focusOnInput2(value);\n    },\n    userCardNumber2(value){\n      this.userCardNumber2 = value;\n      this.focusOnInput3(value);\n      this.refocusOnInput1(value);\n    },\n    userCardNumber3(value){\n      this.userCardNumber3 = value;\n      this.focusOnInput4(value);\n      this.refocusOnInput2(value);\n    },\n    userCardNumber4(value){\n      this.userCardNumber4 = value;\n      this.refocusOnInput3(value);\n    },\n  },\n  computed: {\n    orderItemTotal() {\n      let itemTotal = [];\n      for (let i = 0; i < this.myOrderDetails.items.length; i++) {\n        let lineTotal = (\n          this.myOrderDetails.items[i].quantity *\n          this.myOrderDetails.items[i].product.price\n        ).toFixed(2);\n        itemTotal.push(lineTotal);\n      }\n      return itemTotal;\n    },\n    cardNum1() {\n      return this.userCardNumber1;\n    },\n    cardNum2() {\n      return this.userCardNumber2;\n    },\n    cardNum3() {\n      return this.userCardNumber3;\n    },\n    cardNum4() {\n      return this.userCardNumber4;\n    },\n  },\n  methods: {\n    focusOnInput2(value) {\n      const editInput2 = this.$refs.editCard2;\n      if(value.length == 4){\n        editInput2.focus();\n      }\n    },\n    focusOnInput3(value) {\n      const editInput3 = this.$refs.editCard3;\n      if(value.length == 4){\n        editInput3.focus();\n      }\n    },\n    focusOnInput4(value) {\n      const editInput4 = this.$refs.editCard4;\n      if(value.length == 4){\n        editInput4.focus();\n      }\n    },\n    refocusOnInput3(value) {\n      const editInput3 = this.$refs.editCard3;\n      if(value.length == 0){\n        editInput3.focus();\n      }\n    },\n    refocusOnInput2(value) {\n      const editInput2 = this.$refs.editCard2;\n      if(value.length == 0){\n        editInput2.focus();\n      }\n    },refocusOnInput1(value) {\n      const editInput1 = this.$refs.editCard1;\n      if(value.length == 0){\n        editInput1.focus();\n      }\n    },\n    validateFirstName(value) {\n      if (value.length == 0) {\n        this.watcherMsg[\"first_name\"] = \"\";\n        this.fnStyle = \"\";\n        this.bWidth = 1;\n      } else {\n        if (value.length > 0 && value.length < 3) {\n          this.watcherMsg[\"first_name\"] = \"Name is too short\";\n          this.fnStyle = \"red\";\n          this.bWidth = 2;\n        } else {\n          if (/\\d/.test(value)) {\n            this.watcherMsg[\"first_name\"] = \"Name should not contain a number\";\n            this.fnStyle = \"red\";\n            this.bWidth = 2;\n          } else {\n            this.watcherMsg[\"first_name\"] = \"\";\n            this.fnStyle = \"green\";\n            this.bWidth = 2;\n          }\n        }\n      }\n    },\n    validateLastName(value) {\n      if (value.length == 0) {\n        this.watcherMsg[\"last_name\"] = \"\";\n        this.lnStyle = \"\";\n        this.bWidth = 1;\n      } else {\n        if (value.length > 0 && value.length < 3) {\n          this.watcherMsg[\"last_name\"] = \"Name is too short\";\n          this.lnStyle = \"red\";\n          this.bWidth = 2;\n        } else {\n          if (/\\d/.test(value)) {\n            this.watcherMsg[\"last_name\"] = \"Name should not contain a number\";\n            this.lnStyle = \"red\";\n            this.bWidth = 2;\n          } else {\n            this.watcherMsg[\"last_name\"] = \"\";\n            this.lnStyle = \"green\";\n            this.bWidth = 2;\n          }\n        }\n      }\n    },\n    validatePhoneNumber(value) {\n      if (value == \"\") {\n        this.nStyle = \"\";\n        this.watcherMsg[\"phone_number\"] = \"\";\n      } else {\n        if (\n          /^(?:254|\\+254|0)?((?:(?:7(?:(?:[01249][0-9])|(?:5[789])|(?:6[89])))|(?:1(?:[1][0-5])))[0-9]{6})$/.test(\n            value\n          ) ||\n          /^(?:254|\\+254|0)?((?:(?:7(?:(?:3[0-9])|(?:5[0-6])|(8[5-9])))|(?:1(?:[0][0-2])))[0-9]{6})$/.test(\n            value\n          )\n        ) {\n          this.nStyle = \"green\";\n          this.watcherMsg[\"phone_number\"] = \"\";\n          this.bWidth = 2;\n        } else {\n          this.nStyle = \"red\";\n          this.watcherMsg[\"phone_number\"] = \"Invalid Phone Number\";\n          this.bWidth = 2;\n        }\n      }\n    },\n    validateGender(value) {\n      if (value != \"\") {\n        this.gStyle = \"green\";\n        this.bWidth = 2;\n      }\n    },\n    validateBirthdate(value) {\n      if (value != \"\") {\n        this.bStyle = \"green\";\n        this.bWidth = 2;\n      }\n    },\n    validateCity(value) {\n      if (value != \"\") {\n        this.cStyle = \"green\";\n        this.bWidth = 2;\n      }\n    },\n    validateCounty(value) {\n      if (value != \"\") {\n        this.ccStyle = \"green\";\n        this.bWidth = 2;\n      }\n    },\n    validateAddress(value) {\n      if (value.length == 0) {\n        this.aStyle = \"\";\n        this.watcherMsg[\"address\"] = \"\";\n      } else {\n        if (value.length > 0 && value.length < 3) {\n          this.watcherMsg[\"address\"] = \"Address is too short\";\n          this.aStyle = \"red\";\n          this.bWidth = 2;\n        } else {\n          if (value != \"\" && value.length > 3) {\n            this.aStyle = \"green\";\n            this.bWidth = 2;\n            this.watcherMsg[\"address\"] = \"\";\n          }\n        }\n      }\n    },\n    validatePaymentNumber(value) {\n      if (value == \"\") {\n        this.watcherMsg[\"payment_number\"] = \"\";\n        this.pStyle = \"\";\n        this.bWidth = 1;\n      } else {\n        if (\n          /^(?:254)?((?:(?:7(?:(?:[01249][0-9])|(?:5[789])|(?:6[89])))|(?:1(?:[1][0-5])))[0-9]{6})$/.test(\n            value\n          )\n        ) {\n          this.watcherMsg[\"payment_number\"] = \"\";\n          this.pStyle = \"green\";\n          this.bWidth = 2;\n        } else {\n          this.watcherMsg[\"payment_number\"] = \"Invalid Phone Number\";\n          this.pStyle = \"red\";\n          this.bWidth = 2;\n        }\n      }\n    },\n    confirmPaymentNumber(value) {\n      if (value == \"\") {\n        this.watcherMsg[\"payment_number2\"] = \"\";\n        this.p2Style = \"\";\n        this.bWidth = 1;\n      } else {\n        if (value == this.payment_number) {\n          this.watcherMsg[\"payment_number2\"] = \"\";\n          this.p2Style = \"green\";\n          this.bWidth = 2;\n        } else {\n          this.watcherMsg[\"payment_number2\"] = \"Invalid Phone Number\";\n          this.p2Style = \"red\";\n          this.bWidth = 2;\n        }\n      }\n    },\n    validatePaymentRef(value) {\n      if (value.length == 0) {\n        this.watcherMsg[\"mpesaRef\"] = \"\";\n        this.rfStyle = \"\";\n        this.bWidth = 1;\n      } else {\n        if (value.length > 0 && value.length < 10) {\n          this.rfStyle = \"red\";\n          this.watcherMsg[\"mpesaRef\"] = \"Incomplete Reference Number\";\n          this.bWidth = 2;\n        } else {\n          if (/^[A-Z0-9]$/.test(value)) {\n            this.rfStyle = \"green\";\n            this.watcherMsg[\"mpesaRef\"] = \"\";\n            this.bWidth = 2;\n          }\n        }\n      }\n    },\n    validateNewPassword(value) {\n      if (value.length == \"\") {\n        this.watcherMsg[\"newPassword\"] = \"\";\n      } else {\n        if (value.length > 0 && value.length < 8) {\n          this.watcherMsg[\"newPassword\"] = \"Password is too short\";\n        } else {\n          this.watcherMsg[\"newPassword\"] = \"\";\n        }\n      }\n    },\n    validatePassword2(value) {\n      if (value == this.newPassword) {\n        this.watcherMsg[\"newPassword2\"] = \"\";\n      } else {\n        this.watcherMsg[\"newPassword2\"] = \"Passwords do not match\";\n      }\n    },\n    onChangePage(pageOfItems) {\n      // update page of items\n      this.pageOfItems = pageOfItems;\n    },\n    postProfileData() {\n      this.errors = [];\n      if (\n        this.first_name === \"\" &&\n        this.last_name === \"\" &&\n        this.birthdate === \"\" &&\n        this.gender === \"\" &&\n        this.city === \"\" &&\n        this.county === \"\" &&\n        this.address === \"\"\n      ) {\n        this.errors.push(\"Please fill in the details!\");\n      } else {\n        if (\n          this.first_name === \"\" ||\n          this.last_name === \"\" ||\n          this.birthdate === \"\" ||\n          this.gender === \"\" ||\n          this.city === \"\" ||\n          this.county === \"\" ||\n          this.address === \"\"\n        ) {\n          this.errors.push(\"Some details are missing!\");\n        }\n      }\n      if (!this.errors.length) {\n        let formData = {\n          first_name: this.first_name,\n          last_name: this.last_name,\n          birthdate: this.birthdate,\n          address: this.address,\n          county: this.county,\n          city: this.city,\n          gender: this.gender,\n          phone_number: this.phone_number,\n          email: this.email,\n        };\n        this.axios\n          .put(\"/api/v1/user-list/\" + this.id + \"/\", formData)\n          .then((response) => {\n            this.$toast.success(\"Profile Succesfully Updated\", {\n              duration: 5000,\n              dismissible: true,\n            });\n            this.fnStyle = \"\";\n            this.lnStyle = \"\";\n            this.gStyle = \"\";\n            this.cStyle = \"\";\n            this.ccStyle = \"\";\n            this.aStyle = \"\";\n            this.$router.push(\"/my-account\");\n          })\n          .catch((error) => {\n            console.log(error);\n          })\n          .finally(() => {\n            (this.fnStyle = null), (this.lnStyle = null);\n            this.nStyle = null;\n            this.gStyle = null;\n            this.bWidth = null;\n            this.dStyle = null;\n            this.cStyle = null;\n            this.ccStyle = null;\n            this.aStyle = null;\n            this.pStyle = null;\n            this.p2Style = null;\n          });\n      }\n    },\n    changePassword() {\n      let formData = {\n        password: this.newPassword,\n      };\n      this.axios\n        .patch(\"/api/v1/users/me/\", formData)\n        .then((response) => {\n          console.log(response.data);\n          this.$toast.success(\"Password Changed Succesfully\");\n          this.newPassword = \"\";\n          this.newPassword2 = \"\";\n          this.curreentPassword = \"\";\n          this.$store.commit(\"removeToken\");\n          const token = this.$store.state.token;\n          localStorage.setItem(\"token\", token);\n          this.$router.push(\"/login\");\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    getProfileDetails() {\n      this.axios\n        .get(\"/api/v1/users/me/\")\n        .then((response) => {\n          this.phone_number = response.data.phone_number;\n          this.email = response.data.email;\n          this.id = response.data.id;\n          this.first_name = response.data.first_name;\n          this.last_name = response.data.last_name;\n          this.gender = response.data.gender;\n          this.city = response.data.city;\n          this.county = response.data.county;\n          this.birthdate = response.data.birthdate;\n          this.address = response.data.address;\n          this.currentPassword = response.data.password;\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        .finally(() => {\n          (this.fnStyle = null), (this.lnStyle = null);\n          this.nStyle = null;\n          this.gStyle = null;\n          this.bWidth = null;\n          this.dStyle = null;\n          this.cStyle = null;\n          this.ccStyle = null;\n          this.aStyle = null;\n          this.pStyle = null;\n          this.p2Style = null;\n        });\n    },\n    getMpesaPayments() {\n      this.mpesaRefs = [];\n      this.axios\n        .get(\"api/v1/mpesa-payments/\")\n        .then((response) => {\n          for (let i = 0; i < response.data.length; i++) {\n            let trans_id = response.data[i].transaction_id;\n            this.mpesaRefs.push(trans_id);\n          }\n          this.isPayModalVisible = true;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    confirmPayment() {\n      if (this.mpesaRefs.includes(this.mpesaRef)) {\n        let formData = {\n          paid: true,\n          payment_reference: this.mpesaRef,\n        };\n        this.axios\n          .patch(`/api/v1/my-orders/${this.myOrderID}/`, formData)\n          .then((response) => {\n            this.$toast.success(\"Payment Confirmation Succesful\", {\n              duration: 3000,\n            });\n            this.mpesaRef = \"\";\n            this.payment_number2 = \"\";\n            this.$router.push(\"/my-account\");\n            this.$store.commit(\"reloadingPage\");\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      } else {\n        this.$toast.error(\"Invalid Reference Number\", {\n          duration: 3000,\n        });\n      }\n    },\n    showClientOrders() {\n      this.axios\n        .get(\"api/v1/my-orders/\")\n        .then((response) => {\n          this.myOrders = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    showModal() {\n      this.isModalVisible = true;\n\n      let orderID = arguments[0];\n      this.axios\n        .get(`/api/v1/my-orders/${orderID}/`)\n        .then((response) => {\n          this.myOrderDetails = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    showPaymentModal() {\n      this.paymentModalVisible = true;\n      let orderID = arguments[0];\n      this.axios\n        .get(`/api/v1/my-orders/${orderID}/`)\n        .then((response) => {\n          this.myOrderID = orderID;\n          console.log(response.data);\n          this.orderTotal = Math.round(response.data.order_total);\n          console.log(this.orderTotal);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    showBankModal() {\n      this.bankModalVisible = true;\n    },\n    closeModal() {\n      this.isModalVisible = false;\n      this.paymentModalVisible = false;\n      this.bankModalVisible = false;\n    },\n    showLipaNaMpesa() {\n      this.lipaNaMpesa = !this.lipaNaMpesa;\n    },\n    showShippingAddress() {\n      this.shippingAddress = true;\n    },\n    payViaMpesa() {\n      this.paymentConfirm = true;\n      this.errors = [];\n      if (this.payment_number === \"\") {\n        this.errors.push(\"Please enter phone number\");\n        this.$toast.error(\"Invalid phone number\", {\n          duration: 3000,\n        });\n      }\n      if (!this.errors.length && this.pStyle == \"green\") {\n        let formData = {\n          payment_number: this.payment_number,\n          first_name: this.first_name,\n          orderTotal: this.orderTotal,\n        };\n        this.axios\n          .post(\"/api/v1/online/lipa/\", formData)\n          .then((response) => {\n            console.log(response.data);\n            this.paymentConfirm = true;\n          })\n          .catch((error) => {\n            console.log(error);\n          })\n          .finally(() => {});\n      }\n    },\n    showPassword() {\n      if (!this.showPass) {\n        this.showPass = true;\n        this.passType = true;\n      } else {\n        this.showPass = false;\n        this.passType = false;\n      }\n    },\n    showPassword2() {\n      if (!this.showPass2) {\n        this.showPass2 = true;\n        this.pass2Type = true;\n      } else {\n        this.showPass2 = false;\n        this.pass2Type = false;\n      }\n    },\n    printOrder() {\n      let orderID = arguments[0];\n      this.axios\n        .get(`api/v1/view_pdf/${orderID}/`)\n        .then((response) => {\n          console.log(response);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n  beforeMount() {},\n  mounted() {\n    this.getProfileDetails();\n    this.showClientOrders();\n\n    paypal\n      .Buttons({\n        //Styling the paypal button\n        style: {\n          color: \"blue\",\n          shape: \"pill\",\n          label: \"pay\",\n          height: 40,\n        },\n        // Sets up the transaction when a payment button is clicked\n        createOrder: (data, actions) => {\n          return actions.order.create({\n            purchase_units: [\n              {\n                amount: {\n                  // value: this.cartTotalUSD // Can also reference a variable or function\n                  value: 0.01,\n                },\n              },\n            ],\n          });\n        },\n        // Finalize the transaction after payer approval\n        onApprove: (data, actions) => {\n          const my_action = actions.order.capture().then(function (orderData) {\n            // Successful capture! For dev/demo purposes:\n            console.log(\"Capture result\", orderData, JSON.stringify(orderData, null, 2));\n\n            const transaction = orderData.purchase_units[0].payments.captures[0];\n            alert(\n              `Transaction ${transaction.status}: ${transaction.id}\\n\\nSee console for all available details`\n            );\n\n            // this.placeOrder();\n            // When ready to go live, remove the alert and show a success message within this page. For example:\n            // const element = document.getElementById('paypal-button-container');\n            // element.innerHTML = '<h3>Thank you for your payment!</h3>';\n            // Or go to another URL:  actions.redirect('thank_you.html');\n          });\n          return my_action;\n        },\n      })\n      .render(\"#paypal-button-container\");\n  },\n};\n</script>\n\n<style scoped>\ninput {\n  font-weight: 300;\n  color: black;\n}\nselect {\n  font-weight: 300;\n  color: black;\n}\n.empty-order-list {\n  text-align: center;\n  font-size: 20px;\n  font-weight: bold;\n  margin: 20px;\n}\n.emoji {\n  font-size: 36px;\n  font-style: normal;\n}\n.lipanampesa {\n  width: 95%;\n  height: 40px;\n  padding: 2px 10px;\n  font-family: \"Source Code Pro\", monospace;\n  font-weight: 700;\n  font-size: 18px;\n  text-align: center;\n  color: #000000;\n  background: #228b22;\n  border: none;\n  transition: all 0.3s;\n  margin-bottom: 20px;\n  border-radius: 20px;\n}\n.lipanampesa:hover {\n  background-color: black;\n  color: green;\n}\n.procPayBtn {\n  margin: 20px;\n  color: #228b22;\n  background-color: black;\n  border: none;\n  border-radius: 4px;\n  transition: all 0.3s;\n  font-weight: 700;\n  font-size: 18px;\n}\n.procPayBtn:hover {\n  color: white;\n  background-color: green;\n}\n.payment-card {\n  background-color: white;\n  margin-left: 20px;\n  margin-bottom: 30px;\n  margin-top: 20px;\n  align-items: center;\n  padding-bottom: 20px;\n}\n.bank-icon {\n  background-color: #f3f6ff;\n  width: 100px;\n  height: 100px;\n  margin-bottom: 20px;\n}\n.paypal-icon {\n  height: 100px;\n  width: 100%;\n  margin-bottom: 20px;\n}\n.mpesa-icon {\n  height: 50px;\n  margin-top: 50px;\n  margin-bottom: 20px;\n}\n.payment-row {\n  background-color: #f3f6ff;\n  margin-top: 20px;\n}\n.btn-payment-option {\n  margin-top: 30px;\n}\n.myorders-page .table .img {\n  display: flex;\n  align-items: center;\n}\n\n.myorders-page .table .img img {\n  max-width: 60px;\n  max-height: 60px;\n  margin-right: 15px;\n}\n\n.myorders-page .table .img p {\n  display: inline-block;\n  text-align: left;\n  margin: 0;\n}\n.show-password {\n  float: right;\n  margin-top: -50px;\n  position: relative;\n  z-index: 1;\n  cursor: pointer;\n  height: 35px;\n  border: 0px;\n  background-color: inherit;\n  color: grey;\n}\n.show-password:focus {\n  outline: none;\n}\n.show-password:hover {\n  color: black !important;\n}\n.order-id-link {\n  text-decoration: underline;\n}\n.order-id-link:hover {\n  color: #ff6f61;\n  text-decoration: underline;\n  cursor: pointer;\n}\n.debit-card{\n  height: 200px;\n}\n.card-digits{\n  margin-top: 100px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}